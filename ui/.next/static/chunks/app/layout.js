/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/layout"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-core%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22CopilotKit%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-ui%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-core%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22CopilotKit%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-ui%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/@copilotkit/react-core/dist/index.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/index.mjs\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(app-pages-browser)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/@copilotkit/react-ui/dist/index.css */ \"(app-pages-browser)/./node_modules/@copilotkit/react-ui/dist/index.css\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/globals.css */ \"(app-pages-browser)/./src/app/globals.css\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZhcHBsZSUyRkRlc2t0b3AlMkZBZWxmJTIwUHJvamVjdHMlMkZhZWxmLWNvZGUtZ2VuZXJhdG9yJTJGbm9kZV9tb2R1bGVzJTJGJTQwY29waWxvdGtpdCUyRnJlYWN0LWNvcmUlMkZkaXN0JTJGaW5kZXgubWpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQ29waWxvdEtpdCUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFwcGxlJTJGRGVza3RvcCUyRkFlbGYlMjBQcm9qZWN0cyUyRmFlbGYtY29kZS1nZW5lcmF0b3IlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZm9udCUyRmdvb2dsZSUyRnRhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyc3JjJTJGYXBwJTJGbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTdEJTVEJTJDJTVDJTIydmFyaWFibGVOYW1lJTVDJTIyJTNBJTVDJTIyaW50ZXIlNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZhcHBsZSUyRkRlc2t0b3AlMkZBZWxmJTIwUHJvamVjdHMlMkZhZWxmLWNvZGUtZ2VuZXJhdG9yJTJGbm9kZV9tb2R1bGVzJTJGJTQwY29waWxvdGtpdCUyRnJlYWN0LXVpJTJGZGlzdCUyRmluZGV4LmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFwcGxlJTJGRGVza3RvcCUyRkFlbGYlMjBQcm9qZWN0cyUyRmFlbGYtY29kZS1nZW5lcmF0b3IlMkZzcmMlMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLGtPQUE4SztBQUM5SztBQUNBLDBiQUFnUTtBQUNoUTtBQUNBLDhOQUE0STtBQUM1STtBQUNBLG9LQUErRyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQ29waWxvdEtpdFwiXSAqLyBcIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2luZGV4Lm1qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9uZXh0L2ZvbnQvZ29vZ2xlL3RhcmdldC5jc3M/e1xcXCJwYXRoXFxcIjpcXFwic3JjL2FwcC9sYXlvdXQudHN4XFxcIixcXFwiaW1wb3J0XFxcIjpcXFwiSW50ZXJcXFwiLFxcXCJhcmd1bWVudHNcXFwiOlt7XFxcInN1YnNldHNcXFwiOltcXFwibGF0aW5cXFwiXX1dLFxcXCJ2YXJpYWJsZU5hbWVcXFwiOlxcXCJpbnRlclxcXCJ9XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvaW5kZXguY3NzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivc3JjL2FwcC9nbG9iYWxzLmNzc1wiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-core%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22CopilotKit%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-ui%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/mini-css-extract-plugin/hmr/hotModuleReplacement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/mini-css-extract-plugin/hmr/hotModuleReplacement.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(()=>{\"use strict\";var e={413:(e,r,t)=>{var n=t(916);var i=Object.create(null);var a=typeof document===\"undefined\";var o=Array.prototype.forEach;function debounce(e,r){var t=0;return function(){var n=this;var i=arguments;var a=function functionCall(){return e.apply(n,i)};clearTimeout(t);t=setTimeout(a,r)}}function noop(){}function getCurrentScriptUrl(e){var r=i[e];if(!r){if(document.currentScript){r=document.currentScript.src}else{var t=document.getElementsByTagName(\"script\");var a=t[t.length-1];if(a){r=a.src}}i[e]=r}return function(e){if(!r){return null}var t=r.split(/([^\\\\/]+)\\.js$/);var i=t&&t[1];if(!i){return[r.replace(\".js\",\".css\")]}if(!e){return[r.replace(\".js\",\".css\")]}return e.split(\",\").map((function(e){var t=new RegExp(\"\".concat(i,\"\\\\.js$\"),\"g\");return n(r.replace(t,\"\".concat(e.replace(/{fileName}/g,i),\".css\")))}))}}function updateCss(e,r){if(!r){if(!e.href){return}r=e.href.split(\"?\")[0]}if(!isUrlRequest(r)){return}if(e.isLoaded===false){return}if(!r||!(r.indexOf(\".css\")>-1)){return}e.visited=true;var t=e.cloneNode();t.isLoaded=false;t.addEventListener(\"load\",(function(){if(t.isLoaded){return}t.isLoaded=true;e.parentNode.removeChild(e)}));t.addEventListener(\"error\",(function(){if(t.isLoaded){return}t.isLoaded=true;e.parentNode.removeChild(e)}));t.href=\"\".concat(r,\"?\").concat(Date.now());if(e.nextSibling){e.parentNode.insertBefore(t,e.nextSibling)}else{e.parentNode.appendChild(t)}}function getReloadUrl(e,r){var t;e=n(e,{stripWWW:false});r.some((function(n){if(e.indexOf(r)>-1){t=n}}));return t}function reloadStyle(e){if(!e){return false}var r=document.querySelectorAll(\"link\");var t=false;o.call(r,(function(r){if(!r.href){return}var n=getReloadUrl(r.href,e);if(!isUrlRequest(n)){return}if(r.visited===true){return}if(n){updateCss(r,n);t=true}}));return t}function reloadAll(){var e=document.querySelectorAll(\"link\");o.call(e,(function(e){if(e.visited===true){return}updateCss(e)}))}function isUrlRequest(e){if(!/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(e)){return false}return true}e.exports=function(e,r){if(a){console.log(\"no window.document found, will not HMR CSS\");return noop}var t=getCurrentScriptUrl(e);function update(){var e=t(r.filename);var n=reloadStyle(e);if(r.locals){console.log(\"[HMR] Detected local css modules. Reload all css\");reloadAll();return}if(n){console.log(\"[HMR] css reload %s\",e.join(\" \"))}else{console.log(\"[HMR] Reload all css\");reloadAll()}}return debounce(update,50)}},916:e=>{function normalizeUrl(e){return e.reduce((function(e,r){switch(r){case\"..\":e.pop();break;case\".\":break;default:e.push(r)}return e}),[]).join(\"/\")}e.exports=function(e){e=e.trim();if(/^data:/i.test(e)){return e}var r=e.indexOf(\"//\")!==-1?e.split(\"//\")[0]+\"//\":\"\";var t=e.replace(new RegExp(r,\"i\"),\"\").split(\"/\");var n=t[0].toLowerCase().replace(/\\.$/,\"\");t[0]=\"\";var i=normalizeUrl(t);return r+n+i}}};var r={};function __nccwpck_require__(t){var n=r[t];if(n!==undefined){return n.exports}var i=r[t]={exports:{}};var a=true;try{e[t](i,i.exports,__nccwpck_require__);a=false}finally{if(a)delete r[t]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var t=__nccwpck_require__(413);module.exports=t})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLGFBQWEsT0FBTyxjQUFjLGFBQWEsMEJBQTBCLG9DQUFvQyw4QkFBOEIsdUJBQXVCLFFBQVEsa0JBQWtCLFdBQVcsZ0JBQWdCLDhCQUE4QixxQkFBcUIsZ0JBQWdCLG1CQUFtQixpQkFBaUIsZ0NBQWdDLFdBQVcsT0FBTywyQkFBMkIsNkJBQTZCLEtBQUssOENBQThDLG9CQUFvQixNQUFNLFNBQVMsT0FBTyxtQkFBbUIsT0FBTyxZQUFZLGdDQUFnQyxjQUFjLE9BQU8sZ0NBQWdDLE9BQU8sZ0NBQWdDLHFDQUFxQyw0Q0FBNEMsMkNBQTJDLFNBQVMsZ0JBQWdCLElBQUksd0JBQXdCLE9BQU8sWUFBWSxPQUFPLHVCQUF1QixxQkFBcUIsT0FBTyx1QkFBdUIsT0FBTyxnQ0FBZ0MsT0FBTyxlQUFlLG9CQUFvQixpQkFBaUIsc0NBQXNDLGVBQWUsT0FBTyxnQkFBZ0IsNEJBQTRCLEdBQUcsdUNBQXVDLGVBQWUsT0FBTyxnQkFBZ0IsNEJBQTRCLEdBQUcsMkNBQTJDLGtCQUFrQiwyQ0FBMkMsS0FBSyw2QkFBNkIsMkJBQTJCLE1BQU0sT0FBTyxlQUFlLEVBQUUsb0JBQW9CLG9CQUFvQixLQUFLLEdBQUcsU0FBUyx3QkFBd0IsT0FBTyxhQUFhLHdDQUF3QyxZQUFZLHNCQUFzQixZQUFZLE9BQU8sNkJBQTZCLHFCQUFxQixPQUFPLHFCQUFxQixPQUFPLE1BQU0sZUFBZSxRQUFRLEdBQUcsU0FBUyxxQkFBcUIsd0NBQXdDLHNCQUFzQixxQkFBcUIsT0FBTyxhQUFhLEdBQUcseUJBQXlCLHlDQUF5QyxhQUFhLFlBQVksd0JBQXdCLE1BQU0sMERBQTBELFlBQVksNkJBQTZCLGtCQUFrQixvQkFBb0IscUJBQXFCLGFBQWEsZ0VBQWdFLFlBQVksT0FBTyxNQUFNLCtDQUErQyxLQUFLLG9DQUFvQyxhQUFhLDRCQUE0QixTQUFTLHlCQUF5QiwrQkFBK0IsVUFBVSxpQkFBaUIsTUFBTSxjQUFjLGtCQUFrQixTQUFTLGdCQUFnQixzQkFBc0IsV0FBVyxzQkFBc0IsU0FBUyxvREFBb0QsaURBQWlELDJDQUEyQyxRQUFRLHNCQUFzQixnQkFBZ0IsU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssK0JBQStCLGlCQUFpQiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs0MTM6KGUscix0KT0+e3ZhciBuPXQoOTE2KTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBhPXR5cGVvZiBkb2N1bWVudD09PVwidW5kZWZpbmVkXCI7dmFyIG89QXJyYXkucHJvdG90eXBlLmZvckVhY2g7ZnVuY3Rpb24gZGVib3VuY2UoZSxyKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXM7dmFyIGk9YXJndW1lbnRzO3ZhciBhPWZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbCgpe3JldHVybiBlLmFwcGx5KG4saSl9O2NsZWFyVGltZW91dCh0KTt0PXNldFRpbWVvdXQoYSxyKX19ZnVuY3Rpb24gbm9vcCgpe31mdW5jdGlvbiBnZXRDdXJyZW50U2NyaXB0VXJsKGUpe3ZhciByPWlbZV07aWYoIXIpe2lmKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpe3I9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmN9ZWxzZXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTt2YXIgYT10W3QubGVuZ3RoLTFdO2lmKGEpe3I9YS5zcmN9fWlbZV09cn1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXIpe3JldHVybiBudWxsfXZhciB0PXIuc3BsaXQoLyhbXlxcXFwvXSspXFwuanMkLyk7dmFyIGk9dCYmdFsxXTtpZighaSl7cmV0dXJuW3IucmVwbGFjZShcIi5qc1wiLFwiLmNzc1wiKV19aWYoIWUpe3JldHVybltyLnJlcGxhY2UoXCIuanNcIixcIi5jc3NcIildfXJldHVybiBlLnNwbGl0KFwiLFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBSZWdFeHAoXCJcIi5jb25jYXQoaSxcIlxcXFwuanMkXCIpLFwiZ1wiKTtyZXR1cm4gbihyLnJlcGxhY2UodCxcIlwiLmNvbmNhdChlLnJlcGxhY2UoL3tmaWxlTmFtZX0vZyxpKSxcIi5jc3NcIikpKX0pKX19ZnVuY3Rpb24gdXBkYXRlQ3NzKGUscil7aWYoIXIpe2lmKCFlLmhyZWYpe3JldHVybn1yPWUuaHJlZi5zcGxpdChcIj9cIilbMF19aWYoIWlzVXJsUmVxdWVzdChyKSl7cmV0dXJufWlmKGUuaXNMb2FkZWQ9PT1mYWxzZSl7cmV0dXJufWlmKCFyfHwhKHIuaW5kZXhPZihcIi5jc3NcIik+LTEpKXtyZXR1cm59ZS52aXNpdGVkPXRydWU7dmFyIHQ9ZS5jbG9uZU5vZGUoKTt0LmlzTG9hZGVkPWZhbHNlO3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoZnVuY3Rpb24oKXtpZih0LmlzTG9hZGVkKXtyZXR1cm59dC5pc0xvYWRlZD10cnVlO2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbigpe2lmKHQuaXNMb2FkZWQpe3JldHVybn10LmlzTG9hZGVkPXRydWU7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSkpO3QuaHJlZj1cIlwiLmNvbmNhdChyLFwiP1wiKS5jb25jYXQoRGF0ZS5ub3coKSk7aWYoZS5uZXh0U2libGluZyl7ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUubmV4dFNpYmxpbmcpfWVsc2V7ZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQpfX1mdW5jdGlvbiBnZXRSZWxvYWRVcmwoZSxyKXt2YXIgdDtlPW4oZSx7c3RyaXBXV1c6ZmFsc2V9KTtyLnNvbWUoKGZ1bmN0aW9uKG4pe2lmKGUuaW5kZXhPZihyKT4tMSl7dD1ufX0pKTtyZXR1cm4gdH1mdW5jdGlvbiByZWxvYWRTdHlsZShlKXtpZighZSl7cmV0dXJuIGZhbHNlfXZhciByPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaW5rXCIpO3ZhciB0PWZhbHNlO28uY2FsbChyLChmdW5jdGlvbihyKXtpZighci5ocmVmKXtyZXR1cm59dmFyIG49Z2V0UmVsb2FkVXJsKHIuaHJlZixlKTtpZighaXNVcmxSZXF1ZXN0KG4pKXtyZXR1cm59aWYoci52aXNpdGVkPT09dHJ1ZSl7cmV0dXJufWlmKG4pe3VwZGF0ZUNzcyhyLG4pO3Q9dHJ1ZX19KSk7cmV0dXJuIHR9ZnVuY3Rpb24gcmVsb2FkQWxsKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImxpbmtcIik7by5jYWxsKGUsKGZ1bmN0aW9uKGUpe2lmKGUudmlzaXRlZD09PXRydWUpe3JldHVybn11cGRhdGVDc3MoZSl9KSl9ZnVuY3Rpb24gaXNVcmxSZXF1ZXN0KGUpe2lmKCEvXlthLXpBLVpdW2EtekEtWlxcZCtcXC0uXSo6Ly50ZXN0KGUpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7aWYoYSl7Y29uc29sZS5sb2coXCJubyB3aW5kb3cuZG9jdW1lbnQgZm91bmQsIHdpbGwgbm90IEhNUiBDU1NcIik7cmV0dXJuIG5vb3B9dmFyIHQ9Z2V0Q3VycmVudFNjcmlwdFVybChlKTtmdW5jdGlvbiB1cGRhdGUoKXt2YXIgZT10KHIuZmlsZW5hbWUpO3ZhciBuPXJlbG9hZFN0eWxlKGUpO2lmKHIubG9jYWxzKXtjb25zb2xlLmxvZyhcIltITVJdIERldGVjdGVkIGxvY2FsIGNzcyBtb2R1bGVzLiBSZWxvYWQgYWxsIGNzc1wiKTtyZWxvYWRBbGwoKTtyZXR1cm59aWYobil7Y29uc29sZS5sb2coXCJbSE1SXSBjc3MgcmVsb2FkICVzXCIsZS5qb2luKFwiIFwiKSl9ZWxzZXtjb25zb2xlLmxvZyhcIltITVJdIFJlbG9hZCBhbGwgY3NzXCIpO3JlbG9hZEFsbCgpfX1yZXR1cm4gZGVib3VuY2UodXBkYXRlLDUwKX19LDkxNjplPT57ZnVuY3Rpb24gbm9ybWFsaXplVXJsKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtzd2l0Y2gocil7Y2FzZVwiLi5cIjplLnBvcCgpO2JyZWFrO2Nhc2VcIi5cIjpicmVhaztkZWZhdWx0OmUucHVzaChyKX1yZXR1cm4gZX0pLFtdKS5qb2luKFwiL1wiKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZT1lLnRyaW0oKTtpZigvXmRhdGE6L2kudGVzdChlKSl7cmV0dXJuIGV9dmFyIHI9ZS5pbmRleE9mKFwiLy9cIikhPT0tMT9lLnNwbGl0KFwiLy9cIilbMF0rXCIvL1wiOlwiXCI7dmFyIHQ9ZS5yZXBsYWNlKG5ldyBSZWdFeHAocixcImlcIiksXCJcIikuc3BsaXQoXCIvXCIpO3ZhciBuPXRbMF0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC4kLyxcIlwiKTt0WzBdPVwiXCI7dmFyIGk9bm9ybWFsaXplVXJsKHQpO3JldHVybiByK24raX19fTt2YXIgcj17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKHQpe3ZhciBuPXJbdF07aWYobiE9PXVuZGVmaW5lZCl7cmV0dXJuIG4uZXhwb3J0c312YXIgaT1yW3RdPXtleHBvcnRzOnt9fTt2YXIgYT10cnVlO3RyeXtlW3RdKGksaS5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO2E9ZmFsc2V9ZmluYWxseXtpZihhKWRlbGV0ZSByW3RdfXJldHVybiBpLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciB0PV9fbmNjd3Bja19yZXF1aXJlX18oNDEzKTttb2R1bGUuZXhwb3J0cz10fSkoKTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/mini-css-extract-plugin/hmr/hotModuleReplacement.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/untruncate-json/dist/esm/index.js":
/*!********************************************************!*\
  !*** ./node_modules/untruncate-json/dist/esm/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ untruncateJson)\n/* harmony export */ });\nfunction isWhitespace(char) {\n    return \"\\u0020\\u000D\\u000A\\u0009\".indexOf(char) >= 0;\n}\nfunction untruncateJson(json) {\n    var contextStack = [\"topLevel\" /* TOP_LEVEL */];\n    var position = 0;\n    var respawnPosition;\n    var respawnStackLength;\n    var respawnReason;\n    var push = function (context) { return contextStack.push(context); };\n    var replace = function (context) {\n        return (contextStack[contextStack.length - 1] = context);\n    };\n    var setRespawn = function (reason) {\n        if (respawnPosition == null) {\n            respawnPosition = position;\n            respawnStackLength = contextStack.length;\n            respawnReason = reason;\n        }\n    };\n    var clearRespawn = function (reason) {\n        if (reason === respawnReason) {\n            respawnPosition = undefined;\n            respawnStackLength = undefined;\n            respawnReason = undefined;\n        }\n    };\n    var pop = function () { return contextStack.pop(); };\n    var dontConsumeCharacter = function () { return position--; };\n    var startAny = function (char) {\n        if (\"0\" <= char && char <= \"9\") {\n            push(\"number\" /* NUMBER */);\n            return;\n        }\n        switch (char) {\n            case '\"':\n                push(\"string\" /* STRING */);\n                return;\n            case \"-\":\n                push(\"numberNeedsDigit\" /* NUMBER_NEEDS_DIGIT */);\n                return;\n            case \"t\":\n                push(\"true\" /* TRUE */);\n                return;\n            case \"f\":\n                push(\"false\" /* FALSE */);\n                return;\n            case \"n\":\n                push(\"null\" /* NULL */);\n                return;\n            case \"[\":\n                push(\"arrayNeedsValue\" /* ARRAY_NEEDS_VALUE */);\n                return;\n            case \"{\":\n                push(\"objectNeedsKey\" /* OBJECT_NEEDS_KEY */);\n                return;\n        }\n    };\n    for (var length = json.length; position < length; position++) {\n        var char = json[position];\n        switch (contextStack[contextStack.length - 1]) {\n            case \"topLevel\" /* TOP_LEVEL */:\n                startAny(char);\n                break;\n            case \"string\" /* STRING */:\n                switch (char) {\n                    case '\"':\n                        pop();\n                        break;\n                    case \"\\\\\":\n                        setRespawn(\"stringEscape\" /* STRING_ESCAPE */);\n                        push(\"stringEscaped\" /* STRING_ESCAPED */);\n                        break;\n                }\n                break;\n            case \"stringEscaped\" /* STRING_ESCAPED */:\n                if (char === \"u\") {\n                    push(\"stringUnicode\" /* STRING_UNICODE */);\n                }\n                else {\n                    clearRespawn(\"stringEscape\" /* STRING_ESCAPE */);\n                    pop();\n                }\n                break;\n            case \"stringUnicode\" /* STRING_UNICODE */:\n                if (position - json.lastIndexOf(\"u\", position) === 4) {\n                    clearRespawn(\"stringEscape\" /* STRING_ESCAPE */);\n                    pop();\n                }\n                break;\n            case \"number\" /* NUMBER */:\n                if (char === \".\") {\n                    replace(\"numberNeedsDigit\" /* NUMBER_NEEDS_DIGIT */);\n                }\n                else if (char === \"e\" || char === \"E\") {\n                    replace(\"numberNeedsExponent\" /* NUMBER_NEEDS_EXPONENT */);\n                }\n                else if (char < \"0\" || char > \"9\") {\n                    dontConsumeCharacter();\n                    pop();\n                }\n                break;\n            case \"numberNeedsDigit\" /* NUMBER_NEEDS_DIGIT */:\n                replace(\"number\" /* NUMBER */);\n                break;\n            case \"numberNeedsExponent\" /* NUMBER_NEEDS_EXPONENT */:\n                if (char === \"+\" || char === \"-\") {\n                    replace(\"numberNeedsDigit\" /* NUMBER_NEEDS_DIGIT */);\n                }\n                else {\n                    replace(\"number\" /* NUMBER */);\n                }\n                break;\n            case \"true\" /* TRUE */:\n            case \"false\" /* FALSE */:\n            case \"null\" /* NULL */:\n                if (char < \"a\" || char > \"z\") {\n                    dontConsumeCharacter();\n                    pop();\n                }\n                break;\n            case \"arrayNeedsValue\" /* ARRAY_NEEDS_VALUE */:\n                if (char === \"]\") {\n                    pop();\n                }\n                else if (!isWhitespace(char)) {\n                    clearRespawn(\"collectionItem\" /* COLLECTION_ITEM */);\n                    replace(\"arrayNeedsComma\" /* ARRAY_NEEDS_COMMA */);\n                    startAny(char);\n                }\n                break;\n            case \"arrayNeedsComma\" /* ARRAY_NEEDS_COMMA */:\n                if (char === \"]\") {\n                    pop();\n                }\n                else if (char === \",\") {\n                    setRespawn(\"collectionItem\" /* COLLECTION_ITEM */);\n                    replace(\"arrayNeedsValue\" /* ARRAY_NEEDS_VALUE */);\n                }\n                break;\n            case \"objectNeedsKey\" /* OBJECT_NEEDS_KEY */:\n                if (char === \"}\") {\n                    pop();\n                }\n                else if (char === '\"') {\n                    setRespawn(\"collectionItem\" /* COLLECTION_ITEM */);\n                    replace(\"objectNeedsColon\" /* OBJECT_NEEDS_COLON */);\n                    push(\"string\" /* STRING */);\n                }\n                break;\n            case \"objectNeedsColon\" /* OBJECT_NEEDS_COLON */:\n                if (char === \":\") {\n                    replace(\"objectNeedsValue\" /* OBJECT_NEEDS_VALUE */);\n                }\n                break;\n            case \"objectNeedsValue\" /* OBJECT_NEEDS_VALUE */:\n                if (!isWhitespace(char)) {\n                    clearRespawn(\"collectionItem\" /* COLLECTION_ITEM */);\n                    replace(\"objectNeedsComma\" /* OBJECT_NEEDS_COMMA */);\n                    startAny(char);\n                }\n                break;\n            case \"objectNeedsComma\" /* OBJECT_NEEDS_COMMA */:\n                if (char === \"}\") {\n                    pop();\n                }\n                else if (char === \",\") {\n                    setRespawn(\"collectionItem\" /* COLLECTION_ITEM */);\n                    replace(\"objectNeedsKey\" /* OBJECT_NEEDS_KEY */);\n                }\n                break;\n        }\n    }\n    if (respawnStackLength != null) {\n        contextStack.length = respawnStackLength;\n    }\n    var result = [\n        respawnPosition != null ? json.slice(0, respawnPosition) : json,\n    ];\n    var finishWord = function (word) {\n        return result.push(word.slice(json.length - json.lastIndexOf(word[0])));\n    };\n    for (var i = contextStack.length - 1; i >= 0; i--) {\n        switch (contextStack[i]) {\n            case \"string\" /* STRING */:\n                result.push('\"');\n                break;\n            case \"numberNeedsDigit\" /* NUMBER_NEEDS_DIGIT */:\n            case \"numberNeedsExponent\" /* NUMBER_NEEDS_EXPONENT */:\n                result.push(\"0\");\n                break;\n            case \"true\" /* TRUE */:\n                finishWord(\"true\");\n                break;\n            case \"false\" /* FALSE */:\n                finishWord(\"false\");\n                break;\n            case \"null\" /* NULL */:\n                finishWord(\"null\");\n                break;\n            case \"arrayNeedsValue\" /* ARRAY_NEEDS_VALUE */:\n            case \"arrayNeedsComma\" /* ARRAY_NEEDS_COMMA */:\n                result.push(\"]\");\n                break;\n            case \"objectNeedsKey\" /* OBJECT_NEEDS_KEY */:\n            case \"objectNeedsColon\" /* OBJECT_NEEDS_COLON */:\n            case \"objectNeedsValue\" /* OBJECT_NEEDS_VALUE */:\n            case \"objectNeedsComma\" /* OBJECT_NEEDS_COMMA */:\n                result.push(\"}\");\n                break;\n        }\n    }\n    return result.join(\"\");\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91bnRydW5jYXRlLWpzb24vZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbUJBQW1CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsUUFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvdW50cnVuY2F0ZS1qc29uL2Rpc3QvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjaGFyKSB7XG4gICAgcmV0dXJuIFwiXFx1MDAyMFxcdTAwMERcXHUwMDBBXFx1MDAwOVwiLmluZGV4T2YoY2hhcikgPj0gMDtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVudHJ1bmNhdGVKc29uKGpzb24pIHtcbiAgICB2YXIgY29udGV4dFN0YWNrID0gW1widG9wTGV2ZWxcIiAvKiBUT1BfTEVWRUwgKi9dO1xuICAgIHZhciBwb3NpdGlvbiA9IDA7XG4gICAgdmFyIHJlc3Bhd25Qb3NpdGlvbjtcbiAgICB2YXIgcmVzcGF3blN0YWNrTGVuZ3RoO1xuICAgIHZhciByZXNwYXduUmVhc29uO1xuICAgIHZhciBwdXNoID0gZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHRTdGFjay5wdXNoKGNvbnRleHQpOyB9O1xuICAgIHZhciByZXBsYWNlID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIChjb250ZXh0U3RhY2tbY29udGV4dFN0YWNrLmxlbmd0aCAtIDFdID0gY29udGV4dCk7XG4gICAgfTtcbiAgICB2YXIgc2V0UmVzcGF3biA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgaWYgKHJlc3Bhd25Qb3NpdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXNwYXduUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIHJlc3Bhd25TdGFja0xlbmd0aCA9IGNvbnRleHRTdGFjay5sZW5ndGg7XG4gICAgICAgICAgICByZXNwYXduUmVhc29uID0gcmVhc29uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgY2xlYXJSZXNwYXduID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBpZiAocmVhc29uID09PSByZXNwYXduUmVhc29uKSB7XG4gICAgICAgICAgICByZXNwYXduUG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXNwYXduU3RhY2tMZW5ndGggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXNwYXduUmVhc29uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcG9wID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udGV4dFN0YWNrLnBvcCgpOyB9O1xuICAgIHZhciBkb250Q29uc3VtZUNoYXJhY3RlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBvc2l0aW9uLS07IH07XG4gICAgdmFyIHN0YXJ0QW55ID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKFwiMFwiIDw9IGNoYXIgJiYgY2hhciA8PSBcIjlcIikge1xuICAgICAgICAgICAgcHVzaChcIm51bWJlclwiIC8qIE5VTUJFUiAqLyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgICAgICAgcHVzaChcInN0cmluZ1wiIC8qIFNUUklORyAqLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICAgICAgICBwdXNoKFwibnVtYmVyTmVlZHNEaWdpdFwiIC8qIE5VTUJFUl9ORUVEU19ESUdJVCAqLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgICAgICAgICBwdXNoKFwidHJ1ZVwiIC8qIFRSVUUgKi8pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgICAgICAgICAgcHVzaChcImZhbHNlXCIgLyogRkFMU0UgKi8pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJuXCI6XG4gICAgICAgICAgICAgICAgcHVzaChcIm51bGxcIiAvKiBOVUxMICovKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICAgIHB1c2goXCJhcnJheU5lZWRzVmFsdWVcIiAvKiBBUlJBWV9ORUVEU19WQUxVRSAqLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgICAgICAgICBwdXNoKFwib2JqZWN0TmVlZHNLZXlcIiAvKiBPQkpFQ1RfTkVFRFNfS0VZICovKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGxlbmd0aCA9IGpzb24ubGVuZ3RoOyBwb3NpdGlvbiA8IGxlbmd0aDsgcG9zaXRpb24rKykge1xuICAgICAgICB2YXIgY2hhciA9IGpzb25bcG9zaXRpb25dO1xuICAgICAgICBzd2l0Y2ggKGNvbnRleHRTdGFja1tjb250ZXh0U3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BMZXZlbFwiIC8qIFRPUF9MRVZFTCAqLzpcbiAgICAgICAgICAgICAgICBzdGFydEFueShjaGFyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIiAvKiBTVFJJTkcgKi86XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwYXduKFwic3RyaW5nRXNjYXBlXCIgLyogU1RSSU5HX0VTQ0FQRSAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoKFwic3RyaW5nRXNjYXBlZFwiIC8qIFNUUklOR19FU0NBUEVEICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdFc2NhcGVkXCIgLyogU1RSSU5HX0VTQ0FQRUQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09IFwidVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2goXCJzdHJpbmdVbmljb2RlXCIgLyogU1RSSU5HX1VOSUNPREUgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJSZXNwYXduKFwic3RyaW5nRXNjYXBlXCIgLyogU1RSSU5HX0VTQ0FQRSAqLyk7XG4gICAgICAgICAgICAgICAgICAgIHBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdVbmljb2RlXCIgLyogU1RSSU5HX1VOSUNPREUgKi86XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIC0ganNvbi5sYXN0SW5kZXhPZihcInVcIiwgcG9zaXRpb24pID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyUmVzcGF3bihcInN0cmluZ0VzY2FwZVwiIC8qIFNUUklOR19FU0NBUEUgKi8pO1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCIgLyogTlVNQkVSICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIi5cIikge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwibnVtYmVyTmVlZHNEaWdpdFwiIC8qIE5VTUJFUl9ORUVEU19ESUdJVCAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IFwiZVwiIHx8IGNoYXIgPT09IFwiRVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2UoXCJudW1iZXJOZWVkc0V4cG9uZW50XCIgLyogTlVNQkVSX05FRURTX0VYUE9ORU5UICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA8IFwiMFwiIHx8IGNoYXIgPiBcIjlcIikge1xuICAgICAgICAgICAgICAgICAgICBkb250Q29uc3VtZUNoYXJhY3RlcigpO1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyTmVlZHNEaWdpdFwiIC8qIE5VTUJFUl9ORUVEU19ESUdJVCAqLzpcbiAgICAgICAgICAgICAgICByZXBsYWNlKFwibnVtYmVyXCIgLyogTlVNQkVSICovKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJOZWVkc0V4cG9uZW50XCIgLyogTlVNQkVSX05FRURTX0VYUE9ORU5UICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIitcIiB8fCBjaGFyID09PSBcIi1cIikge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwibnVtYmVyTmVlZHNEaWdpdFwiIC8qIE5VTUJFUl9ORUVEU19ESUdJVCAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwibnVtYmVyXCIgLyogTlVNQkVSICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidHJ1ZVwiIC8qIFRSVUUgKi86XG4gICAgICAgICAgICBjYXNlIFwiZmFsc2VcIiAvKiBGQUxTRSAqLzpcbiAgICAgICAgICAgIGNhc2UgXCJudWxsXCIgLyogTlVMTCAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA8IFwiYVwiIHx8IGNoYXIgPiBcInpcIikge1xuICAgICAgICAgICAgICAgICAgICBkb250Q29uc3VtZUNoYXJhY3RlcigpO1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYXJyYXlOZWVkc1ZhbHVlXCIgLyogQVJSQVlfTkVFRFNfVkFMVUUgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghaXNXaGl0ZXNwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyUmVzcGF3bihcImNvbGxlY3Rpb25JdGVtXCIgLyogQ09MTEVDVElPTl9JVEVNICovKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZShcImFycmF5TmVlZHNDb21tYVwiIC8qIEFSUkFZX05FRURTX0NPTU1BICovKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRBbnkoY2hhcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFycmF5TmVlZHNDb21tYVwiIC8qIEFSUkFZX05FRURTX0NPTU1BICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIl1cIikge1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gXCIsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcGF3bihcImNvbGxlY3Rpb25JdGVtXCIgLyogQ09MTEVDVElPTl9JVEVNICovKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZShcImFycmF5TmVlZHNWYWx1ZVwiIC8qIEFSUkFZX05FRURTX1ZBTFVFICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0TmVlZHNLZXlcIiAvKiBPQkpFQ1RfTkVFRFNfS0VZICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIn1cIikge1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwYXduKFwiY29sbGVjdGlvbkl0ZW1cIiAvKiBDT0xMRUNUSU9OX0lURU0gKi8pO1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwib2JqZWN0TmVlZHNDb2xvblwiIC8qIE9CSkVDVF9ORUVEU19DT0xPTiAqLyk7XG4gICAgICAgICAgICAgICAgICAgIHB1c2goXCJzdHJpbmdcIiAvKiBTVFJJTkcgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3ROZWVkc0NvbG9uXCIgLyogT0JKRUNUX05FRURTX0NPTE9OICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIjpcIikge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwib2JqZWN0TmVlZHNWYWx1ZVwiIC8qIE9CSkVDVF9ORUVEU19WQUxVRSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm9iamVjdE5lZWRzVmFsdWVcIiAvKiBPQkpFQ1RfTkVFRFNfVkFMVUUgKi86XG4gICAgICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJSZXNwYXduKFwiY29sbGVjdGlvbkl0ZW1cIiAvKiBDT0xMRUNUSU9OX0lURU0gKi8pO1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlKFwib2JqZWN0TmVlZHNDb21tYVwiIC8qIE9CSkVDVF9ORUVEU19DT01NQSAqLyk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QW55KGNoYXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3ROZWVkc0NvbW1hXCIgLyogT0JKRUNUX05FRURTX0NPTU1BICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBcIn1cIikge1xuICAgICAgICAgICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gXCIsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcGF3bihcImNvbGxlY3Rpb25JdGVtXCIgLyogQ09MTEVDVElPTl9JVEVNICovKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZShcIm9iamVjdE5lZWRzS2V5XCIgLyogT0JKRUNUX05FRURTX0tFWSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXNwYXduU3RhY2tMZW5ndGggIT0gbnVsbCkge1xuICAgICAgICBjb250ZXh0U3RhY2subGVuZ3RoID0gcmVzcGF3blN0YWNrTGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gW1xuICAgICAgICByZXNwYXduUG9zaXRpb24gIT0gbnVsbCA/IGpzb24uc2xpY2UoMCwgcmVzcGF3blBvc2l0aW9uKSA6IGpzb24sXG4gICAgXTtcbiAgICB2YXIgZmluaXNoV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQucHVzaCh3b3JkLnNsaWNlKGpzb24ubGVuZ3RoIC0ganNvbi5sYXN0SW5kZXhPZih3b3JkWzBdKSkpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IGNvbnRleHRTdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBzd2l0Y2ggKGNvbnRleHRTdGFja1tpXSkge1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiIC8qIFNUUklORyAqLzpcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnXCInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJOZWVkc0RpZ2l0XCIgLyogTlVNQkVSX05FRURTX0RJR0lUICovOlxuICAgICAgICAgICAgY2FzZSBcIm51bWJlck5lZWRzRXhwb25lbnRcIiAvKiBOVU1CRVJfTkVFRFNfRVhQT05FTlQgKi86XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXCIwXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRydWVcIiAvKiBUUlVFICovOlxuICAgICAgICAgICAgICAgIGZpbmlzaFdvcmQoXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZhbHNlXCIgLyogRkFMU0UgKi86XG4gICAgICAgICAgICAgICAgZmluaXNoV29yZChcImZhbHNlXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm51bGxcIiAvKiBOVUxMICovOlxuICAgICAgICAgICAgICAgIGZpbmlzaFdvcmQoXCJudWxsXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFycmF5TmVlZHNWYWx1ZVwiIC8qIEFSUkFZX05FRURTX1ZBTFVFICovOlxuICAgICAgICAgICAgY2FzZSBcImFycmF5TmVlZHNDb21tYVwiIC8qIEFSUkFZX05FRURTX0NPTU1BICovOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiXVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3ROZWVkc0tleVwiIC8qIE9CSkVDVF9ORUVEU19LRVkgKi86XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0TmVlZHNDb2xvblwiIC8qIE9CSkVDVF9ORUVEU19DT0xPTiAqLzpcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3ROZWVkc1ZhbHVlXCIgLyogT0JKRUNUX05FRURTX1ZBTFVFICovOlxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdE5lZWRzQ29tbWFcIiAvKiBPQkpFQ1RfTkVFRFNfQ09NTUEgKi86XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXCJ9XCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/untruncate-json/dist/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyw4RUFBOEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtOF1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkL2k7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cblxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxTQUFTIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICAvL1xuICAvLyBOb3RlIHRvIGZ1dHVyZS1zZWxmOiBObywgeW91IGNhbid0IHJlbW92ZSB0aGUgYHRvTG93ZXJDYXNlKClgIGNhbGwuXG4gIC8vIFJFRjogaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNjc3I2lzc3VlY29tbWVudC0xNzU3MzUxMzUxXG4gIHJldHVybiAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIHZhciB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTtcbiAgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuICByZXR1cm4gdXVpZDtcbn1cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNOO0FBQ3NCO0FBQ2pEO0FBQ0EsTUFBTSxrREFBTTtBQUNaLFdBQVcsa0RBQU07QUFDakI7QUFDQTtBQUNBLCtDQUErQywrQ0FBRzs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBZTtBQUN4QjtBQUNBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7QUFDL0I7QUFDQSxxQ0FBcUMsaURBQUs7QUFDMUM7QUFDQSxpRUFBZSxRQUFRIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-ui/dist/index.css":
/*!**********************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/index.css ***!
  \**********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"255cf2692b36\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9pbmRleC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIyNTVjZjI2OTJiMzZcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-ui/dist/index.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"e4a484263adf\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivc3JjL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImU0YTQ4NDI2M2FkZlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/font/google/target.css?{"path":"src/app/layout.tsx","import":"Inter","arguments":[{"subsets":["latin"]}],"variableName":"inter"} ***!
  \************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("// extracted by mini-css-extract-plugin\nmodule.exports = {\"style\":{\"fontFamily\":\"'Inter', 'Inter Fallback'\",\"fontStyle\":\"normal\"},\"className\":\"__className_d65c78\"};\n    if(true) {\n      // 1736694084917\n      var cssReload = __webpack_require__(/*! ./node_modules/next/dist/compiled/mini-css-extract-plugin/hmr/hotModuleReplacement.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/mini-css-extract-plugin/hmr/hotModuleReplacement.js\")(module.id, {\"publicPath\":\"/_next/\",\"esModule\":false,\"locals\":true});\n      module.hot.dispose(cssReload);\n      \n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2ZvbnQvZ29vZ2xlL3RhcmdldC5jc3M/e1wicGF0aFwiOlwic3JjL2FwcC9sYXlvdXQudHN4XCIsXCJpbXBvcnRcIjpcIkludGVyXCIsXCJhcmd1bWVudHNcIjpbe1wic3Vic2V0c1wiOltcImxhdGluXCJdfV0sXCJ2YXJpYWJsZU5hbWVcIjpcImludGVyXCJ9IiwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0JBQWtCLFNBQVMsOERBQThEO0FBQ3pGLE9BQU8sSUFBVTtBQUNqQjtBQUNBLHNCQUFzQixtQkFBTyxDQUFDLHdNQUE0SSxjQUFjLHNEQUFzRDtBQUM5TyxNQUFNLFVBQVU7QUFDaEI7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL25leHQvZm9udC9nb29nbGUvdGFyZ2V0LmNzcz97XCJwYXRoXCI6XCJzcmMvYXBwL2xheW91dC50c3hcIixcImltcG9ydFwiOlwiSW50ZXJcIixcImFyZ3VtZW50c1wiOlt7XCJzdWJzZXRzXCI6W1wibGF0aW5cIl19XSxcInZhcmlhYmxlTmFtZVwiOlwiaW50ZXJcIn0iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInN0eWxlXCI6e1wiZm9udEZhbWlseVwiOlwiJ0ludGVyJywgJ0ludGVyIEZhbGxiYWNrJ1wiLFwiZm9udFN0eWxlXCI6XCJub3JtYWxcIn0sXCJjbGFzc05hbWVcIjpcIl9fY2xhc3NOYW1lX2Q2NWM3OFwifTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICAvLyAxNzM2Njk0MDg0OTE3XG4gICAgICB2YXIgY3NzUmVsb2FkID0gcmVxdWlyZShcIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcInB1YmxpY1BhdGhcIjpcIi9fbmV4dC9cIixcImVzTW9kdWxlXCI6ZmFsc2UsXCJsb2NhbHNcIjp0cnVlfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoY3NzUmVsb2FkKTtcbiAgICAgIFxuICAgIH1cbiAgIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BREAK: () => (/* binding */ c),\n/* harmony export */   GraphQLError: () => (/* binding */ GraphQLError),\n/* harmony export */   Kind: () => (/* binding */ e),\n/* harmony export */   OperationTypeNode: () => (/* binding */ r),\n/* harmony export */   Source: () => (/* binding */ Source),\n/* harmony export */   isSelectionNode: () => (/* binding */ isSelectionNode),\n/* harmony export */   parse: () => (/* binding */ parse),\n/* harmony export */   parseType: () => (/* binding */ parseType),\n/* harmony export */   parseValue: () => (/* binding */ parseValue),\n/* harmony export */   print: () => (/* binding */ print),\n/* harmony export */   printBlockString: () => (/* binding */ printBlockString),\n/* harmony export */   printString: () => (/* binding */ printString),\n/* harmony export */   valueFromASTUntyped: () => (/* binding */ valueFromASTUntyped),\n/* harmony export */   valueFromTypeNode: () => (/* binding */ valueFromTypeNode),\n/* harmony export */   visit: () => (/* binding */ visit)\n/* harmony export */ });\nvar e = {\n  NAME: \"Name\",\n  DOCUMENT: \"Document\",\n  OPERATION_DEFINITION: \"OperationDefinition\",\n  VARIABLE_DEFINITION: \"VariableDefinition\",\n  SELECTION_SET: \"SelectionSet\",\n  FIELD: \"Field\",\n  ARGUMENT: \"Argument\",\n  FRAGMENT_SPREAD: \"FragmentSpread\",\n  INLINE_FRAGMENT: \"InlineFragment\",\n  FRAGMENT_DEFINITION: \"FragmentDefinition\",\n  VARIABLE: \"Variable\",\n  INT: \"IntValue\",\n  FLOAT: \"FloatValue\",\n  STRING: \"StringValue\",\n  BOOLEAN: \"BooleanValue\",\n  NULL: \"NullValue\",\n  ENUM: \"EnumValue\",\n  LIST: \"ListValue\",\n  OBJECT: \"ObjectValue\",\n  OBJECT_FIELD: \"ObjectField\",\n  DIRECTIVE: \"Directive\",\n  NAMED_TYPE: \"NamedType\",\n  LIST_TYPE: \"ListType\",\n  NON_NULL_TYPE: \"NonNullType\"\n};\n\nvar r = {\n  QUERY: \"query\",\n  MUTATION: \"mutation\",\n  SUBSCRIPTION: \"subscription\"\n};\n\nclass GraphQLError extends Error {\n  constructor(e, r, n, i, t, a, l) {\n    super(e);\n    this.name = \"GraphQLError\";\n    this.message = e;\n    if (t) {\n      this.path = t;\n    }\n    if (r) {\n      this.nodes = Array.isArray(r) ? r : [ r ];\n    }\n    if (n) {\n      this.source = n;\n    }\n    if (i) {\n      this.positions = i;\n    }\n    if (a) {\n      this.originalError = a;\n    }\n    var o = l;\n    if (!o && a) {\n      var u = a.extensions;\n      if (u && \"object\" == typeof u) {\n        o = u;\n      }\n    }\n    this.extensions = o || {};\n  }\n  toJSON() {\n    return {\n      ...this,\n      message: this.message\n    };\n  }\n  toString() {\n    return this.message;\n  }\n  get [Symbol.toStringTag]() {\n    return \"GraphQLError\";\n  }\n}\n\nvar n;\n\nvar i;\n\nfunction error(e) {\n  return new GraphQLError(`Syntax Error: Unexpected token at ${i} in ${e}`);\n}\n\nfunction advance(e) {\n  e.lastIndex = i;\n  if (e.test(n)) {\n    return n.slice(i, i = e.lastIndex);\n  }\n}\n\nvar t = / +(?=[^\\s])/y;\n\nfunction blockString(e) {\n  var r = e.split(\"\\n\");\n  var n = \"\";\n  var i = 0;\n  var a = 0;\n  var l = r.length - 1;\n  for (var o = 0; o < r.length; o++) {\n    t.lastIndex = 0;\n    if (t.test(r[o])) {\n      if (o && (!i || t.lastIndex < i)) {\n        i = t.lastIndex;\n      }\n      a = a || o;\n      l = o;\n    }\n  }\n  for (var u = a; u <= l; u++) {\n    if (u !== a) {\n      n += \"\\n\";\n    }\n    n += r[u].slice(i).replace(/\\\\\"\"\"/g, '\"\"\"');\n  }\n  return n;\n}\n\nfunction ignored() {\n  for (var e = 0 | n.charCodeAt(i++); 9 === e || 10 === e || 13 === e || 32 === e || 35 === e || 44 === e || 65279 === e; e = 0 | n.charCodeAt(i++)) {\n    if (35 === e) {\n      while (10 !== (e = n.charCodeAt(i++)) && 13 !== e) {}\n    }\n  }\n  i--;\n}\n\nvar a = /[_A-Za-z]\\w*/y;\n\nvar l = new RegExp(\"(?:(null|true|false)|\\\\$(\" + a.source + ')|(-?\\\\d+)((?:\\\\.\\\\d+)?[eE][+-]?\\\\d+|\\\\.\\\\d+)?|(\"\"\"(?:\"\"\"|(?:[\\\\s\\\\S]*?[^\\\\\\\\])\"\"\"))|(\"(?:\"|[^\\\\r\\\\n]*?[^\\\\\\\\]\"))|(' + a.source + \"))\", \"y\");\n\nvar o = function(e) {\n  e[e.Const = 1] = \"Const\";\n  e[e.Var = 2] = \"Var\";\n  e[e.Int = 3] = \"Int\";\n  e[e.Float = 4] = \"Float\";\n  e[e.BlockString = 5] = \"BlockString\";\n  e[e.String = 6] = \"String\";\n  e[e.Enum = 7] = \"Enum\";\n  return e;\n}(o || {});\n\nvar u = /\\\\/;\n\nfunction value(e) {\n  var r;\n  var t;\n  l.lastIndex = i;\n  if (91 === n.charCodeAt(i)) {\n    i++;\n    ignored();\n    var d = [];\n    while (93 !== n.charCodeAt(i)) {\n      d.push(value(e));\n    }\n    i++;\n    ignored();\n    return {\n      kind: \"ListValue\",\n      values: d\n    };\n  } else if (123 === n.charCodeAt(i)) {\n    i++;\n    ignored();\n    var s = [];\n    while (125 !== n.charCodeAt(i)) {\n      if (null == (r = advance(a))) {\n        throw error(\"ObjectField\");\n      }\n      ignored();\n      if (58 !== n.charCodeAt(i++)) {\n        throw error(\"ObjectField\");\n      }\n      ignored();\n      s.push({\n        kind: \"ObjectField\",\n        name: {\n          kind: \"Name\",\n          value: r\n        },\n        value: value(e)\n      });\n    }\n    i++;\n    ignored();\n    return {\n      kind: \"ObjectValue\",\n      fields: s\n    };\n  } else if (null != (t = l.exec(n))) {\n    i = l.lastIndex;\n    ignored();\n    if (null != (r = t[o.Const])) {\n      return \"null\" === r ? {\n        kind: \"NullValue\"\n      } : {\n        kind: \"BooleanValue\",\n        value: \"true\" === r\n      };\n    } else if (null != (r = t[o.Var])) {\n      if (e) {\n        throw error(\"Variable\");\n      } else {\n        return {\n          kind: \"Variable\",\n          name: {\n            kind: \"Name\",\n            value: r\n          }\n        };\n      }\n    } else if (null != (r = t[o.Int])) {\n      var v;\n      if (null != (v = t[o.Float])) {\n        return {\n          kind: \"FloatValue\",\n          value: r + v\n        };\n      } else {\n        return {\n          kind: \"IntValue\",\n          value: r\n        };\n      }\n    } else if (null != (r = t[o.BlockString])) {\n      return {\n        kind: \"StringValue\",\n        value: blockString(r.slice(3, -3)),\n        block: !0\n      };\n    } else if (null != (r = t[o.String])) {\n      return {\n        kind: \"StringValue\",\n        value: u.test(r) ? JSON.parse(r) : r.slice(1, -1),\n        block: !1\n      };\n    } else if (null != (r = t[o.Enum])) {\n      return {\n        kind: \"EnumValue\",\n        value: r\n      };\n    }\n  }\n  throw error(\"Value\");\n}\n\nfunction arguments_(e) {\n  if (40 === n.charCodeAt(i)) {\n    var r = [];\n    i++;\n    ignored();\n    var t;\n    do {\n      if (null == (t = advance(a))) {\n        throw error(\"Argument\");\n      }\n      ignored();\n      if (58 !== n.charCodeAt(i++)) {\n        throw error(\"Argument\");\n      }\n      ignored();\n      r.push({\n        kind: \"Argument\",\n        name: {\n          kind: \"Name\",\n          value: t\n        },\n        value: value(e)\n      });\n    } while (41 !== n.charCodeAt(i));\n    i++;\n    ignored();\n    return r;\n  }\n}\n\nfunction directives(e) {\n  if (64 === n.charCodeAt(i)) {\n    var r = [];\n    var t;\n    do {\n      i++;\n      if (null == (t = advance(a))) {\n        throw error(\"Directive\");\n      }\n      ignored();\n      r.push({\n        kind: \"Directive\",\n        name: {\n          kind: \"Name\",\n          value: t\n        },\n        arguments: arguments_(e)\n      });\n    } while (64 === n.charCodeAt(i));\n    return r;\n  }\n}\n\nfunction type() {\n  var e;\n  var r = 0;\n  while (91 === n.charCodeAt(i)) {\n    r++;\n    i++;\n    ignored();\n  }\n  if (null == (e = advance(a))) {\n    throw error(\"NamedType\");\n  }\n  ignored();\n  var t = {\n    kind: \"NamedType\",\n    name: {\n      kind: \"Name\",\n      value: e\n    }\n  };\n  do {\n    if (33 === n.charCodeAt(i)) {\n      i++;\n      ignored();\n      t = {\n        kind: \"NonNullType\",\n        type: t\n      };\n    }\n    if (r) {\n      if (93 !== n.charCodeAt(i++)) {\n        throw error(\"NamedType\");\n      }\n      ignored();\n      t = {\n        kind: \"ListType\",\n        type: t\n      };\n    }\n  } while (r--);\n  return t;\n}\n\nvar d = new RegExp(\"(?:(\\\\.{3})|(\" + a.source + \"))\", \"y\");\n\nvar s = function(e) {\n  e[e.Spread = 1] = \"Spread\";\n  e[e.Name = 2] = \"Name\";\n  return e;\n}(s || {});\n\nfunction selectionSet() {\n  var e = [];\n  var r;\n  var t;\n  do {\n    d.lastIndex = i;\n    if (null != (t = d.exec(n))) {\n      i = d.lastIndex;\n      if (null != t[s.Spread]) {\n        ignored();\n        var l = advance(a);\n        if (null != l && \"on\" !== l) {\n          ignored();\n          e.push({\n            kind: \"FragmentSpread\",\n            name: {\n              kind: \"Name\",\n              value: l\n            },\n            directives: directives(!1)\n          });\n        } else {\n          ignored();\n          if (\"on\" === l) {\n            if (null == (l = advance(a))) {\n              throw error(\"NamedType\");\n            }\n            ignored();\n          }\n          var o = directives(!1);\n          if (123 !== n.charCodeAt(i++)) {\n            throw error(\"InlineFragment\");\n          }\n          ignored();\n          e.push({\n            kind: \"InlineFragment\",\n            typeCondition: l ? {\n              kind: \"NamedType\",\n              name: {\n                kind: \"Name\",\n                value: l\n              }\n            } : void 0,\n            directives: o,\n            selectionSet: selectionSet()\n          });\n        }\n      } else if (null != (r = t[s.Name])) {\n        var u = void 0;\n        ignored();\n        if (58 === n.charCodeAt(i)) {\n          i++;\n          ignored();\n          u = r;\n          if (null == (r = advance(a))) {\n            throw error(\"Field\");\n          }\n          ignored();\n        }\n        var v = arguments_(!1);\n        ignored();\n        var c = directives(!1);\n        var f = void 0;\n        if (123 === n.charCodeAt(i)) {\n          i++;\n          ignored();\n          f = selectionSet();\n        }\n        e.push({\n          kind: \"Field\",\n          alias: u ? {\n            kind: \"Name\",\n            value: u\n          } : void 0,\n          name: {\n            kind: \"Name\",\n            value: r\n          },\n          arguments: v,\n          directives: c,\n          selectionSet: f\n        });\n      }\n    } else {\n      throw error(\"SelectionSet\");\n    }\n  } while (125 !== n.charCodeAt(i));\n  i++;\n  ignored();\n  return {\n    kind: \"SelectionSet\",\n    selections: e\n  };\n}\n\nfunction fragmentDefinition() {\n  var e;\n  var r;\n  if (null == (e = advance(a))) {\n    throw error(\"FragmentDefinition\");\n  }\n  ignored();\n  if (\"on\" !== advance(a)) {\n    throw error(\"FragmentDefinition\");\n  }\n  ignored();\n  if (null == (r = advance(a))) {\n    throw error(\"FragmentDefinition\");\n  }\n  ignored();\n  var t = directives(!1);\n  if (123 !== n.charCodeAt(i++)) {\n    throw error(\"FragmentDefinition\");\n  }\n  ignored();\n  return {\n    kind: \"FragmentDefinition\",\n    name: {\n      kind: \"Name\",\n      value: e\n    },\n    typeCondition: {\n      kind: \"NamedType\",\n      name: {\n        kind: \"Name\",\n        value: r\n      }\n    },\n    directives: t,\n    selectionSet: selectionSet()\n  };\n}\n\nvar v = /(?:query|mutation|subscription|fragment)/y;\n\nfunction operationDefinition(e) {\n  var r;\n  var t;\n  var l;\n  if (e) {\n    ignored();\n    r = advance(a);\n    t = function variableDefinitions() {\n      ignored();\n      if (40 === n.charCodeAt(i)) {\n        var e = [];\n        i++;\n        ignored();\n        var r;\n        do {\n          if (36 !== n.charCodeAt(i++)) {\n            throw error(\"Variable\");\n          }\n          if (null == (r = advance(a))) {\n            throw error(\"Variable\");\n          }\n          ignored();\n          if (58 !== n.charCodeAt(i++)) {\n            throw error(\"VariableDefinition\");\n          }\n          ignored();\n          var t = type();\n          var l = void 0;\n          if (61 === n.charCodeAt(i)) {\n            i++;\n            ignored();\n            l = value(!0);\n          }\n          ignored();\n          e.push({\n            kind: \"VariableDefinition\",\n            variable: {\n              kind: \"Variable\",\n              name: {\n                kind: \"Name\",\n                value: r\n              }\n            },\n            type: t,\n            defaultValue: l,\n            directives: directives(!0)\n          });\n        } while (41 !== n.charCodeAt(i));\n        i++;\n        ignored();\n        return e;\n      }\n    }();\n    l = directives(!1);\n  }\n  if (123 === n.charCodeAt(i)) {\n    i++;\n    ignored();\n    return {\n      kind: \"OperationDefinition\",\n      operation: e || \"query\",\n      name: r ? {\n        kind: \"Name\",\n        value: r\n      } : void 0,\n      variableDefinitions: t,\n      directives: l,\n      selectionSet: selectionSet()\n    };\n  }\n}\n\nfunction parse(e, r) {\n  i = 0;\n  return function document(e, r) {\n    var n;\n    var t;\n    ignored();\n    var a = [];\n    do {\n      if (\"fragment\" === (n = advance(v))) {\n        ignored();\n        a.push(fragmentDefinition());\n      } else if (null != (t = operationDefinition(n))) {\n        a.push(t);\n      } else {\n        throw error(\"Document\");\n      }\n    } while (i < e.length);\n    if (!r) {\n      var l;\n      return {\n        kind: \"Document\",\n        definitions: a,\n        set loc(e) {\n          l = e;\n        },\n        get loc() {\n          if (!l) {\n            l = {\n              start: 0,\n              end: e.length,\n              startToken: void 0,\n              endToken: void 0,\n              source: {\n                body: e,\n                name: \"graphql.web\",\n                locationOffset: {\n                  line: 1,\n                  column: 1\n                }\n              }\n            };\n          }\n          return l;\n        }\n      };\n    }\n    return {\n      kind: \"Document\",\n      definitions: a\n    };\n  }(n = \"string\" == typeof e.body ? e.body : e, r && r.noLocation);\n}\n\nfunction parseValue(e, r) {\n  n = \"string\" == typeof e.body ? e.body : e;\n  i = 0;\n  ignored();\n  return value(!1);\n}\n\nfunction parseType(e, r) {\n  n = \"string\" == typeof e.body ? e.body : e;\n  i = 0;\n  return type();\n}\n\nvar c = {};\n\nfunction visit(e, r) {\n  var n = [];\n  var i = [];\n  try {\n    var t = function traverse(e, t, a) {\n      var l = !1;\n      var o = r[e.kind] && r[e.kind].enter || r[e.kind] || r.enter;\n      var u = o && o.call(r, e, t, a, i, n);\n      if (!1 === u) {\n        return e;\n      } else if (null === u) {\n        return null;\n      } else if (u === c) {\n        throw c;\n      } else if (u && \"string\" == typeof u.kind) {\n        l = u !== e;\n        e = u;\n      }\n      if (a) {\n        n.push(a);\n      }\n      var d;\n      var s = {\n        ...e\n      };\n      for (var v in e) {\n        i.push(v);\n        var f = e[v];\n        if (Array.isArray(f)) {\n          var g = [];\n          for (var m = 0; m < f.length; m++) {\n            if (null != f[m] && \"string\" == typeof f[m].kind) {\n              n.push(e);\n              i.push(m);\n              d = traverse(f[m], m, f);\n              i.pop();\n              n.pop();\n              if (null == d) {\n                l = !0;\n              } else {\n                l = l || d !== f[m];\n                g.push(d);\n              }\n            }\n          }\n          f = g;\n        } else if (null != f && \"string\" == typeof f.kind) {\n          if (void 0 !== (d = traverse(f, v, e))) {\n            l = l || f !== d;\n            f = d;\n          }\n        }\n        i.pop();\n        if (l) {\n          s[v] = f;\n        }\n      }\n      if (a) {\n        n.pop();\n      }\n      var p = r[e.kind] && r[e.kind].leave || r.leave;\n      var h = p && p.call(r, e, t, a, i, n);\n      if (h === c) {\n        throw c;\n      } else if (void 0 !== h) {\n        return h;\n      } else if (void 0 !== u) {\n        return l ? s : u;\n      } else {\n        return l ? s : e;\n      }\n    }(e);\n    return void 0 !== t && !1 !== t ? t : e;\n  } catch (r) {\n    if (r !== c) {\n      throw r;\n    }\n    return e;\n  }\n}\n\nfunction mapJoin(e, r, n) {\n  var i = \"\";\n  for (var t = 0; t < e.length; t++) {\n    if (t) {\n      i += r;\n    }\n    i += n(e[t]);\n  }\n  return i;\n}\n\nfunction printString(e) {\n  return JSON.stringify(e);\n}\n\nfunction printBlockString(e) {\n  return '\"\"\"\\n' + e.replace(/\"\"\"/g, '\\\\\"\"\"') + '\\n\"\"\"';\n}\n\nvar f = \"\\n\";\n\nvar g = {\n  OperationDefinition(e) {\n    var r = e.operation;\n    if (e.name) {\n      r += \" \" + e.name.value;\n    }\n    if (e.variableDefinitions && e.variableDefinitions.length) {\n      if (!e.name) {\n        r += \" \";\n      }\n      r += \"(\" + mapJoin(e.variableDefinitions, \", \", g.VariableDefinition) + \")\";\n    }\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    return \"query\" !== r ? r + \" \" + g.SelectionSet(e.selectionSet) : g.SelectionSet(e.selectionSet);\n  },\n  VariableDefinition(e) {\n    var r = g.Variable(e.variable) + \": \" + _print(e.type);\n    if (e.defaultValue) {\n      r += \" = \" + _print(e.defaultValue);\n    }\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    return r;\n  },\n  Field(e) {\n    var r = e.alias ? e.alias.value + \": \" + e.name.value : e.name.value;\n    if (e.arguments && e.arguments.length) {\n      var n = mapJoin(e.arguments, \", \", g.Argument);\n      if (r.length + n.length + 2 > 80) {\n        r += \"(\" + (f += \"  \") + mapJoin(e.arguments, f, g.Argument) + (f = f.slice(0, -2)) + \")\";\n      } else {\n        r += \"(\" + n + \")\";\n      }\n    }\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    if (e.selectionSet && e.selectionSet.selections.length) {\n      r += \" \" + g.SelectionSet(e.selectionSet);\n    }\n    return r;\n  },\n  StringValue(e) {\n    if (e.block) {\n      return printBlockString(e.value).replace(/\\n/g, f);\n    } else {\n      return printString(e.value);\n    }\n  },\n  BooleanValue: e => \"\" + e.value,\n  NullValue: e => \"null\",\n  IntValue: e => e.value,\n  FloatValue: e => e.value,\n  EnumValue: e => e.value,\n  Name: e => e.value,\n  Variable: e => \"$\" + e.name.value,\n  ListValue: e => \"[\" + mapJoin(e.values, \", \", _print) + \"]\",\n  ObjectValue: e => \"{\" + mapJoin(e.fields, \", \", g.ObjectField) + \"}\",\n  ObjectField: e => e.name.value + \": \" + _print(e.value),\n  Document(e) {\n    if (!e.definitions || !e.definitions.length) {\n      return \"\";\n    }\n    return mapJoin(e.definitions, \"\\n\\n\", _print);\n  },\n  SelectionSet: e => \"{\" + (f += \"  \") + mapJoin(e.selections, f, _print) + (f = f.slice(0, -2)) + \"}\",\n  Argument: e => e.name.value + \": \" + _print(e.value),\n  FragmentSpread(e) {\n    var r = \"...\" + e.name.value;\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    return r;\n  },\n  InlineFragment(e) {\n    var r = \"...\";\n    if (e.typeCondition) {\n      r += \" on \" + e.typeCondition.name.value;\n    }\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    return r += \" \" + g.SelectionSet(e.selectionSet);\n  },\n  FragmentDefinition(e) {\n    var r = \"fragment \" + e.name.value;\n    r += \" on \" + e.typeCondition.name.value;\n    if (e.directives && e.directives.length) {\n      r += \" \" + mapJoin(e.directives, \" \", g.Directive);\n    }\n    return r + \" \" + g.SelectionSet(e.selectionSet);\n  },\n  Directive(e) {\n    var r = \"@\" + e.name.value;\n    if (e.arguments && e.arguments.length) {\n      r += \"(\" + mapJoin(e.arguments, \", \", g.Argument) + \")\";\n    }\n    return r;\n  },\n  NamedType: e => e.name.value,\n  ListType: e => \"[\" + _print(e.type) + \"]\",\n  NonNullType: e => _print(e.type) + \"!\"\n};\n\nvar _print = e => g[e.kind](e);\n\nfunction print(e) {\n  f = \"\\n\";\n  return g[e.kind] ? g[e.kind](e) : \"\";\n}\n\nfunction valueFromASTUntyped(e, r) {\n  switch (e.kind) {\n   case \"NullValue\":\n    return null;\n\n   case \"IntValue\":\n    return parseInt(e.value, 10);\n\n   case \"FloatValue\":\n    return parseFloat(e.value);\n\n   case \"StringValue\":\n   case \"EnumValue\":\n   case \"BooleanValue\":\n    return e.value;\n\n   case \"ListValue\":\n    var n = [];\n    for (var i = 0, t = e.values.length; i < t; i++) {\n      n.push(valueFromASTUntyped(e.values[i], r));\n    }\n    return n;\n\n   case \"ObjectValue\":\n    var a = Object.create(null);\n    for (var l = 0, o = e.fields.length; l < o; l++) {\n      var u = e.fields[l];\n      a[u.name.value] = valueFromASTUntyped(u.value, r);\n    }\n    return a;\n\n   case \"Variable\":\n    return r && r[e.name.value];\n  }\n}\n\nfunction valueFromTypeNode(e, r, n) {\n  if (\"Variable\" === e.kind) {\n    return n ? valueFromTypeNode(n[e.name.value], r, n) : void 0;\n  } else if (\"NonNullType\" === r.kind) {\n    return \"NullValue\" !== e.kind ? valueFromTypeNode(e, r, n) : void 0;\n  } else if (\"NullValue\" === e.kind) {\n    return null;\n  } else if (\"ListType\" === r.kind) {\n    if (\"ListValue\" === e.kind) {\n      var i = [];\n      for (var t = 0, a = e.values.length; t < a; t++) {\n        var l = valueFromTypeNode(e.values[t], r.type, n);\n        if (void 0 === l) {\n          return;\n        } else {\n          i.push(l);\n        }\n      }\n      return i;\n    }\n  } else if (\"NamedType\" === r.kind) {\n    switch (r.name.value) {\n     case \"Int\":\n     case \"Float\":\n     case \"String\":\n     case \"Bool\":\n      return r.name.value + \"Value\" === e.kind ? valueFromASTUntyped(e, n) : void 0;\n\n     default:\n      return valueFromASTUntyped(e, n);\n    }\n  }\n}\n\nfunction isSelectionNode(e) {\n  return \"Field\" === e.kind || \"FragmentSpread\" === e.kind || \"InlineFragment\" === e.kind;\n}\n\nfunction Source(e, r, n) {\n  return {\n    body: e,\n    name: r,\n    locationOffset: n || {\n      line: 1,\n      column: 1\n    }\n  };\n}\n\n\n//# sourceMappingURL=graphql.web.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AMG5vLWNvL2dyYXBocWwud2ViL2Rpc3QvZ3JhcGhxbC53ZWIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSwrREFBK0QsR0FBRyxLQUFLLEVBQUU7QUFDekU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0NBQXNDLG9GQUFvRjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxRQUFROztBQUVUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsNEJBQTRCLEVBQUU7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxRQUFROztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtDQUErQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLDhFQUE4RTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsT0FBTztBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbU47QUFDbk4iLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQDBuby1jby9ncmFwaHFsLndlYi9kaXN0L2dyYXBocWwud2ViLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZSA9IHtcbiAgTkFNRTogXCJOYW1lXCIsXG4gIERPQ1VNRU5UOiBcIkRvY3VtZW50XCIsXG4gIE9QRVJBVElPTl9ERUZJTklUSU9OOiBcIk9wZXJhdGlvbkRlZmluaXRpb25cIixcbiAgVkFSSUFCTEVfREVGSU5JVElPTjogXCJWYXJpYWJsZURlZmluaXRpb25cIixcbiAgU0VMRUNUSU9OX1NFVDogXCJTZWxlY3Rpb25TZXRcIixcbiAgRklFTEQ6IFwiRmllbGRcIixcbiAgQVJHVU1FTlQ6IFwiQXJndW1lbnRcIixcbiAgRlJBR01FTlRfU1BSRUFEOiBcIkZyYWdtZW50U3ByZWFkXCIsXG4gIElOTElORV9GUkFHTUVOVDogXCJJbmxpbmVGcmFnbWVudFwiLFxuICBGUkFHTUVOVF9ERUZJTklUSU9OOiBcIkZyYWdtZW50RGVmaW5pdGlvblwiLFxuICBWQVJJQUJMRTogXCJWYXJpYWJsZVwiLFxuICBJTlQ6IFwiSW50VmFsdWVcIixcbiAgRkxPQVQ6IFwiRmxvYXRWYWx1ZVwiLFxuICBTVFJJTkc6IFwiU3RyaW5nVmFsdWVcIixcbiAgQk9PTEVBTjogXCJCb29sZWFuVmFsdWVcIixcbiAgTlVMTDogXCJOdWxsVmFsdWVcIixcbiAgRU5VTTogXCJFbnVtVmFsdWVcIixcbiAgTElTVDogXCJMaXN0VmFsdWVcIixcbiAgT0JKRUNUOiBcIk9iamVjdFZhbHVlXCIsXG4gIE9CSkVDVF9GSUVMRDogXCJPYmplY3RGaWVsZFwiLFxuICBESVJFQ1RJVkU6IFwiRGlyZWN0aXZlXCIsXG4gIE5BTUVEX1RZUEU6IFwiTmFtZWRUeXBlXCIsXG4gIExJU1RfVFlQRTogXCJMaXN0VHlwZVwiLFxuICBOT05fTlVMTF9UWVBFOiBcIk5vbk51bGxUeXBlXCJcbn07XG5cbnZhciByID0ge1xuICBRVUVSWTogXCJxdWVyeVwiLFxuICBNVVRBVElPTjogXCJtdXRhdGlvblwiLFxuICBTVUJTQ1JJUFRJT046IFwic3Vic2NyaXB0aW9uXCJcbn07XG5cbmNsYXNzIEdyYXBoUUxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoZSwgciwgbiwgaSwgdCwgYSwgbCkge1xuICAgIHN1cGVyKGUpO1xuICAgIHRoaXMubmFtZSA9IFwiR3JhcGhRTEVycm9yXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gZTtcbiAgICBpZiAodCkge1xuICAgICAgdGhpcy5wYXRoID0gdDtcbiAgICB9XG4gICAgaWYgKHIpIHtcbiAgICAgIHRoaXMubm9kZXMgPSBBcnJheS5pc0FycmF5KHIpID8gciA6IFsgciBdO1xuICAgIH1cbiAgICBpZiAobikge1xuICAgICAgdGhpcy5zb3VyY2UgPSBuO1xuICAgIH1cbiAgICBpZiAoaSkge1xuICAgICAgdGhpcy5wb3NpdGlvbnMgPSBpO1xuICAgIH1cbiAgICBpZiAoYSkge1xuICAgICAgdGhpcy5vcmlnaW5hbEVycm9yID0gYTtcbiAgICB9XG4gICAgdmFyIG8gPSBsO1xuICAgIGlmICghbyAmJiBhKSB7XG4gICAgICB2YXIgdSA9IGEuZXh0ZW5zaW9ucztcbiAgICAgIGlmICh1ICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIHUpIHtcbiAgICAgICAgbyA9IHU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IG8gfHwge307XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlXG4gICAgfTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICB9XG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gXCJHcmFwaFFMRXJyb3JcIjtcbiAgfVxufVxuXG52YXIgbjtcblxudmFyIGk7XG5cbmZ1bmN0aW9uIGVycm9yKGUpIHtcbiAgcmV0dXJuIG5ldyBHcmFwaFFMRXJyb3IoYFN5bnRheCBFcnJvcjogVW5leHBlY3RlZCB0b2tlbiBhdCAke2l9IGluICR7ZX1gKTtcbn1cblxuZnVuY3Rpb24gYWR2YW5jZShlKSB7XG4gIGUubGFzdEluZGV4ID0gaTtcbiAgaWYgKGUudGVzdChuKSkge1xuICAgIHJldHVybiBuLnNsaWNlKGksIGkgPSBlLmxhc3RJbmRleCk7XG4gIH1cbn1cblxudmFyIHQgPSAvICsoPz1bXlxcc10pL3k7XG5cbmZ1bmN0aW9uIGJsb2NrU3RyaW5nKGUpIHtcbiAgdmFyIHIgPSBlLnNwbGl0KFwiXFxuXCIpO1xuICB2YXIgbiA9IFwiXCI7XG4gIHZhciBpID0gMDtcbiAgdmFyIGEgPSAwO1xuICB2YXIgbCA9IHIubGVuZ3RoIC0gMTtcbiAgZm9yICh2YXIgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSB7XG4gICAgdC5sYXN0SW5kZXggPSAwO1xuICAgIGlmICh0LnRlc3QocltvXSkpIHtcbiAgICAgIGlmIChvICYmICghaSB8fCB0Lmxhc3RJbmRleCA8IGkpKSB7XG4gICAgICAgIGkgPSB0Lmxhc3RJbmRleDtcbiAgICAgIH1cbiAgICAgIGEgPSBhIHx8IG87XG4gICAgICBsID0gbztcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgdSA9IGE7IHUgPD0gbDsgdSsrKSB7XG4gICAgaWYgKHUgIT09IGEpIHtcbiAgICAgIG4gKz0gXCJcXG5cIjtcbiAgICB9XG4gICAgbiArPSByW3VdLnNsaWNlKGkpLnJlcGxhY2UoL1xcXFxcIlwiXCIvZywgJ1wiXCJcIicpO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG5mdW5jdGlvbiBpZ25vcmVkKCkge1xuICBmb3IgKHZhciBlID0gMCB8IG4uY2hhckNvZGVBdChpKyspOyA5ID09PSBlIHx8IDEwID09PSBlIHx8IDEzID09PSBlIHx8IDMyID09PSBlIHx8IDM1ID09PSBlIHx8IDQ0ID09PSBlIHx8IDY1Mjc5ID09PSBlOyBlID0gMCB8IG4uY2hhckNvZGVBdChpKyspKSB7XG4gICAgaWYgKDM1ID09PSBlKSB7XG4gICAgICB3aGlsZSAoMTAgIT09IChlID0gbi5jaGFyQ29kZUF0KGkrKykpICYmIDEzICE9PSBlKSB7fVxuICAgIH1cbiAgfVxuICBpLS07XG59XG5cbnZhciBhID0gL1tfQS1aYS16XVxcdyoveTtcblxudmFyIGwgPSBuZXcgUmVnRXhwKFwiKD86KG51bGx8dHJ1ZXxmYWxzZSl8XFxcXCQoXCIgKyBhLnNvdXJjZSArICcpfCgtP1xcXFxkKykoKD86XFxcXC5cXFxcZCspP1tlRV1bKy1dP1xcXFxkK3xcXFxcLlxcXFxkKyk/fChcIlwiXCIoPzpcIlwiXCJ8KD86W1xcXFxzXFxcXFNdKj9bXlxcXFxcXFxcXSlcIlwiXCIpKXwoXCIoPzpcInxbXlxcXFxyXFxcXG5dKj9bXlxcXFxcXFxcXVwiKSl8KCcgKyBhLnNvdXJjZSArIFwiKSlcIiwgXCJ5XCIpO1xuXG52YXIgbyA9IGZ1bmN0aW9uKGUpIHtcbiAgZVtlLkNvbnN0ID0gMV0gPSBcIkNvbnN0XCI7XG4gIGVbZS5WYXIgPSAyXSA9IFwiVmFyXCI7XG4gIGVbZS5JbnQgPSAzXSA9IFwiSW50XCI7XG4gIGVbZS5GbG9hdCA9IDRdID0gXCJGbG9hdFwiO1xuICBlW2UuQmxvY2tTdHJpbmcgPSA1XSA9IFwiQmxvY2tTdHJpbmdcIjtcbiAgZVtlLlN0cmluZyA9IDZdID0gXCJTdHJpbmdcIjtcbiAgZVtlLkVudW0gPSA3XSA9IFwiRW51bVwiO1xuICByZXR1cm4gZTtcbn0obyB8fCB7fSk7XG5cbnZhciB1ID0gL1xcXFwvO1xuXG5mdW5jdGlvbiB2YWx1ZShlKSB7XG4gIHZhciByO1xuICB2YXIgdDtcbiAgbC5sYXN0SW5kZXggPSBpO1xuICBpZiAoOTEgPT09IG4uY2hhckNvZGVBdChpKSkge1xuICAgIGkrKztcbiAgICBpZ25vcmVkKCk7XG4gICAgdmFyIGQgPSBbXTtcbiAgICB3aGlsZSAoOTMgIT09IG4uY2hhckNvZGVBdChpKSkge1xuICAgICAgZC5wdXNoKHZhbHVlKGUpKTtcbiAgICB9XG4gICAgaSsrO1xuICAgIGlnbm9yZWQoKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogXCJMaXN0VmFsdWVcIixcbiAgICAgIHZhbHVlczogZFxuICAgIH07XG4gIH0gZWxzZSBpZiAoMTIzID09PSBuLmNoYXJDb2RlQXQoaSkpIHtcbiAgICBpKys7XG4gICAgaWdub3JlZCgpO1xuICAgIHZhciBzID0gW107XG4gICAgd2hpbGUgKDEyNSAhPT0gbi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICBpZiAobnVsbCA9PSAociA9IGFkdmFuY2UoYSkpKSB7XG4gICAgICAgIHRocm93IGVycm9yKFwiT2JqZWN0RmllbGRcIik7XG4gICAgICB9XG4gICAgICBpZ25vcmVkKCk7XG4gICAgICBpZiAoNTggIT09IG4uY2hhckNvZGVBdChpKyspKSB7XG4gICAgICAgIHRocm93IGVycm9yKFwiT2JqZWN0RmllbGRcIik7XG4gICAgICB9XG4gICAgICBpZ25vcmVkKCk7XG4gICAgICBzLnB1c2goe1xuICAgICAgICBraW5kOiBcIk9iamVjdEZpZWxkXCIsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgICAgICB2YWx1ZTogclxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogdmFsdWUoZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpKys7XG4gICAgaWdub3JlZCgpO1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBcIk9iamVjdFZhbHVlXCIsXG4gICAgICBmaWVsZHM6IHNcbiAgICB9O1xuICB9IGVsc2UgaWYgKG51bGwgIT0gKHQgPSBsLmV4ZWMobikpKSB7XG4gICAgaSA9IGwubGFzdEluZGV4O1xuICAgIGlnbm9yZWQoKTtcbiAgICBpZiAobnVsbCAhPSAociA9IHRbby5Db25zdF0pKSB7XG4gICAgICByZXR1cm4gXCJudWxsXCIgPT09IHIgPyB7XG4gICAgICAgIGtpbmQ6IFwiTnVsbFZhbHVlXCJcbiAgICAgIH0gOiB7XG4gICAgICAgIGtpbmQ6IFwiQm9vbGVhblZhbHVlXCIsXG4gICAgICAgIHZhbHVlOiBcInRydWVcIiA9PT0gclxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gKHIgPSB0W28uVmFyXSkpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHRocm93IGVycm9yKFwiVmFyaWFibGVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6IFwiVmFyaWFibGVcIixcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiByXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobnVsbCAhPSAociA9IHRbby5JbnRdKSkge1xuICAgICAgdmFyIHY7XG4gICAgICBpZiAobnVsbCAhPSAodiA9IHRbby5GbG9hdF0pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2luZDogXCJGbG9hdFZhbHVlXCIsXG4gICAgICAgICAgdmFsdWU6IHIgKyB2XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6IFwiSW50VmFsdWVcIixcbiAgICAgICAgICB2YWx1ZTogclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobnVsbCAhPSAociA9IHRbby5CbG9ja1N0cmluZ10pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlN0cmluZ1ZhbHVlXCIsXG4gICAgICAgIHZhbHVlOiBibG9ja1N0cmluZyhyLnNsaWNlKDMsIC0zKSksXG4gICAgICAgIGJsb2NrOiAhMFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gKHIgPSB0W28uU3RyaW5nXSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiU3RyaW5nVmFsdWVcIixcbiAgICAgICAgdmFsdWU6IHUudGVzdChyKSA/IEpTT04ucGFyc2UocikgOiByLnNsaWNlKDEsIC0xKSxcbiAgICAgICAgYmxvY2s6ICExXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobnVsbCAhPSAociA9IHRbby5FbnVtXSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRW51bVZhbHVlXCIsXG4gICAgICAgIHZhbHVlOiByXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICB0aHJvdyBlcnJvcihcIlZhbHVlXCIpO1xufVxuXG5mdW5jdGlvbiBhcmd1bWVudHNfKGUpIHtcbiAgaWYgKDQwID09PSBuLmNoYXJDb2RlQXQoaSkpIHtcbiAgICB2YXIgciA9IFtdO1xuICAgIGkrKztcbiAgICBpZ25vcmVkKCk7XG4gICAgdmFyIHQ7XG4gICAgZG8ge1xuICAgICAgaWYgKG51bGwgPT0gKHQgPSBhZHZhbmNlKGEpKSkge1xuICAgICAgICB0aHJvdyBlcnJvcihcIkFyZ3VtZW50XCIpO1xuICAgICAgfVxuICAgICAgaWdub3JlZCgpO1xuICAgICAgaWYgKDU4ICE9PSBuLmNoYXJDb2RlQXQoaSsrKSkge1xuICAgICAgICB0aHJvdyBlcnJvcihcIkFyZ3VtZW50XCIpO1xuICAgICAgfVxuICAgICAgaWdub3JlZCgpO1xuICAgICAgci5wdXNoKHtcbiAgICAgICAga2luZDogXCJBcmd1bWVudFwiLFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAga2luZDogXCJOYW1lXCIsXG4gICAgICAgICAgdmFsdWU6IHRcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHZhbHVlKGUpXG4gICAgICB9KTtcbiAgICB9IHdoaWxlICg0MSAhPT0gbi5jaGFyQ29kZUF0KGkpKTtcbiAgICBpKys7XG4gICAgaWdub3JlZCgpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZXMoZSkge1xuICBpZiAoNjQgPT09IG4uY2hhckNvZGVBdChpKSkge1xuICAgIHZhciByID0gW107XG4gICAgdmFyIHQ7XG4gICAgZG8ge1xuICAgICAgaSsrO1xuICAgICAgaWYgKG51bGwgPT0gKHQgPSBhZHZhbmNlKGEpKSkge1xuICAgICAgICB0aHJvdyBlcnJvcihcIkRpcmVjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIGlnbm9yZWQoKTtcbiAgICAgIHIucHVzaCh7XG4gICAgICAgIGtpbmQ6IFwiRGlyZWN0aXZlXCIsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgICAgICB2YWx1ZTogdFxuICAgICAgICB9LFxuICAgICAgICBhcmd1bWVudHM6IGFyZ3VtZW50c18oZSlcbiAgICAgIH0pO1xuICAgIH0gd2hpbGUgKDY0ID09PSBuLmNoYXJDb2RlQXQoaSkpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmZ1bmN0aW9uIHR5cGUoKSB7XG4gIHZhciBlO1xuICB2YXIgciA9IDA7XG4gIHdoaWxlICg5MSA9PT0gbi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgcisrO1xuICAgIGkrKztcbiAgICBpZ25vcmVkKCk7XG4gIH1cbiAgaWYgKG51bGwgPT0gKGUgPSBhZHZhbmNlKGEpKSkge1xuICAgIHRocm93IGVycm9yKFwiTmFtZWRUeXBlXCIpO1xuICB9XG4gIGlnbm9yZWQoKTtcbiAgdmFyIHQgPSB7XG4gICAga2luZDogXCJOYW1lZFR5cGVcIixcbiAgICBuYW1lOiB7XG4gICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgIHZhbHVlOiBlXG4gICAgfVxuICB9O1xuICBkbyB7XG4gICAgaWYgKDMzID09PSBuLmNoYXJDb2RlQXQoaSkpIHtcbiAgICAgIGkrKztcbiAgICAgIGlnbm9yZWQoKTtcbiAgICAgIHQgPSB7XG4gICAgICAgIGtpbmQ6IFwiTm9uTnVsbFR5cGVcIixcbiAgICAgICAgdHlwZTogdFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHIpIHtcbiAgICAgIGlmICg5MyAhPT0gbi5jaGFyQ29kZUF0KGkrKykpIHtcbiAgICAgICAgdGhyb3cgZXJyb3IoXCJOYW1lZFR5cGVcIik7XG4gICAgICB9XG4gICAgICBpZ25vcmVkKCk7XG4gICAgICB0ID0ge1xuICAgICAgICBraW5kOiBcIkxpc3RUeXBlXCIsXG4gICAgICAgIHR5cGU6IHRcbiAgICAgIH07XG4gICAgfVxuICB9IHdoaWxlIChyLS0pO1xuICByZXR1cm4gdDtcbn1cblxudmFyIGQgPSBuZXcgUmVnRXhwKFwiKD86KFxcXFwuezN9KXwoXCIgKyBhLnNvdXJjZSArIFwiKSlcIiwgXCJ5XCIpO1xuXG52YXIgcyA9IGZ1bmN0aW9uKGUpIHtcbiAgZVtlLlNwcmVhZCA9IDFdID0gXCJTcHJlYWRcIjtcbiAgZVtlLk5hbWUgPSAyXSA9IFwiTmFtZVwiO1xuICByZXR1cm4gZTtcbn0ocyB8fCB7fSk7XG5cbmZ1bmN0aW9uIHNlbGVjdGlvblNldCgpIHtcbiAgdmFyIGUgPSBbXTtcbiAgdmFyIHI7XG4gIHZhciB0O1xuICBkbyB7XG4gICAgZC5sYXN0SW5kZXggPSBpO1xuICAgIGlmIChudWxsICE9ICh0ID0gZC5leGVjKG4pKSkge1xuICAgICAgaSA9IGQubGFzdEluZGV4O1xuICAgICAgaWYgKG51bGwgIT0gdFtzLlNwcmVhZF0pIHtcbiAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICB2YXIgbCA9IGFkdmFuY2UoYSk7XG4gICAgICAgIGlmIChudWxsICE9IGwgJiYgXCJvblwiICE9PSBsKSB7XG4gICAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICAgIGUucHVzaCh7XG4gICAgICAgICAgICBraW5kOiBcIkZyYWdtZW50U3ByZWFkXCIsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgIGtpbmQ6IFwiTmFtZVwiLFxuICAgICAgICAgICAgICB2YWx1ZTogbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMoITEpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICAgIGlmIChcIm9uXCIgPT09IGwpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09IChsID0gYWR2YW5jZShhKSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3IoXCJOYW1lZFR5cGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZ25vcmVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvID0gZGlyZWN0aXZlcyghMSk7XG4gICAgICAgICAgaWYgKDEyMyAhPT0gbi5jaGFyQ29kZUF0KGkrKykpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yKFwiSW5saW5lRnJhZ21lbnRcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlnbm9yZWQoKTtcbiAgICAgICAgICBlLnB1c2goe1xuICAgICAgICAgICAga2luZDogXCJJbmxpbmVGcmFnbWVudFwiLFxuICAgICAgICAgICAgdHlwZUNvbmRpdGlvbjogbCA/IHtcbiAgICAgICAgICAgICAga2luZDogXCJOYW1lZFR5cGVcIixcbiAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiTmFtZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBvLFxuICAgICAgICAgICAgc2VsZWN0aW9uU2V0OiBzZWxlY3Rpb25TZXQoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG51bGwgIT0gKHIgPSB0W3MuTmFtZV0pKSB7XG4gICAgICAgIHZhciB1ID0gdm9pZCAwO1xuICAgICAgICBpZ25vcmVkKCk7XG4gICAgICAgIGlmICg1OCA9PT0gbi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGlnbm9yZWQoKTtcbiAgICAgICAgICB1ID0gcjtcbiAgICAgICAgICBpZiAobnVsbCA9PSAociA9IGFkdmFuY2UoYSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcihcIkZpZWxkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZ25vcmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHYgPSBhcmd1bWVudHNfKCExKTtcbiAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICB2YXIgYyA9IGRpcmVjdGl2ZXMoITEpO1xuICAgICAgICB2YXIgZiA9IHZvaWQgMDtcbiAgICAgICAgaWYgKDEyMyA9PT0gbi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGlnbm9yZWQoKTtcbiAgICAgICAgICBmID0gc2VsZWN0aW9uU2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wdXNoKHtcbiAgICAgICAgICBraW5kOiBcIkZpZWxkXCIsXG4gICAgICAgICAgYWxpYXM6IHUgPyB7XG4gICAgICAgICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiB1XG4gICAgICAgICAgfSA6IHZvaWQgMCxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBraW5kOiBcIk5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiByXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcmd1bWVudHM6IHYsXG4gICAgICAgICAgZGlyZWN0aXZlczogYyxcbiAgICAgICAgICBzZWxlY3Rpb25TZXQ6IGZcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycm9yKFwiU2VsZWN0aW9uU2V0XCIpO1xuICAgIH1cbiAgfSB3aGlsZSAoMTI1ICE9PSBuLmNoYXJDb2RlQXQoaSkpO1xuICBpKys7XG4gIGlnbm9yZWQoKTtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcIlNlbGVjdGlvblNldFwiLFxuICAgIHNlbGVjdGlvbnM6IGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gZnJhZ21lbnREZWZpbml0aW9uKCkge1xuICB2YXIgZTtcbiAgdmFyIHI7XG4gIGlmIChudWxsID09IChlID0gYWR2YW5jZShhKSkpIHtcbiAgICB0aHJvdyBlcnJvcihcIkZyYWdtZW50RGVmaW5pdGlvblwiKTtcbiAgfVxuICBpZ25vcmVkKCk7XG4gIGlmIChcIm9uXCIgIT09IGFkdmFuY2UoYSkpIHtcbiAgICB0aHJvdyBlcnJvcihcIkZyYWdtZW50RGVmaW5pdGlvblwiKTtcbiAgfVxuICBpZ25vcmVkKCk7XG4gIGlmIChudWxsID09IChyID0gYWR2YW5jZShhKSkpIHtcbiAgICB0aHJvdyBlcnJvcihcIkZyYWdtZW50RGVmaW5pdGlvblwiKTtcbiAgfVxuICBpZ25vcmVkKCk7XG4gIHZhciB0ID0gZGlyZWN0aXZlcyghMSk7XG4gIGlmICgxMjMgIT09IG4uY2hhckNvZGVBdChpKyspKSB7XG4gICAgdGhyb3cgZXJyb3IoXCJGcmFnbWVudERlZmluaXRpb25cIik7XG4gIH1cbiAgaWdub3JlZCgpO1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IFwiRnJhZ21lbnREZWZpbml0aW9uXCIsXG4gICAgbmFtZToge1xuICAgICAga2luZDogXCJOYW1lXCIsXG4gICAgICB2YWx1ZTogZVxuICAgIH0sXG4gICAgdHlwZUNvbmRpdGlvbjoge1xuICAgICAga2luZDogXCJOYW1lZFR5cGVcIixcbiAgICAgIG5hbWU6IHtcbiAgICAgICAga2luZDogXCJOYW1lXCIsXG4gICAgICAgIHZhbHVlOiByXG4gICAgICB9XG4gICAgfSxcbiAgICBkaXJlY3RpdmVzOiB0LFxuICAgIHNlbGVjdGlvblNldDogc2VsZWN0aW9uU2V0KClcbiAgfTtcbn1cblxudmFyIHYgPSAvKD86cXVlcnl8bXV0YXRpb258c3Vic2NyaXB0aW9ufGZyYWdtZW50KS95O1xuXG5mdW5jdGlvbiBvcGVyYXRpb25EZWZpbml0aW9uKGUpIHtcbiAgdmFyIHI7XG4gIHZhciB0O1xuICB2YXIgbDtcbiAgaWYgKGUpIHtcbiAgICBpZ25vcmVkKCk7XG4gICAgciA9IGFkdmFuY2UoYSk7XG4gICAgdCA9IGZ1bmN0aW9uIHZhcmlhYmxlRGVmaW5pdGlvbnMoKSB7XG4gICAgICBpZ25vcmVkKCk7XG4gICAgICBpZiAoNDAgPT09IG4uY2hhckNvZGVBdChpKSkge1xuICAgICAgICB2YXIgZSA9IFtdO1xuICAgICAgICBpKys7XG4gICAgICAgIGlnbm9yZWQoKTtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAoMzYgIT09IG4uY2hhckNvZGVBdChpKyspKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcihcIlZhcmlhYmxlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobnVsbCA9PSAociA9IGFkdmFuY2UoYSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcihcIlZhcmlhYmxlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZ25vcmVkKCk7XG4gICAgICAgICAgaWYgKDU4ICE9PSBuLmNoYXJDb2RlQXQoaSsrKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3IoXCJWYXJpYWJsZURlZmluaXRpb25cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlnbm9yZWQoKTtcbiAgICAgICAgICB2YXIgdCA9IHR5cGUoKTtcbiAgICAgICAgICB2YXIgbCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoNjEgPT09IG4uY2hhckNvZGVBdChpKSkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICAgICAgbCA9IHZhbHVlKCEwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICAgIGUucHVzaCh7XG4gICAgICAgICAgICBraW5kOiBcIlZhcmlhYmxlRGVmaW5pdGlvblwiLFxuICAgICAgICAgICAgdmFyaWFibGU6IHtcbiAgICAgICAgICAgICAga2luZDogXCJWYXJpYWJsZVwiLFxuICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAga2luZDogXCJOYW1lXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6IHQsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGwsXG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzKCEwKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IHdoaWxlICg0MSAhPT0gbi5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBpZ25vcmVkKCk7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgIH0oKTtcbiAgICBsID0gZGlyZWN0aXZlcyghMSk7XG4gIH1cbiAgaWYgKDEyMyA9PT0gbi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgaSsrO1xuICAgIGlnbm9yZWQoKTtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogXCJPcGVyYXRpb25EZWZpbml0aW9uXCIsXG4gICAgICBvcGVyYXRpb246IGUgfHwgXCJxdWVyeVwiLFxuICAgICAgbmFtZTogciA/IHtcbiAgICAgICAga2luZDogXCJOYW1lXCIsXG4gICAgICAgIHZhbHVlOiByXG4gICAgICB9IDogdm9pZCAwLFxuICAgICAgdmFyaWFibGVEZWZpbml0aW9uczogdCxcbiAgICAgIGRpcmVjdGl2ZXM6IGwsXG4gICAgICBzZWxlY3Rpb25TZXQ6IHNlbGVjdGlvblNldCgpXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZShlLCByKSB7XG4gIGkgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gZG9jdW1lbnQoZSwgcikge1xuICAgIHZhciBuO1xuICAgIHZhciB0O1xuICAgIGlnbm9yZWQoKTtcbiAgICB2YXIgYSA9IFtdO1xuICAgIGRvIHtcbiAgICAgIGlmIChcImZyYWdtZW50XCIgPT09IChuID0gYWR2YW5jZSh2KSkpIHtcbiAgICAgICAgaWdub3JlZCgpO1xuICAgICAgICBhLnB1c2goZnJhZ21lbnREZWZpbml0aW9uKCkpO1xuICAgICAgfSBlbHNlIGlmIChudWxsICE9ICh0ID0gb3BlcmF0aW9uRGVmaW5pdGlvbihuKSkpIHtcbiAgICAgICAgYS5wdXNoKHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyb3IoXCJEb2N1bWVudFwiKTtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChpIDwgZS5sZW5ndGgpO1xuICAgIGlmICghcikge1xuICAgICAgdmFyIGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkRvY3VtZW50XCIsXG4gICAgICAgIGRlZmluaXRpb25zOiBhLFxuICAgICAgICBzZXQgbG9jKGUpIHtcbiAgICAgICAgICBsID0gZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGxvYygpIHtcbiAgICAgICAgICBpZiAoIWwpIHtcbiAgICAgICAgICAgIGwgPSB7XG4gICAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgICBlbmQ6IGUubGVuZ3RoLFxuICAgICAgICAgICAgICBzdGFydFRva2VuOiB2b2lkIDAsXG4gICAgICAgICAgICAgIGVuZFRva2VuOiB2b2lkIDAsXG4gICAgICAgICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgICAgIGJvZHk6IGUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJncmFwaHFsLndlYlwiLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICBsaW5lOiAxLFxuICAgICAgICAgICAgICAgICAgY29sdW1uOiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IFwiRG9jdW1lbnRcIixcbiAgICAgIGRlZmluaXRpb25zOiBhXG4gICAgfTtcbiAgfShuID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS5ib2R5ID8gZS5ib2R5IDogZSwgciAmJiByLm5vTG9jYXRpb24pO1xufVxuXG5mdW5jdGlvbiBwYXJzZVZhbHVlKGUsIHIpIHtcbiAgbiA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUuYm9keSA/IGUuYm9keSA6IGU7XG4gIGkgPSAwO1xuICBpZ25vcmVkKCk7XG4gIHJldHVybiB2YWx1ZSghMSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVHlwZShlLCByKSB7XG4gIG4gPSBcInN0cmluZ1wiID09IHR5cGVvZiBlLmJvZHkgPyBlLmJvZHkgOiBlO1xuICBpID0gMDtcbiAgcmV0dXJuIHR5cGUoKTtcbn1cblxudmFyIGMgPSB7fTtcblxuZnVuY3Rpb24gdmlzaXQoZSwgcikge1xuICB2YXIgbiA9IFtdO1xuICB2YXIgaSA9IFtdO1xuICB0cnkge1xuICAgIHZhciB0ID0gZnVuY3Rpb24gdHJhdmVyc2UoZSwgdCwgYSkge1xuICAgICAgdmFyIGwgPSAhMTtcbiAgICAgIHZhciBvID0gcltlLmtpbmRdICYmIHJbZS5raW5kXS5lbnRlciB8fCByW2Uua2luZF0gfHwgci5lbnRlcjtcbiAgICAgIHZhciB1ID0gbyAmJiBvLmNhbGwociwgZSwgdCwgYSwgaSwgbik7XG4gICAgICBpZiAoITEgPT09IHUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9IGVsc2UgaWYgKG51bGwgPT09IHUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHUgPT09IGMpIHtcbiAgICAgICAgdGhyb3cgYztcbiAgICAgIH0gZWxzZSBpZiAodSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiB1LmtpbmQpIHtcbiAgICAgICAgbCA9IHUgIT09IGU7XG4gICAgICAgIGUgPSB1O1xuICAgICAgfVxuICAgICAgaWYgKGEpIHtcbiAgICAgICAgbi5wdXNoKGEpO1xuICAgICAgfVxuICAgICAgdmFyIGQ7XG4gICAgICB2YXIgcyA9IHtcbiAgICAgICAgLi4uZVxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIHYgaW4gZSkge1xuICAgICAgICBpLnB1c2godik7XG4gICAgICAgIHZhciBmID0gZVt2XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZikpIHtcbiAgICAgICAgICB2YXIgZyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgZi5sZW5ndGg7IG0rKykge1xuICAgICAgICAgICAgaWYgKG51bGwgIT0gZlttXSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBmW21dLmtpbmQpIHtcbiAgICAgICAgICAgICAgbi5wdXNoKGUpO1xuICAgICAgICAgICAgICBpLnB1c2gobSk7XG4gICAgICAgICAgICAgIGQgPSB0cmF2ZXJzZShmW21dLCBtLCBmKTtcbiAgICAgICAgICAgICAgaS5wb3AoKTtcbiAgICAgICAgICAgICAgbi5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT0gZCkge1xuICAgICAgICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsID0gbCB8fCBkICE9PSBmW21dO1xuICAgICAgICAgICAgICAgIGcucHVzaChkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmID0gZztcbiAgICAgICAgfSBlbHNlIGlmIChudWxsICE9IGYgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZi5raW5kKSB7XG4gICAgICAgICAgaWYgKHZvaWQgMCAhPT0gKGQgPSB0cmF2ZXJzZShmLCB2LCBlKSkpIHtcbiAgICAgICAgICAgIGwgPSBsIHx8IGYgIT09IGQ7XG4gICAgICAgICAgICBmID0gZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaS5wb3AoKTtcbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICBzW3ZdID0gZjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGEpIHtcbiAgICAgICAgbi5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHZhciBwID0gcltlLmtpbmRdICYmIHJbZS5raW5kXS5sZWF2ZSB8fCByLmxlYXZlO1xuICAgICAgdmFyIGggPSBwICYmIHAuY2FsbChyLCBlLCB0LCBhLCBpLCBuKTtcbiAgICAgIGlmIChoID09PSBjKSB7XG4gICAgICAgIHRocm93IGM7XG4gICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gaCkge1xuICAgICAgICByZXR1cm4gaDtcbiAgICAgIH0gZWxzZSBpZiAodm9pZCAwICE9PSB1KSB7XG4gICAgICAgIHJldHVybiBsID8gcyA6IHU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbCA/IHMgOiBlO1xuICAgICAgfVxuICAgIH0oZSk7XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gdCAmJiAhMSAhPT0gdCA/IHQgOiBlO1xuICB9IGNhdGNoIChyKSB7XG4gICAgaWYgKHIgIT09IGMpIHtcbiAgICAgIHRocm93IHI7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcEpvaW4oZSwgciwgbikge1xuICB2YXIgaSA9IFwiXCI7XG4gIGZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykge1xuICAgIGlmICh0KSB7XG4gICAgICBpICs9IHI7XG4gICAgfVxuICAgIGkgKz0gbihlW3RdKTtcbiAgfVxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gcHJpbnRTdHJpbmcoZSkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7XG59XG5cbmZ1bmN0aW9uIHByaW50QmxvY2tTdHJpbmcoZSkge1xuICByZXR1cm4gJ1wiXCJcIlxcbicgKyBlLnJlcGxhY2UoL1wiXCJcIi9nLCAnXFxcXFwiXCJcIicpICsgJ1xcblwiXCJcIic7XG59XG5cbnZhciBmID0gXCJcXG5cIjtcblxudmFyIGcgPSB7XG4gIE9wZXJhdGlvbkRlZmluaXRpb24oZSkge1xuICAgIHZhciByID0gZS5vcGVyYXRpb247XG4gICAgaWYgKGUubmFtZSkge1xuICAgICAgciArPSBcIiBcIiArIGUubmFtZS52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGUudmFyaWFibGVEZWZpbml0aW9ucyAmJiBlLnZhcmlhYmxlRGVmaW5pdGlvbnMubGVuZ3RoKSB7XG4gICAgICBpZiAoIWUubmFtZSkge1xuICAgICAgICByICs9IFwiIFwiO1xuICAgICAgfVxuICAgICAgciArPSBcIihcIiArIG1hcEpvaW4oZS52YXJpYWJsZURlZmluaXRpb25zLCBcIiwgXCIsIGcuVmFyaWFibGVEZWZpbml0aW9uKSArIFwiKVwiO1xuICAgIH1cbiAgICBpZiAoZS5kaXJlY3RpdmVzICYmIGUuZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHIgKz0gXCIgXCIgKyBtYXBKb2luKGUuZGlyZWN0aXZlcywgXCIgXCIsIGcuRGlyZWN0aXZlKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicXVlcnlcIiAhPT0gciA/IHIgKyBcIiBcIiArIGcuU2VsZWN0aW9uU2V0KGUuc2VsZWN0aW9uU2V0KSA6IGcuU2VsZWN0aW9uU2V0KGUuc2VsZWN0aW9uU2V0KTtcbiAgfSxcbiAgVmFyaWFibGVEZWZpbml0aW9uKGUpIHtcbiAgICB2YXIgciA9IGcuVmFyaWFibGUoZS52YXJpYWJsZSkgKyBcIjogXCIgKyBfcHJpbnQoZS50eXBlKTtcbiAgICBpZiAoZS5kZWZhdWx0VmFsdWUpIHtcbiAgICAgIHIgKz0gXCIgPSBcIiArIF9wcmludChlLmRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChlLmRpcmVjdGl2ZXMgJiYgZS5kaXJlY3RpdmVzLmxlbmd0aCkge1xuICAgICAgciArPSBcIiBcIiArIG1hcEpvaW4oZS5kaXJlY3RpdmVzLCBcIiBcIiwgZy5EaXJlY3RpdmUpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSxcbiAgRmllbGQoZSkge1xuICAgIHZhciByID0gZS5hbGlhcyA/IGUuYWxpYXMudmFsdWUgKyBcIjogXCIgKyBlLm5hbWUudmFsdWUgOiBlLm5hbWUudmFsdWU7XG4gICAgaWYgKGUuYXJndW1lbnRzICYmIGUuYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdmFyIG4gPSBtYXBKb2luKGUuYXJndW1lbnRzLCBcIiwgXCIsIGcuQXJndW1lbnQpO1xuICAgICAgaWYgKHIubGVuZ3RoICsgbi5sZW5ndGggKyAyID4gODApIHtcbiAgICAgICAgciArPSBcIihcIiArIChmICs9IFwiICBcIikgKyBtYXBKb2luKGUuYXJndW1lbnRzLCBmLCBnLkFyZ3VtZW50KSArIChmID0gZi5zbGljZSgwLCAtMikpICsgXCIpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByICs9IFwiKFwiICsgbiArIFwiKVwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZS5kaXJlY3RpdmVzICYmIGUuZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHIgKz0gXCIgXCIgKyBtYXBKb2luKGUuZGlyZWN0aXZlcywgXCIgXCIsIGcuRGlyZWN0aXZlKTtcbiAgICB9XG4gICAgaWYgKGUuc2VsZWN0aW9uU2V0ICYmIGUuc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICByICs9IFwiIFwiICsgZy5TZWxlY3Rpb25TZXQoZS5zZWxlY3Rpb25TZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSxcbiAgU3RyaW5nVmFsdWUoZSkge1xuICAgIGlmIChlLmJsb2NrKSB7XG4gICAgICByZXR1cm4gcHJpbnRCbG9ja1N0cmluZyhlLnZhbHVlKS5yZXBsYWNlKC9cXG4vZywgZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcmludFN0cmluZyhlLnZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIEJvb2xlYW5WYWx1ZTogZSA9PiBcIlwiICsgZS52YWx1ZSxcbiAgTnVsbFZhbHVlOiBlID0+IFwibnVsbFwiLFxuICBJbnRWYWx1ZTogZSA9PiBlLnZhbHVlLFxuICBGbG9hdFZhbHVlOiBlID0+IGUudmFsdWUsXG4gIEVudW1WYWx1ZTogZSA9PiBlLnZhbHVlLFxuICBOYW1lOiBlID0+IGUudmFsdWUsXG4gIFZhcmlhYmxlOiBlID0+IFwiJFwiICsgZS5uYW1lLnZhbHVlLFxuICBMaXN0VmFsdWU6IGUgPT4gXCJbXCIgKyBtYXBKb2luKGUudmFsdWVzLCBcIiwgXCIsIF9wcmludCkgKyBcIl1cIixcbiAgT2JqZWN0VmFsdWU6IGUgPT4gXCJ7XCIgKyBtYXBKb2luKGUuZmllbGRzLCBcIiwgXCIsIGcuT2JqZWN0RmllbGQpICsgXCJ9XCIsXG4gIE9iamVjdEZpZWxkOiBlID0+IGUubmFtZS52YWx1ZSArIFwiOiBcIiArIF9wcmludChlLnZhbHVlKSxcbiAgRG9jdW1lbnQoZSkge1xuICAgIGlmICghZS5kZWZpbml0aW9ucyB8fCAhZS5kZWZpbml0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gbWFwSm9pbihlLmRlZmluaXRpb25zLCBcIlxcblxcblwiLCBfcHJpbnQpO1xuICB9LFxuICBTZWxlY3Rpb25TZXQ6IGUgPT4gXCJ7XCIgKyAoZiArPSBcIiAgXCIpICsgbWFwSm9pbihlLnNlbGVjdGlvbnMsIGYsIF9wcmludCkgKyAoZiA9IGYuc2xpY2UoMCwgLTIpKSArIFwifVwiLFxuICBBcmd1bWVudDogZSA9PiBlLm5hbWUudmFsdWUgKyBcIjogXCIgKyBfcHJpbnQoZS52YWx1ZSksXG4gIEZyYWdtZW50U3ByZWFkKGUpIHtcbiAgICB2YXIgciA9IFwiLi4uXCIgKyBlLm5hbWUudmFsdWU7XG4gICAgaWYgKGUuZGlyZWN0aXZlcyAmJiBlLmRpcmVjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICByICs9IFwiIFwiICsgbWFwSm9pbihlLmRpcmVjdGl2ZXMsIFwiIFwiLCBnLkRpcmVjdGl2ZSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9LFxuICBJbmxpbmVGcmFnbWVudChlKSB7XG4gICAgdmFyIHIgPSBcIi4uLlwiO1xuICAgIGlmIChlLnR5cGVDb25kaXRpb24pIHtcbiAgICAgIHIgKz0gXCIgb24gXCIgKyBlLnR5cGVDb25kaXRpb24ubmFtZS52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGUuZGlyZWN0aXZlcyAmJiBlLmRpcmVjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICByICs9IFwiIFwiICsgbWFwSm9pbihlLmRpcmVjdGl2ZXMsIFwiIFwiLCBnLkRpcmVjdGl2ZSk7XG4gICAgfVxuICAgIHJldHVybiByICs9IFwiIFwiICsgZy5TZWxlY3Rpb25TZXQoZS5zZWxlY3Rpb25TZXQpO1xuICB9LFxuICBGcmFnbWVudERlZmluaXRpb24oZSkge1xuICAgIHZhciByID0gXCJmcmFnbWVudCBcIiArIGUubmFtZS52YWx1ZTtcbiAgICByICs9IFwiIG9uIFwiICsgZS50eXBlQ29uZGl0aW9uLm5hbWUudmFsdWU7XG4gICAgaWYgKGUuZGlyZWN0aXZlcyAmJiBlLmRpcmVjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICByICs9IFwiIFwiICsgbWFwSm9pbihlLmRpcmVjdGl2ZXMsIFwiIFwiLCBnLkRpcmVjdGl2ZSk7XG4gICAgfVxuICAgIHJldHVybiByICsgXCIgXCIgKyBnLlNlbGVjdGlvblNldChlLnNlbGVjdGlvblNldCk7XG4gIH0sXG4gIERpcmVjdGl2ZShlKSB7XG4gICAgdmFyIHIgPSBcIkBcIiArIGUubmFtZS52YWx1ZTtcbiAgICBpZiAoZS5hcmd1bWVudHMgJiYgZS5hcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByICs9IFwiKFwiICsgbWFwSm9pbihlLmFyZ3VtZW50cywgXCIsIFwiLCBnLkFyZ3VtZW50KSArIFwiKVwiO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSxcbiAgTmFtZWRUeXBlOiBlID0+IGUubmFtZS52YWx1ZSxcbiAgTGlzdFR5cGU6IGUgPT4gXCJbXCIgKyBfcHJpbnQoZS50eXBlKSArIFwiXVwiLFxuICBOb25OdWxsVHlwZTogZSA9PiBfcHJpbnQoZS50eXBlKSArIFwiIVwiXG59O1xuXG52YXIgX3ByaW50ID0gZSA9PiBnW2Uua2luZF0oZSk7XG5cbmZ1bmN0aW9uIHByaW50KGUpIHtcbiAgZiA9IFwiXFxuXCI7XG4gIHJldHVybiBnW2Uua2luZF0gPyBnW2Uua2luZF0oZSkgOiBcIlwiO1xufVxuXG5mdW5jdGlvbiB2YWx1ZUZyb21BU1RVbnR5cGVkKGUsIHIpIHtcbiAgc3dpdGNoIChlLmtpbmQpIHtcbiAgIGNhc2UgXCJOdWxsVmFsdWVcIjpcbiAgICByZXR1cm4gbnVsbDtcblxuICAgY2FzZSBcIkludFZhbHVlXCI6XG4gICAgcmV0dXJuIHBhcnNlSW50KGUudmFsdWUsIDEwKTtcblxuICAgY2FzZSBcIkZsb2F0VmFsdWVcIjpcbiAgICByZXR1cm4gcGFyc2VGbG9hdChlLnZhbHVlKTtcblxuICAgY2FzZSBcIlN0cmluZ1ZhbHVlXCI6XG4gICBjYXNlIFwiRW51bVZhbHVlXCI6XG4gICBjYXNlIFwiQm9vbGVhblZhbHVlXCI6XG4gICAgcmV0dXJuIGUudmFsdWU7XG5cbiAgIGNhc2UgXCJMaXN0VmFsdWVcIjpcbiAgICB2YXIgbiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCB0ID0gZS52YWx1ZXMubGVuZ3RoOyBpIDwgdDsgaSsrKSB7XG4gICAgICBuLnB1c2godmFsdWVGcm9tQVNUVW50eXBlZChlLnZhbHVlc1tpXSwgcikpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcblxuICAgY2FzZSBcIk9iamVjdFZhbHVlXCI6XG4gICAgdmFyIGEgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAodmFyIGwgPSAwLCBvID0gZS5maWVsZHMubGVuZ3RoOyBsIDwgbzsgbCsrKSB7XG4gICAgICB2YXIgdSA9IGUuZmllbGRzW2xdO1xuICAgICAgYVt1Lm5hbWUudmFsdWVdID0gdmFsdWVGcm9tQVNUVW50eXBlZCh1LnZhbHVlLCByKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG5cbiAgIGNhc2UgXCJWYXJpYWJsZVwiOlxuICAgIHJldHVybiByICYmIHJbZS5uYW1lLnZhbHVlXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWx1ZUZyb21UeXBlTm9kZShlLCByLCBuKSB7XG4gIGlmIChcIlZhcmlhYmxlXCIgPT09IGUua2luZCkge1xuICAgIHJldHVybiBuID8gdmFsdWVGcm9tVHlwZU5vZGUobltlLm5hbWUudmFsdWVdLCByLCBuKSA6IHZvaWQgMDtcbiAgfSBlbHNlIGlmIChcIk5vbk51bGxUeXBlXCIgPT09IHIua2luZCkge1xuICAgIHJldHVybiBcIk51bGxWYWx1ZVwiICE9PSBlLmtpbmQgPyB2YWx1ZUZyb21UeXBlTm9kZShlLCByLCBuKSA6IHZvaWQgMDtcbiAgfSBlbHNlIGlmIChcIk51bGxWYWx1ZVwiID09PSBlLmtpbmQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChcIkxpc3RUeXBlXCIgPT09IHIua2luZCkge1xuICAgIGlmIChcIkxpc3RWYWx1ZVwiID09PSBlLmtpbmQpIHtcbiAgICAgIHZhciBpID0gW107XG4gICAgICBmb3IgKHZhciB0ID0gMCwgYSA9IGUudmFsdWVzLmxlbmd0aDsgdCA8IGE7IHQrKykge1xuICAgICAgICB2YXIgbCA9IHZhbHVlRnJvbVR5cGVOb2RlKGUudmFsdWVzW3RdLCByLnR5cGUsIG4pO1xuICAgICAgICBpZiAodm9pZCAwID09PSBsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkucHVzaChsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwiTmFtZWRUeXBlXCIgPT09IHIua2luZCkge1xuICAgIHN3aXRjaCAoci5uYW1lLnZhbHVlKSB7XG4gICAgIGNhc2UgXCJJbnRcIjpcbiAgICAgY2FzZSBcIkZsb2F0XCI6XG4gICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgY2FzZSBcIkJvb2xcIjpcbiAgICAgIHJldHVybiByLm5hbWUudmFsdWUgKyBcIlZhbHVlXCIgPT09IGUua2luZCA/IHZhbHVlRnJvbUFTVFVudHlwZWQoZSwgbikgOiB2b2lkIDA7XG5cbiAgICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZUZyb21BU1RVbnR5cGVkKGUsIG4pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NlbGVjdGlvbk5vZGUoZSkge1xuICByZXR1cm4gXCJGaWVsZFwiID09PSBlLmtpbmQgfHwgXCJGcmFnbWVudFNwcmVhZFwiID09PSBlLmtpbmQgfHwgXCJJbmxpbmVGcmFnbWVudFwiID09PSBlLmtpbmQ7XG59XG5cbmZ1bmN0aW9uIFNvdXJjZShlLCByLCBuKSB7XG4gIHJldHVybiB7XG4gICAgYm9keTogZSxcbiAgICBuYW1lOiByLFxuICAgIGxvY2F0aW9uT2Zmc2V0OiBuIHx8IHtcbiAgICAgIGxpbmU6IDEsXG4gICAgICBjb2x1bW46IDFcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IGMgYXMgQlJFQUssIEdyYXBoUUxFcnJvciwgZSBhcyBLaW5kLCByIGFzIE9wZXJhdGlvblR5cGVOb2RlLCBTb3VyY2UsIGlzU2VsZWN0aW9uTm9kZSwgcGFyc2UsIHBhcnNlVHlwZSwgcGFyc2VWYWx1ZSwgcHJpbnQsIHByaW50QmxvY2tTdHJpbmcsIHByaW50U3RyaW5nLCB2YWx1ZUZyb21BU1RVbnR5cGVkLCB2YWx1ZUZyb21UeXBlTm9kZSwgdmlzaXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBocWwud2ViLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var _chunk_O7ARI5CV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-O7ARI5CV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n\n\n\n// src/components/toast/toast-provider.tsx\n\n\nvar ToastContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useToast() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ToastContext);\n  if (!context) {\n    throw new Error(\"useToast must be used within a ToastProvider\");\n  }\n  return context;\n}\nfunction ToastProvider({\n  enabled,\n  children\n}) {\n  const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const addToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((toast) => {\n    const id = Math.random().toString(36).substring(2, 9);\n    setToasts((currentToasts) => [...currentToasts, (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, toast), { id })]);\n    if (toast.duration) {\n      setTimeout(() => {\n        removeToast(id);\n      }, toast.duration);\n    }\n  }, []);\n  const addGraphQLErrorsToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((errors) => {\n    const errorsToRender = errors.map((error, idx) => {\n      var _a;\n      const message = error.message;\n      const code = (_a = error.extensions) == null ? void 0 : _a.code;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          style: {\n            marginTop: idx === 0 ? 0 : 10,\n            marginBottom: 14\n          },\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_O7ARI5CV_mjs__WEBPACK_IMPORTED_MODULE_3__.ExclamationMarkIcon, { style: { marginBottom: 4 } }),\n            code && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n              \"div\",\n              {\n                style: {\n                  fontWeight: \"600\",\n                  marginBottom: 4\n                },\n                children: [\n                  \"Copilot Cloud Error:\",\n                  \" \",\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontFamily: \"monospace\", fontWeight: \"normal\" }, children: code })\n                ]\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { children: message })\n          ]\n        },\n        idx\n      );\n    });\n    addToast({\n      type: \"error\",\n      message: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          style: {\n            fontSize: \"13px\",\n            maxWidth: \"600px\"\n          },\n          children: [\n            errorsToRender,\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { fontSize: \"11px\", opacity: 0.75 }, children: \"NOTE: This is a Copilot Cloud error, and it only displays during local development.\" })\n          ]\n        }\n      )\n    });\n  }, []);\n  const removeToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setToasts((currentToasts) => currentToasts.filter((toast) => toast.id !== id));\n  }, []);\n  const value = {\n    toasts,\n    addToast,\n    addGraphQLErrorsToast,\n    removeToast,\n    enabled\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(ToastContext.Provider, { value, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n      \"div\",\n      {\n        style: {\n          position: \"fixed\",\n          bottom: \"1rem\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          zIndex: 50,\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"0.5rem\"\n        },\n        children: [\n          toasts.length > 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { textAlign: \"right\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"button\",\n            {\n              onClick: () => setToasts([]),\n              style: {\n                padding: \"4px 8px\",\n                fontSize: \"12px\",\n                cursor: \"pointer\",\n                background: \"white\",\n                border: \"1px solid rgba(0,0,0,0.2)\",\n                borderRadius: \"4px\"\n              },\n              children: \"Close All\"\n            }\n          ) }),\n          toasts.map((toast) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            Toast,\n            {\n              message: toast.message,\n              type: toast.type,\n              onClose: () => removeToast(toast.id)\n            },\n            toast.id\n          ))\n        ]\n      }\n    ),\n    children\n  ] });\n}\nfunction Toast({\n  message,\n  type = \"info\",\n  onClose\n}) {\n  const bgColors = {\n    info: \"#3b82f6\",\n    success: \"#22c55e\",\n    warning: \"#eab308\",\n    error: \"#ef4444\"\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      style: {\n        backgroundColor: bgColors[type],\n        color: \"white\",\n        padding: \"0.5rem 1rem\",\n        borderRadius: \"0.25rem\",\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n        position: \"relative\",\n        minWidth: \"200px\"\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { children: message }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"button\",\n          {\n            onClick: onClose,\n            style: {\n              position: \"absolute\",\n              top: \"0\",\n              right: \"0\",\n              background: \"none\",\n              border: \"none\",\n              color: \"white\",\n              cursor: \"pointer\",\n              padding: \"0.5rem\",\n              fontSize: \"1rem\"\n            },\n            children: \"\\u2715\"\n          }\n        )\n      ]\n    }\n  );\n}\n\n\n//# sourceMappingURL=chunk-2KCEHGSI.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstMktDRUhHU0kubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU4QjtBQUlBOztBQUU5QjtBQUN5RTtBQUMzQjtBQUM5QyxtQkFBbUIsb0RBQWE7QUFDaEM7QUFDQSxrQkFBa0IsaURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw4QkFBOEIsK0NBQVE7QUFDdEMsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0Esb0RBQW9ELGtFQUFhLENBQUMsbUVBQWMsR0FBRyxZQUFZLElBQUk7QUFDbkc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILGdDQUFnQyxrREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1REFBSTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsb0VBQW1CLElBQUksU0FBUyxtQkFBbUI7QUFDbkYsb0NBQW9DLHVEQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNEQUFHLFdBQVcsU0FBUywrQ0FBK0Msa0JBQWtCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzREFBRyxVQUFVLG1CQUFtQjtBQUM1RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQkFBK0IsdURBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFHLFVBQVUsU0FBUyxpQ0FBaUMsbUdBQW1HO0FBQ3RMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFJLDBCQUEwQjtBQUN2RCxvQkFBb0IsdURBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLCtDQUErQyxzREFBRyxVQUFVLFNBQVMsb0JBQW9CLDRCQUE0QixzREFBRztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdEQUFnRCxzREFBRztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHdCQUF3QixzREFBRyxVQUFVLG1CQUFtQjtBQUN4RCx3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstMktDRUhHU0kubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEV4Y2xhbWF0aW9uTWFya0ljb25cbn0gZnJvbSBcIi4vY2h1bmstTzdBUkk1Q1YubWpzXCI7XG5pbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9hc3QvdG9hc3QtcHJvdmlkZXIudHN4XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFRvYXN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIHVzZVRvYXN0KCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChUb2FzdENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VUb2FzdCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgVG9hc3RQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIFRvYXN0UHJvdmlkZXIoe1xuICBlbmFibGVkLFxuICBjaGlsZHJlblxufSkge1xuICBjb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBhZGRUb2FzdCA9IHVzZUNhbGxiYWNrKCh0b2FzdCkgPT4ge1xuICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpO1xuICAgIHNldFRvYXN0cygoY3VycmVudFRvYXN0cykgPT4gWy4uLmN1cnJlbnRUb2FzdHMsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHRvYXN0KSwgeyBpZCB9KV0pO1xuICAgIGlmICh0b2FzdC5kdXJhdGlvbikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRvYXN0KGlkKTtcbiAgICAgIH0sIHRvYXN0LmR1cmF0aW9uKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgYWRkR3JhcGhRTEVycm9yc1RvYXN0ID0gdXNlQ2FsbGJhY2soKGVycm9ycykgPT4ge1xuICAgIGNvbnN0IGVycm9yc1RvUmVuZGVyID0gZXJyb3JzLm1hcCgoZXJyb3IsIGlkeCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICBjb25zdCBjb2RlID0gKF9hID0gZXJyb3IuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvZGU7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbWFyZ2luVG9wOiBpZHggPT09IDAgPyAwIDogMTAsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IDE0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChFeGNsYW1hdGlvbk1hcmtJY29uLCB7IHN0eWxlOiB7IG1hcmdpbkJvdHRvbTogNCB9IH0pLFxuICAgICAgICAgICAgY29kZSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiA0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgXCJDb3BpbG90IENsb3VkIEVycm9yOlwiLFxuICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IHN0eWxlOiB7IGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIgfSwgY2hpbGRyZW46IGNvZGUgfSlcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSlcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIGlkeFxuICAgICAgKTtcbiAgICB9KTtcbiAgICBhZGRUb2FzdCh7XG4gICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIxM3B4XCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogXCI2MDBweFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgZXJyb3JzVG9SZW5kZXIsXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMTFweFwiLCBvcGFjaXR5OiAwLjc1IH0sIGNoaWxkcmVuOiBcIk5PVEU6IFRoaXMgaXMgYSBDb3BpbG90IENsb3VkIGVycm9yLCBhbmQgaXQgb25seSBkaXNwbGF5cyBkdXJpbmcgbG9jYWwgZGV2ZWxvcG1lbnQuXCIgfSlcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCByZW1vdmVUb2FzdCA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIHNldFRvYXN0cygoY3VycmVudFRvYXN0cykgPT4gY3VycmVudFRvYXN0cy5maWx0ZXIoKHRvYXN0KSA9PiB0b2FzdC5pZCAhPT0gaWQpKTtcbiAgfSwgW10pO1xuICBjb25zdCB2YWx1ZSA9IHtcbiAgICB0b2FzdHMsXG4gICAgYWRkVG9hc3QsXG4gICAgYWRkR3JhcGhRTEVycm9yc1RvYXN0LFxuICAgIHJlbW92ZVRvYXN0LFxuICAgIGVuYWJsZWRcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRvYXN0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICBib3R0b206IFwiMXJlbVwiLFxuICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoLTUwJSlcIixcbiAgICAgICAgICB6SW5kZXg6IDUwLFxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgZ2FwOiBcIjAuNXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgdG9hc3RzLmxlbmd0aCA+IDEgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IHRleHRBbGlnbjogXCJyaWdodFwiIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gc2V0VG9hc3RzKFtdKSxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxMnB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMilcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFwiQ2xvc2UgQWxsXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApIH0pLFxuICAgICAgICAgIHRvYXN0cy5tYXAoKHRvYXN0KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgVG9hc3QsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IHRvYXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgIHR5cGU6IHRvYXN0LnR5cGUsXG4gICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHJlbW92ZVRvYXN0KHRvYXN0LmlkKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvYXN0LmlkXG4gICAgICAgICAgKSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICksXG4gICAgY2hpbGRyZW5cbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIFRvYXN0KHtcbiAgbWVzc2FnZSxcbiAgdHlwZSA9IFwiaW5mb1wiLFxuICBvbkNsb3NlXG59KSB7XG4gIGNvbnN0IGJnQ29sb3JzID0ge1xuICAgIGluZm86IFwiIzNiODJmNlwiLFxuICAgIHN1Y2Nlc3M6IFwiIzIyYzU1ZVwiLFxuICAgIHdhcm5pbmc6IFwiI2VhYjMwOFwiLFxuICAgIGVycm9yOiBcIiNlZjQ0NDRcIlxuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJnQ29sb3JzW3R5cGVdLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAxcmVtXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIwLjI1cmVtXCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIG1pbldpZHRoOiBcIjIwMHB4XCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbkNsaWNrOiBvbkNsb3NlLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IFwiXFx1MjcxNVwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufVxuXG5leHBvcnQge1xuICB1c2VUb2FzdCxcbiAgVG9hc3RQcm92aWRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTJLQ0VIR1NJLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_flat_category_store_default: () => (/* binding */ use_flat_category_store_default)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n// src/hooks/use-flat-category-store.ts\n\n\nvar useFlatCategoryStore = () => {\n  const [elements, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(flatCategoryStoreReducer, /* @__PURE__ */ new Map());\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value, categories) => {\n    const newId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.randomId)();\n    dispatch({\n      type: \"ADD_ELEMENT\",\n      value,\n      id: newId,\n      categories\n    });\n    return newId;\n  }, []);\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_ELEMENT\", id });\n  }, []);\n  const allElements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      const result = [];\n      elements.forEach((element) => {\n        if (setsHaveIntersection(categoriesSet, element.categories)) {\n          result.push(element.value);\n        }\n      });\n      return result;\n    },\n    [elements]\n  );\n  return { addElement, removeElement, allElements };\n};\nvar use_flat_category_store_default = useFlatCategoryStore;\nfunction flatCategoryStoreReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_ELEMENT\": {\n      const { value, id, categories } = action;\n      const newElement = {\n        id,\n        value,\n        categories: new Set(categories)\n      };\n      const newState = new Map(state);\n      newState.set(id, newElement);\n      return newState;\n    }\n    case \"REMOVE_ELEMENT\": {\n      const newState = new Map(state);\n      newState.delete(action.id);\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-5FHSUKQL.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstNUZIU1VLUUwubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ2dEO0FBQ0Y7QUFDOUM7QUFDQSwrQkFBK0IsaURBQVU7QUFDekMscUJBQXFCLGtEQUFXO0FBQ2hDLGtCQUFrQiw0REFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILHdCQUF3QixrREFBVztBQUNuQyxlQUFlLDRCQUE0QjtBQUMzQyxHQUFHO0FBQ0gsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay01RkhTVUtRTC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hvb2tzL3VzZS1mbGF0LWNhdGVnb3J5LXN0b3JlLnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVkdWNlciB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcmFuZG9tSWQgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG52YXIgdXNlRmxhdENhdGVnb3J5U3RvcmUgPSAoKSA9PiB7XG4gIGNvbnN0IFtlbGVtZW50cywgZGlzcGF0Y2hdID0gdXNlUmVkdWNlcihmbGF0Q2F0ZWdvcnlTdG9yZVJlZHVjZXIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICBjb25zdCBhZGRFbGVtZW50ID0gdXNlQ2FsbGJhY2soKHZhbHVlLCBjYXRlZ29yaWVzKSA9PiB7XG4gICAgY29uc3QgbmV3SWQgPSByYW5kb21JZCgpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFwiQUREX0VMRU1FTlRcIixcbiAgICAgIHZhbHVlLFxuICAgICAgaWQ6IG5ld0lkLFxuICAgICAgY2F0ZWdvcmllc1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdJZDtcbiAgfSwgW10pO1xuICBjb25zdCByZW1vdmVFbGVtZW50ID0gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFTU9WRV9FTEVNRU5UXCIsIGlkIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IGFsbEVsZW1lbnRzID0gdXNlQ2FsbGJhY2soXG4gICAgKGNhdGVnb3JpZXMpID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNTZXQgPSBuZXcgU2V0KGNhdGVnb3JpZXMpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChzZXRzSGF2ZUludGVyc2VjdGlvbihjYXRlZ29yaWVzU2V0LCBlbGVtZW50LmNhdGVnb3JpZXMpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goZWxlbWVudC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIFtlbGVtZW50c11cbiAgKTtcbiAgcmV0dXJuIHsgYWRkRWxlbWVudCwgcmVtb3ZlRWxlbWVudCwgYWxsRWxlbWVudHMgfTtcbn07XG52YXIgdXNlX2ZsYXRfY2F0ZWdvcnlfc3RvcmVfZGVmYXVsdCA9IHVzZUZsYXRDYXRlZ29yeVN0b3JlO1xuZnVuY3Rpb24gZmxhdENhdGVnb3J5U3RvcmVSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJBRERfRUxFTUVOVFwiOiB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBpZCwgY2F0ZWdvcmllcyB9ID0gYWN0aW9uO1xuICAgICAgY29uc3QgbmV3RWxlbWVudCA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjYXRlZ29yaWVzOiBuZXcgU2V0KGNhdGVnb3JpZXMpXG4gICAgICB9O1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBuZXcgTWFwKHN0YXRlKTtcbiAgICAgIG5ld1N0YXRlLnNldChpZCwgbmV3RWxlbWVudCk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIGNhc2UgXCJSRU1PVkVfRUxFTUVOVFwiOiB7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IG5ldyBNYXAoc3RhdGUpO1xuICAgICAgbmV3U3RhdGUuZGVsZXRlKGFjdGlvbi5pZCk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldHNIYXZlSW50ZXJzZWN0aW9uKHNldEEsIHNldEIpIHtcbiAgY29uc3QgW3NtYWxsZXJTZXQsIGxhcmdlclNldF0gPSBzZXRBLnNpemUgPD0gc2V0Qi5zaXplID8gW3NldEEsIHNldEJdIDogW3NldEIsIHNldEFdO1xuICBmb3IgKGxldCBpdGVtIG9mIHNtYWxsZXJTZXQpIHtcbiAgICBpZiAobGFyZ2VyU2V0LmhhcyhpdGVtKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlX2ZsYXRfY2F0ZWdvcnlfc3RvcmVfZGVmYXVsdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTVGSFNVS1FMLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_tree_default: () => (/* binding */ use_tree_default)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n// src/hooks/use-tree.ts\n\n\nvar removeNode = (nodes, id) => {\n  return nodes.reduce((result, node) => {\n    if (node.id !== id) {\n      const newNode = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: removeNode(node.children, id) });\n      result.push(newNode);\n    }\n    return result;\n  }, []);\n};\nvar addNode = (nodes, newNode, parentId) => {\n  if (!parentId) {\n    return [...nodes, newNode];\n  }\n  return nodes.map((node) => {\n    if (node.id === parentId) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: [...node.children, newNode] });\n    } else if (node.children.length) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: addNode(node.children, newNode, parentId) });\n    }\n    return node;\n  });\n};\nvar treeIndentationRepresentation = (index, indentLevel) => {\n  if (indentLevel === 0) {\n    return (index + 1).toString();\n  } else if (indentLevel === 1) {\n    return String.fromCharCode(65 + index);\n  } else if (indentLevel === 2) {\n    return String.fromCharCode(97 + index);\n  } else {\n    return \"-\";\n  }\n};\nvar printNode = (node, prefix = \"\", indentLevel = 0) => {\n  const indent = \" \".repeat(3).repeat(indentLevel);\n  const prefixPlusIndentLength = prefix.length + indent.length;\n  const subsequentLinesPrefix = \" \".repeat(prefixPlusIndentLength);\n  const valueLines = node.value.split(\"\\n\");\n  const outputFirstLine = `${indent}${prefix}${valueLines[0]}`;\n  const outputSubsequentLines = valueLines.slice(1).map((line) => `${subsequentLinesPrefix}${line}`).join(\"\\n\");\n  let output = `${outputFirstLine}\n`;\n  if (outputSubsequentLines) {\n    output += `${outputSubsequentLines}\n`;\n  }\n  const childPrePrefix = \" \".repeat(prefix.length);\n  node.children.forEach(\n    (child, index) => output += printNode(\n      child,\n      `${childPrePrefix}${treeIndentationRepresentation(index, indentLevel + 1)}. `,\n      indentLevel + 1\n    )\n  );\n  return output;\n};\nfunction treeReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_NODE\": {\n      const { value, parentId, id: newNodeId } = action;\n      const newNode = {\n        id: newNodeId,\n        value,\n        children: [],\n        categories: new Set(action.categories)\n      };\n      try {\n        return addNode(state, newNode, parentId);\n      } catch (error) {\n        console.error(`Error while adding node with id ${newNodeId}: ${error}`);\n        return state;\n      }\n    }\n    case \"REMOVE_NODE\":\n      return removeNode(state, action.id);\n    default:\n      return state;\n  }\n}\nvar useTree = () => {\n  const [tree, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(treeReducer, []);\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value, categories, parentId) => {\n      const newNodeId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)();\n      dispatch({\n        type: \"ADD_NODE\",\n        value,\n        parentId,\n        id: newNodeId,\n        categories\n      });\n      return newNodeId;\n    },\n    []\n  );\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_NODE\", id });\n  }, []);\n  const printTree = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      let output = \"\";\n      tree.forEach((node, index) => {\n        if (!setsHaveIntersection(categoriesSet, node.categories)) {\n          return;\n        }\n        if (index !== 0) {\n          output += \"\\n\";\n        }\n        output += printNode(node, `${treeIndentationRepresentation(index, 0)}. `);\n      });\n      return output;\n    },\n    [tree]\n  );\n  return { tree, addElement, printTree, removeElement };\n};\nvar use_tree_default = useTree;\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-6U3UH3KO.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstNlUzVUgzS08ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHOEI7O0FBRTlCO0FBQzhDO0FBQ0U7QUFDaEQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtFQUFhLENBQUMsbUVBQWMsR0FBRyxXQUFXLHlDQUF5QztBQUN6RztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtFQUFhLENBQUMsbUVBQWMsR0FBRyxXQUFXLHVDQUF1QztBQUM5RixNQUFNO0FBQ04sYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyxxREFBcUQ7QUFDNUc7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE9BQU8sRUFBRSxPQUFPLEVBQUUsY0FBYztBQUM3RCxxRUFBcUUsc0JBQXNCLEVBQUUsS0FBSztBQUNsRyxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGVBQWUsRUFBRSxzREFBc0Q7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IseURBQXlELFVBQVUsSUFBSSxNQUFNO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlEQUFVO0FBQ3JDLHFCQUFxQixrREFBVztBQUNoQztBQUNBLHdCQUF3Qiw0REFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixrREFBVztBQUNuQyxlQUFlLHlCQUF5QjtBQUN4QyxHQUFHO0FBQ0gsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHdDQUF3QztBQUM3RSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTZVM1VIM0tPLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS10cmVlLnRzXG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWR1Y2VyIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgcmVtb3ZlTm9kZSA9IChub2RlcywgaWQpID0+IHtcbiAgcmV0dXJuIG5vZGVzLnJlZHVjZSgocmVzdWx0LCBub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUuaWQgIT09IGlkKSB7XG4gICAgICBjb25zdCBuZXdOb2RlID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgbm9kZSksIHsgY2hpbGRyZW46IHJlbW92ZU5vZGUobm9kZS5jaGlsZHJlbiwgaWQpIH0pO1xuICAgICAgcmVzdWx0LnB1c2gobmV3Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIFtdKTtcbn07XG52YXIgYWRkTm9kZSA9IChub2RlcywgbmV3Tm9kZSwgcGFyZW50SWQpID0+IHtcbiAgaWYgKCFwYXJlbnRJZCkge1xuICAgIHJldHVybiBbLi4ubm9kZXMsIG5ld05vZGVdO1xuICB9XG4gIHJldHVybiBub2Rlcy5tYXAoKG5vZGUpID0+IHtcbiAgICBpZiAobm9kZS5pZCA9PT0gcGFyZW50SWQpIHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwgeyBjaGlsZHJlbjogWy4uLm5vZGUuY2hpbGRyZW4sIG5ld05vZGVdIH0pO1xuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwgeyBjaGlsZHJlbjogYWRkTm9kZShub2RlLmNoaWxkcmVuLCBuZXdOb2RlLCBwYXJlbnRJZCkgfSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9KTtcbn07XG52YXIgdHJlZUluZGVudGF0aW9uUmVwcmVzZW50YXRpb24gPSAoaW5kZXgsIGluZGVudExldmVsKSA9PiB7XG4gIGlmIChpbmRlbnRMZXZlbCA9PT0gMCkge1xuICAgIHJldHVybiAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICB9IGVsc2UgaWYgKGluZGVudExldmVsID09PSAxKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCk7XG4gIH0gZWxzZSBpZiAoaW5kZW50TGV2ZWwgPT09IDIpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIGluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCItXCI7XG4gIH1cbn07XG52YXIgcHJpbnROb2RlID0gKG5vZGUsIHByZWZpeCA9IFwiXCIsIGluZGVudExldmVsID0gMCkgPT4ge1xuICBjb25zdCBpbmRlbnQgPSBcIiBcIi5yZXBlYXQoMykucmVwZWF0KGluZGVudExldmVsKTtcbiAgY29uc3QgcHJlZml4UGx1c0luZGVudExlbmd0aCA9IHByZWZpeC5sZW5ndGggKyBpbmRlbnQubGVuZ3RoO1xuICBjb25zdCBzdWJzZXF1ZW50TGluZXNQcmVmaXggPSBcIiBcIi5yZXBlYXQocHJlZml4UGx1c0luZGVudExlbmd0aCk7XG4gIGNvbnN0IHZhbHVlTGluZXMgPSBub2RlLnZhbHVlLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBvdXRwdXRGaXJzdExpbmUgPSBgJHtpbmRlbnR9JHtwcmVmaXh9JHt2YWx1ZUxpbmVzWzBdfWA7XG4gIGNvbnN0IG91dHB1dFN1YnNlcXVlbnRMaW5lcyA9IHZhbHVlTGluZXMuc2xpY2UoMSkubWFwKChsaW5lKSA9PiBgJHtzdWJzZXF1ZW50TGluZXNQcmVmaXh9JHtsaW5lfWApLmpvaW4oXCJcXG5cIik7XG4gIGxldCBvdXRwdXQgPSBgJHtvdXRwdXRGaXJzdExpbmV9XG5gO1xuICBpZiAob3V0cHV0U3Vic2VxdWVudExpbmVzKSB7XG4gICAgb3V0cHV0ICs9IGAke291dHB1dFN1YnNlcXVlbnRMaW5lc31cbmA7XG4gIH1cbiAgY29uc3QgY2hpbGRQcmVQcmVmaXggPSBcIiBcIi5yZXBlYXQocHJlZml4Lmxlbmd0aCk7XG4gIG5vZGUuY2hpbGRyZW4uZm9yRWFjaChcbiAgICAoY2hpbGQsIGluZGV4KSA9PiBvdXRwdXQgKz0gcHJpbnROb2RlKFxuICAgICAgY2hpbGQsXG4gICAgICBgJHtjaGlsZFByZVByZWZpeH0ke3RyZWVJbmRlbnRhdGlvblJlcHJlc2VudGF0aW9uKGluZGV4LCBpbmRlbnRMZXZlbCArIDEpfS4gYCxcbiAgICAgIGluZGVudExldmVsICsgMVxuICAgIClcbiAgKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5mdW5jdGlvbiB0cmVlUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiQUREX05PREVcIjoge1xuICAgICAgY29uc3QgeyB2YWx1ZSwgcGFyZW50SWQsIGlkOiBuZXdOb2RlSWQgfSA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IG5ld05vZGUgPSB7XG4gICAgICAgIGlkOiBuZXdOb2RlSWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGNhdGVnb3JpZXM6IG5ldyBTZXQoYWN0aW9uLmNhdGVnb3JpZXMpXG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFkZE5vZGUoc3RhdGUsIG5ld05vZGUsIHBhcmVudElkKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIGFkZGluZyBub2RlIHdpdGggaWQgJHtuZXdOb2RlSWR9OiAke2Vycm9yfWApO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJSRU1PVkVfTk9ERVwiOlxuICAgICAgcmV0dXJuIHJlbW92ZU5vZGUoc3RhdGUsIGFjdGlvbi5pZCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxudmFyIHVzZVRyZWUgPSAoKSA9PiB7XG4gIGNvbnN0IFt0cmVlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHRyZWVSZWR1Y2VyLCBbXSk7XG4gIGNvbnN0IGFkZEVsZW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUsIGNhdGVnb3JpZXMsIHBhcmVudElkKSA9PiB7XG4gICAgICBjb25zdCBuZXdOb2RlSWQgPSByYW5kb21JZCgpO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcIkFERF9OT0RFXCIsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgaWQ6IG5ld05vZGVJZCxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3Tm9kZUlkO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgY29uc3QgcmVtb3ZlRWxlbWVudCA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRU1PVkVfTk9ERVwiLCBpZCB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBwcmludFRyZWUgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcmllcykgPT4ge1xuICAgICAgY29uc3QgY2F0ZWdvcmllc1NldCA9IG5ldyBTZXQoY2F0ZWdvcmllcyk7XG4gICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICAgIHRyZWUuZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFzZXRzSGF2ZUludGVyc2VjdGlvbihjYXRlZ29yaWVzU2V0LCBub2RlLmNhdGVnb3JpZXMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgIG91dHB1dCArPSBcIlxcblwiO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCArPSBwcmludE5vZGUobm9kZSwgYCR7dHJlZUluZGVudGF0aW9uUmVwcmVzZW50YXRpb24oaW5kZXgsIDApfS4gYCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSxcbiAgICBbdHJlZV1cbiAgKTtcbiAgcmV0dXJuIHsgdHJlZSwgYWRkRWxlbWVudCwgcHJpbnRUcmVlLCByZW1vdmVFbGVtZW50IH07XG59O1xudmFyIHVzZV90cmVlX2RlZmF1bHQgPSB1c2VUcmVlO1xuZnVuY3Rpb24gc2V0c0hhdmVJbnRlcnNlY3Rpb24oc2V0QSwgc2V0Qikge1xuICBjb25zdCBbc21hbGxlclNldCwgbGFyZ2VyU2V0XSA9IHNldEEuc2l6ZSA8PSBzZXRCLnNpemUgPyBbc2V0QSwgc2V0Ql0gOiBbc2V0Qiwgc2V0QV07XG4gIGZvciAobGV0IGl0ZW0gb2Ygc21hbGxlclNldCkge1xuICAgIGlmIChsYXJnZXJTZXQuaGFzKGl0ZW0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQge1xuICB1c2VfdHJlZV9kZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNlUzVUgzS08ubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-AG7FH7OD.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-AG7FH7OD.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotReadable: () => (/* binding */ useCopilotReadable)\n/* harmony export */ });\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n// src/hooks/use-copilot-readable.ts\n\nfunction convertToJSON(description, value) {\n  return `${description}: ${typeof value === \"string\" ? value : JSON.stringify(value)}`;\n}\nfunction useCopilotReadable({ description, value, parentId, categories, convert }, dependencies) {\n  const { addContext, removeContext } = (0,_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  convert = convert || convertToJSON;\n  const information = convert(description, value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const id = addContext(information, parentId, categories);\n    idRef.current = id;\n    return () => {\n      removeContext(id);\n    };\n  }, [information, parentId, addContext, removeContext, ...dependencies || []]);\n  return idRef.current;\n}\n\n\n//# sourceMappingURL=chunk-AG7FH7OD.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstQUc3Rkg3T0QubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDMEM7QUFDMUM7QUFDQSxZQUFZLFlBQVksSUFBSSwwREFBMEQ7QUFDdEY7QUFDQSw4QkFBOEIsbURBQW1EO0FBQ2pGLFVBQVUsNEJBQTRCLEVBQUUsc0VBQWlCO0FBQ3pELGdCQUFnQiw2Q0FBTTtBQUN0QjtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1BRzdGSDdPRC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWFFGVlhYNlIubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1yZWFkYWJsZS50c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGNvbnZlcnRUb0pTT04oZGVzY3JpcHRpb24sIHZhbHVlKSB7XG4gIHJldHVybiBgJHtkZXNjcmlwdGlvbn06ICR7dHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YDtcbn1cbmZ1bmN0aW9uIHVzZUNvcGlsb3RSZWFkYWJsZSh7IGRlc2NyaXB0aW9uLCB2YWx1ZSwgcGFyZW50SWQsIGNhdGVnb3JpZXMsIGNvbnZlcnQgfSwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHsgYWRkQ29udGV4dCwgcmVtb3ZlQ29udGV4dCB9ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgaWRSZWYgPSB1c2VSZWYoKTtcbiAgY29udmVydCA9IGNvbnZlcnQgfHwgY29udmVydFRvSlNPTjtcbiAgY29uc3QgaW5mb3JtYXRpb24gPSBjb252ZXJ0KGRlc2NyaXB0aW9uLCB2YWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaWQgPSBhZGRDb250ZXh0KGluZm9ybWF0aW9uLCBwYXJlbnRJZCwgY2F0ZWdvcmllcyk7XG4gICAgaWRSZWYuY3VycmVudCA9IGlkO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVDb250ZXh0KGlkKTtcbiAgICB9O1xuICB9LCBbaW5mb3JtYXRpb24sIHBhcmVudElkLCBhZGRDb250ZXh0LCByZW1vdmVDb250ZXh0LCAuLi5kZXBlbmRlbmNpZXMgfHwgW11dKTtcbiAgcmV0dXJuIGlkUmVmLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvcGlsb3RSZWFkYWJsZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUFHN0ZIN09ELm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-AG7FH7OD.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotMessagesContext: () => (/* binding */ CopilotMessagesContext),\n/* harmony export */   useCopilotMessagesContext: () => (/* binding */ useCopilotMessagesContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n// src/context/copilot-messages-context.tsx\n\nvar emptyCopilotContext = {\n  messages: [],\n  setMessages: () => []\n};\nvar CopilotMessagesContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyCopilotContext);\nfunction useCopilotMessagesContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CopilotMessagesContext);\n  if (context === emptyCopilotContext) {\n    throw new Error(\n      \"A messages consuming component was not wrapped with `<CopilotMessages> {...} </CopilotMessages>`\"\n    );\n  }\n  return context;\n}\n\n\n//# sourceMappingURL=chunk-DCTJZ742.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstRENUSlo3NDIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQzBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFtQjtBQUNoRDtBQUNBLGtCQUFrQiw2Q0FBZ0I7QUFDbEM7QUFDQTtBQUNBLCtFQUErRSxLQUFLO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBOztBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLURDVEpaNzQyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29udGV4dC9jb3BpbG90LW1lc3NhZ2VzLWNvbnRleHQudHN4XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG52YXIgZW1wdHlDb3BpbG90Q29udGV4dCA9IHtcbiAgbWVzc2FnZXM6IFtdLFxuICBzZXRNZXNzYWdlczogKCkgPT4gW11cbn07XG52YXIgQ29waWxvdE1lc3NhZ2VzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb3BpbG90Q29udGV4dCk7XG5mdW5jdGlvbiB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCkge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb3BpbG90TWVzc2FnZXNDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IGVtcHR5Q29waWxvdENvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkEgbWVzc2FnZXMgY29uc3VtaW5nIGNvbXBvbmVudCB3YXMgbm90IHdyYXBwZWQgd2l0aCBgPENvcGlsb3RNZXNzYWdlcz4gey4uLn0gPC9Db3BpbG90TWVzc2FnZXM+YFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdE1lc3NhZ2VzQ29udGV4dCxcbiAgdXNlQ29waWxvdE1lc3NhZ2VzQ29udGV4dFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLURDVEpaNzQyLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotKit: () => (/* binding */ CopilotKit),\n/* harmony export */   CopilotKitInternal: () => (/* binding */ CopilotKitInternal),\n/* harmony export */   defaultCopilotContextCategories: () => (/* binding */ defaultCopilotContextCategories),\n/* harmony export */   extract: () => (/* binding */ extract)\n/* harmony export */ });\n/* harmony import */ var _chunk_MLAS4QUR_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-MLAS4QUR.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-MLAS4QUR.mjs\");\n/* harmony import */ var _chunk_XXR4QFAQ_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-XXR4QFAQ.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XXR4QFAQ.mjs\");\n/* harmony import */ var _chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-5FHSUKQL.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\");\n/* harmony import */ var _chunk_6U3UH3KO_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-6U3UH3KO.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs\");\n/* harmony import */ var _chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-ODN4H66E.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs\");\n/* harmony import */ var _chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-2KCEHGSI.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs\");\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n\n\n\n\n\n\n\n\n\n// src/utils/extract.ts\n\n\n\n// src/components/copilot-provider/copilotkit.tsx\n\n\n\n\nfunction CopilotKit(_a) {\n  var _b = _a, { children } = _b, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__objRest)(_b, [\"children\"]);\n  const showDevConsole = props.showDevConsole === void 0 ? \"auto\" : props.showDevConsole;\n  const enabled = (0,_chunk_MLAS4QUR_mjs__WEBPACK_IMPORTED_MODULE_4__.shouldShowDevConsole)(showDevConsole);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_5__.ToastProvider, { enabled, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CopilotKitInternal, (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, props), { children })) });\n}\nfunction CopilotKitInternal(_a) {\n  var _b = _a, { children } = _b, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__objRest)(_b, [\"children\"]);\n  if (!props.runtimeUrl && !props.publicApiKey) {\n    throw new Error(\n      \"Please provide either a runtimeUrl or a publicApiKey to the CopilotKit component.\"\n    );\n  }\n  const chatApiEndpoint = props.runtimeUrl || _copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__.COPILOT_CLOUD_CHAT_URL;\n  const [actions, setActions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [coAgentStateRenders, setCoAgentStateRenders] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const chatComponentsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    actions: {},\n    coAgentStateRenders: {}\n  });\n  const { addElement, removeElement, printTree } = (0,_chunk_6U3UH3KO_mjs__WEBPACK_IMPORTED_MODULE_7__.use_tree_default)();\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [chatInstructions, setChatInstructions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n  const {\n    addElement: addDocument,\n    removeElement: removeDocument,\n    allElements: allDocuments\n  } = (0,_chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_8__.use_flat_category_store_default)();\n  const setAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, action) => {\n    setActions((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints), {\n        [id]: action\n      });\n    });\n  }, []);\n  const removeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setActions((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const setCoAgentStateRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, stateRender) => {\n    setCoAgentStateRenders((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints), {\n        [id]: stateRender\n      });\n    });\n  }, []);\n  const removeCoAgentStateRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setCoAgentStateRenders((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const getContextString = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documents, categories) => {\n      const documentsString = documents.map((document) => {\n        return `${document.name} (${document.sourceApplication}):\n${document.getContents()}`;\n      }).join(\"\\n\\n\");\n      const nonDocumentStrings = printTree(categories);\n      return `${documentsString}\n\n${nonDocumentStrings}`;\n    },\n    [printTree]\n  );\n  const addContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (context, parentId, categories = defaultCopilotContextCategories) => {\n      return addElement(context, categories, parentId);\n    },\n    [addElement]\n  );\n  const removeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (id) => {\n      removeElement(id);\n    },\n    [removeElement]\n  );\n  const getFunctionCallHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (customEntryPoints) => {\n      return entryPointsToFunctionCallHandler(Object.values(customEntryPoints || actions));\n    },\n    [actions]\n  );\n  const getDocumentsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      return allDocuments(categories);\n    },\n    [allDocuments]\n  );\n  const addDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentPointer, categories = defaultCopilotContextCategories) => {\n      return addDocument(documentPointer, categories);\n    },\n    [addDocument]\n  );\n  const removeDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentId) => {\n      removeDocument(documentId);\n    },\n    [removeDocument]\n  );\n  if (!props.publicApiKey) {\n    if (props.cloudRestrictToTopic) {\n      throw new Error(\n        \"To use the cloudRestrictToTopic feature, please sign up at https://copilotkit.ai and provide a publicApiKey.\"\n      );\n    }\n  }\n  const copilotApiConfig = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _a2, _b2;\n    let cloud = void 0;\n    if (props.publicApiKey) {\n      cloud = {\n        guardrails: {\n          input: {\n            restrictToTopic: {\n              enabled: props.cloudRestrictToTopic ? true : false,\n              validTopics: ((_a2 = props.cloudRestrictToTopic) == null ? void 0 : _a2.validTopics) || [],\n              invalidTopics: ((_b2 = props.cloudRestrictToTopic) == null ? void 0 : _b2.invalidTopics) || []\n            }\n          }\n        }\n      };\n    }\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({\n      publicApiKey: props.publicApiKey\n    }, cloud ? { cloud } : {}), {\n      chatApiEndpoint,\n      headers: props.headers || {},\n      properties: props.properties || {},\n      transcribeAudioUrl: props.transcribeAudioUrl,\n      textToSpeechUrl: props.textToSpeechUrl,\n      credentials: props.credentials\n    });\n  }, [\n    props.publicApiKey,\n    props.headers,\n    props.properties,\n    props.transcribeAudioUrl,\n    props.textToSpeechUrl,\n    props.credentials,\n    props.cloudRestrictToTopic\n  ]);\n  const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, copilotApiConfig.headers || {}), copilotApiConfig.publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: copilotApiConfig.publicApiKey } : {});\n  const runtimeClient = (0,_chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_9__.useCopilotRuntimeClient)({\n    url: copilotApiConfig.chatApiEndpoint,\n    publicApiKey: copilotApiConfig.publicApiKey,\n    headers,\n    credentials: copilotApiConfig.credentials\n  });\n  const [chatSuggestionConfiguration, setChatSuggestionConfiguration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const addChatSuggestionConfiguration = (id, suggestion) => {\n    setChatSuggestionConfiguration((prev) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prev), { [id]: suggestion }));\n  };\n  const removeChatSuggestionConfiguration = (id) => {\n    setChatSuggestionConfiguration((prev) => {\n      const _a2 = prev, { [id]: _ } = _a2, rest = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__objRest)(_a2, [(0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__restKey)(id)]);\n      return rest;\n    });\n  };\n  const [coagentStates, setCoagentStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const coagentStatesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n  const setCoagentStatesWithRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value) => {\n      const newValue = typeof value === \"function\" ? value(coagentStatesRef.current) : value;\n      coagentStatesRef.current = newValue;\n      setCoagentStates((prev) => {\n        return newValue;\n      });\n    },\n    []\n  );\n  let initialAgentSession = null;\n  if (props.agent) {\n    initialAgentSession = {\n      agentName: props.agent\n    };\n  }\n  const [agentSession, setAgentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialAgentSession);\n  const showDevConsole = props.showDevConsole === void 0 ? \"auto\" : props.showDevConsole;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_10__.CopilotContext.Provider,\n    {\n      value: {\n        actions,\n        chatComponentsCache,\n        getFunctionCallHandler,\n        setAction,\n        removeAction,\n        coAgentStateRenders,\n        setCoAgentStateRender,\n        removeCoAgentStateRender,\n        getContextString,\n        addContext,\n        removeContext,\n        getDocumentsContext,\n        addDocumentContext,\n        removeDocumentContext,\n        copilotApiConfig,\n        isLoading,\n        setIsLoading,\n        chatSuggestionConfiguration,\n        addChatSuggestionConfiguration,\n        removeChatSuggestionConfiguration,\n        chatInstructions,\n        setChatInstructions,\n        showDevConsole,\n        coagentStates,\n        setCoagentStates,\n        coagentStatesRef,\n        setCoagentStatesWithRef,\n        agentSession,\n        setAgentSession,\n        runtimeClient\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chunk_XXR4QFAQ_mjs__WEBPACK_IMPORTED_MODULE_11__.CopilotMessages, { children })\n    }\n  );\n}\nvar defaultCopilotContextCategories = [\"global\"];\nfunction entryPointsToFunctionCallHandler(actions) {\n  return (_0) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, [_0], function* ({ messages, name, args }) {\n    let actionsByFunctionName = {};\n    for (let action2 of actions) {\n      actionsByFunctionName[action2.name] = action2;\n    }\n    const action = actionsByFunctionName[name];\n    let result = void 0;\n    if (action) {\n      yield new Promise((resolve, reject) => {\n        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n          var _a;\n          try {\n            result = yield (_a = action.handler) == null ? void 0 : _a.call(action, args);\n            resolve();\n          } catch (error) {\n            reject(error);\n          }\n        }));\n      });\n      yield new Promise((resolve) => setTimeout(resolve, 20));\n    }\n    return result;\n  });\n}\n\n// src/utils/extract.ts\n\nfunction extract(_0) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, arguments, function* ({\n    context,\n    instructions,\n    parameters,\n    include,\n    data,\n    abortSignal,\n    stream,\n    requestType = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_12__.CopilotRequestType.Task\n  }) {\n    var _a, _b;\n    const { messages } = context;\n    const action = {\n      name: \"extract\",\n      description: instructions,\n      parameters,\n      handler: (args) => {\n      }\n    };\n    const includeReadable = (_a = include == null ? void 0 : include.readable) != null ? _a : false;\n    const includeMessages = (_b = include == null ? void 0 : include.messages) != null ? _b : false;\n    let contextString = \"\";\n    if (data) {\n      contextString = (typeof data === \"string\" ? data : JSON.stringify(data)) + \"\\n\\n\";\n    }\n    if (includeReadable) {\n      contextString += context.getContextString([], defaultCopilotContextCategories);\n    }\n    const systemMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_13__.TextMessage({\n      content: makeSystemMessage(contextString, instructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_13__.Role.System\n    });\n    const instructionsMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_13__.TextMessage({\n      content: makeInstructionsMessage(instructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_13__.Role.User\n    });\n    const response = context.runtimeClient.asStream(\n      context.runtimeClient.generateCopilotResponse({\n        data: {\n          frontend: {\n            actions: [\n              {\n                name: action.name,\n                description: action.description || \"\",\n                jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_14__.actionParametersToJsonSchema)(action.parameters || []))\n              }\n            ],\n            url: window.location.href\n          },\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_15__.convertMessagesToGqlInput)(\n            includeMessages ? [systemMessage, instructionsMessage, ...(0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_15__.filterAgentStateMessages)(messages)] : [systemMessage, instructionsMessage]\n          ),\n          metadata: {\n            requestType\n          },\n          forwardedParameters: {\n            toolChoice: \"function\",\n            toolChoiceFunctionName: action.name\n          }\n        },\n        properties: context.copilotApiConfig.properties,\n        signal: abortSignal\n      })\n    );\n    const reader = response.getReader();\n    let isInitial = true;\n    let actionExecutionMessage = void 0;\n    while (true) {\n      const { done, value } = yield reader.read();\n      if (done) {\n        break;\n      }\n      if (abortSignal == null ? void 0 : abortSignal.aborted) {\n        throw new Error(\"Aborted\");\n      }\n      actionExecutionMessage = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_15__.convertGqlOutputToMessages)(\n        value.generateCopilotResponse.messages\n      ).find((msg) => msg.isActionExecutionMessage());\n      if (!actionExecutionMessage) {\n        continue;\n      }\n      stream == null ? void 0 : stream({\n        status: isInitial ? \"initial\" : \"inProgress\",\n        args: actionExecutionMessage.arguments\n      });\n      isInitial = false;\n    }\n    if (!actionExecutionMessage) {\n      throw new Error(\"extract() failed: No function call occurred\");\n    }\n    stream == null ? void 0 : stream({\n      status: \"complete\",\n      args: actionExecutionMessage.arguments\n    });\n    return actionExecutionMessage.arguments;\n  });\n}\nfunction makeInstructionsMessage(instructions) {\n  return `\nThe user has given you the following task to complete:\n\n\\`\\`\\`\n${instructions}\n\\`\\`\\`\n\nAny additional messages provided are for providing context only and should not be used to ask questions or engage in conversation.\n`;\n}\nfunction makeSystemMessage(contextString, instructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with a function called extract you MUST call to initiate actions on their behalf.\n\nPlease assist them as best you can.\n\nThis is not a conversation, so please do not ask questions. Just call the function without saying anything else.\n`;\n}\n\n\n//# sourceMappingURL=chunk-DHGXL5PC.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstREhHWEw1UEMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBT0E7O0FBRTlCO0FBRzRCO0FBTVk7O0FBRXhDO0FBQytEO0FBQ3pCO0FBSVY7QUFDWTtBQUN4QztBQUNBLGlCQUFpQixXQUFXLGNBQWMsOERBQVM7QUFDbkQ7QUFDQSxrQkFBa0IseUVBQW9CO0FBQ3RDLHlCQUF5QixzREFBRyxDQUFDLDhEQUFhLElBQUksbUNBQW1DLHNEQUFHLHFCQUFxQixrRUFBYSxDQUFDLG1FQUFjLEdBQUcsWUFBWSxVQUFVLElBQUk7QUFDbEs7QUFDQTtBQUNBLGlCQUFpQixXQUFXLGNBQWMsOERBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzRUFBc0I7QUFDcEUsZ0NBQWdDLCtDQUFRLEdBQUc7QUFDM0Msd0RBQXdELCtDQUFRLEdBQUc7QUFDbkUsOEJBQThCLDZDQUFNO0FBQ3BDLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSCxVQUFVLHVDQUF1QyxFQUFFLHFFQUFnQjtBQUNuRSxvQ0FBb0MsK0NBQVE7QUFDNUMsa0RBQWtELCtDQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLG9GQUErQjtBQUNyQyxvQkFBb0Isa0RBQVc7QUFDL0I7QUFDQSxhQUFhLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUM1QztBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNILHVCQUF1QixrREFBVztBQUNsQztBQUNBLHdCQUF3QixtRUFBYyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGdDQUFnQyxrREFBVztBQUMzQztBQUNBLGFBQWEsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzVDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsbUNBQW1DLGtEQUFXO0FBQzlDO0FBQ0Esd0JBQXdCLG1FQUFjLEdBQUc7QUFDekM7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQSxrQkFBa0IsZUFBZSxHQUFHLDJCQUEyQjtBQUMvRCxFQUFFLHVCQUF1QjtBQUN6QixPQUFPO0FBQ1A7QUFDQSxnQkFBZ0I7O0FBRWhCLEVBQUUsbUJBQW1CO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EscUJBQXFCLGtEQUFXO0FBQ2hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUMsa0RBQVc7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZCQUE2QixrREFBVztBQUN4QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrRUFBYSxDQUFDLG1FQUFjO0FBQ3ZDO0FBQ0EsS0FBSyxZQUFZLFFBQVEsSUFBSTtBQUM3QjtBQUNBLGtDQUFrQztBQUNsQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1FQUFjLENBQUMsbUVBQWMsR0FBRyxnQ0FBZ0MscUNBQXFDLENBQUMsbUZBQW1DLG1DQUFtQyxJQUFJO0FBQ2xNLHdCQUF3Qiw0RUFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0VBQXdFLCtDQUFRLEdBQUc7QUFDbkY7QUFDQSw2Q0FBNkMsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFdBQVcsa0JBQWtCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixVQUFVLGNBQWMsOERBQVMsT0FBTyw4REFBUztBQUMzRTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRDQUE0QywrQ0FBUSxHQUFHO0FBQ3ZELDJCQUEyQiw2Q0FBTSxHQUFHO0FBQ3BDLGtDQUFrQyxrREFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLCtDQUFRO0FBQ2xEO0FBQ0EseUJBQXlCLHNEQUFHO0FBQzVCLElBQUksZ0VBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxnQ0FBZ0Msc0RBQUcsQ0FBQyxpRUFBZSxJQUFJLFVBQVU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBTywwQkFBMEIsc0JBQXNCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFTLE9BQU8sNERBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBSXdDO0FBQ3hDO0FBQ0EsU0FBUyw0REFBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrRUFBa0I7QUFDcEMsR0FBRztBQUNIO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdFQUFXO0FBQ3pDO0FBQ0EsWUFBWSxpRUFBSTtBQUNoQixLQUFLO0FBQ0wsb0NBQW9DLHdFQUFXO0FBQy9DO0FBQ0EsWUFBWSxpRUFBSTtBQUNoQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpRkFBNEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLG9CQUFvQiwwRkFBeUI7QUFDN0Msc0VBQXNFLHlGQUF3QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyRkFBMEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLURIR1hMNVBDLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBzaG91bGRTaG93RGV2Q29uc29sZVxufSBmcm9tIFwiLi9jaHVuay1NTEFTNFFVUi5tanNcIjtcbmltcG9ydCB7XG4gIENvcGlsb3RNZXNzYWdlc1xufSBmcm9tIFwiLi9jaHVuay1YWFI0UUZBUS5tanNcIjtcbmltcG9ydCB7XG4gIHVzZV9mbGF0X2NhdGVnb3J5X3N0b3JlX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstNUZIU1VLUUwubWpzXCI7XG5pbXBvcnQge1xuICB1c2VfdHJlZV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLTZVM1VIM0tPLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdFJ1bnRpbWVDbGllbnRcbn0gZnJvbSBcIi4vY2h1bmstT0RONEg2NkUubWpzXCI7XG5pbXBvcnQge1xuICBUb2FzdFByb3ZpZGVyXG59IGZyb20gXCIuL2NodW5rLTJLQ0VIR1NJLm1qc1wiO1xuaW1wb3J0IHtcbiAgQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWFFGVlhYNlIubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX29ialJlc3QsXG4gIF9fcmVzdEtleSxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy91dGlscy9leHRyYWN0LnRzXG5pbXBvcnQge1xuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyxcbiAgQ29waWxvdFJlcXVlc3RUeXBlXG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29waWxvdC1wcm92aWRlci9jb3BpbG90a2l0LnRzeFxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7XG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gQ29waWxvdEtpdChfYSkge1xuICB2YXIgX2IgPSBfYSwgeyBjaGlsZHJlbiB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJjaGlsZHJlblwiXSk7XG4gIGNvbnN0IHNob3dEZXZDb25zb2xlID0gcHJvcHMuc2hvd0RldkNvbnNvbGUgPT09IHZvaWQgMCA/IFwiYXV0b1wiIDogcHJvcHMuc2hvd0RldkNvbnNvbGU7XG4gIGNvbnN0IGVuYWJsZWQgPSBzaG91bGRTaG93RGV2Q29uc29sZShzaG93RGV2Q29uc29sZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFRvYXN0UHJvdmlkZXIsIHsgZW5hYmxlZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29waWxvdEtpdEludGVybmFsLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpIH0pO1xufVxuZnVuY3Rpb24gQ29waWxvdEtpdEludGVybmFsKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7IGNoaWxkcmVuIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcImNoaWxkcmVuXCJdKTtcbiAgaWYgKCFwcm9wcy5ydW50aW1lVXJsICYmICFwcm9wcy5wdWJsaWNBcGlLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlBsZWFzZSBwcm92aWRlIGVpdGhlciBhIHJ1bnRpbWVVcmwgb3IgYSBwdWJsaWNBcGlLZXkgdG8gdGhlIENvcGlsb3RLaXQgY29tcG9uZW50LlwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBjaGF0QXBpRW5kcG9pbnQgPSBwcm9wcy5ydW50aW1lVXJsIHx8IENPUElMT1RfQ0xPVURfQ0hBVF9VUkw7XG4gIGNvbnN0IFthY3Rpb25zLCBzZXRBY3Rpb25zXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2NvQWdlbnRTdGF0ZVJlbmRlcnMsIHNldENvQWdlbnRTdGF0ZVJlbmRlcnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBjaGF0Q29tcG9uZW50c0NhY2hlID0gdXNlUmVmKHtcbiAgICBhY3Rpb25zOiB7fSxcbiAgICBjb0FnZW50U3RhdGVSZW5kZXJzOiB7fVxuICB9KTtcbiAgY29uc3QgeyBhZGRFbGVtZW50LCByZW1vdmVFbGVtZW50LCBwcmludFRyZWUgfSA9IHVzZV90cmVlX2RlZmF1bHQoKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYXRJbnN0cnVjdGlvbnMsIHNldENoYXRJbnN0cnVjdGlvbnNdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHtcbiAgICBhZGRFbGVtZW50OiBhZGREb2N1bWVudCxcbiAgICByZW1vdmVFbGVtZW50OiByZW1vdmVEb2N1bWVudCxcbiAgICBhbGxFbGVtZW50czogYWxsRG9jdW1lbnRzXG4gIH0gPSB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0KCk7XG4gIGNvbnN0IHNldEFjdGlvbiA9IHVzZUNhbGxiYWNrKChpZCwgYWN0aW9uKSA9PiB7XG4gICAgc2V0QWN0aW9ucygocHJldlBvaW50cykgPT4ge1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXZQb2ludHMpLCB7XG4gICAgICAgIFtpZF06IGFjdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVtb3ZlQWN0aW9uID0gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gICAgc2V0QWN0aW9ucygocHJldlBvaW50cykgPT4ge1xuICAgICAgY29uc3QgbmV3UG9pbnRzID0gX19zcHJlYWRWYWx1ZXMoe30sIHByZXZQb2ludHMpO1xuICAgICAgZGVsZXRlIG5ld1BvaW50c1tpZF07XG4gICAgICByZXR1cm4gbmV3UG9pbnRzO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNldENvQWdlbnRTdGF0ZVJlbmRlciA9IHVzZUNhbGxiYWNrKChpZCwgc3RhdGVSZW5kZXIpID0+IHtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXJzKChwcmV2UG9pbnRzKSA9PiB7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldlBvaW50cyksIHtcbiAgICAgICAgW2lkXTogc3RhdGVSZW5kZXJcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUNvQWdlbnRTdGF0ZVJlbmRlciA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIHNldENvQWdlbnRTdGF0ZVJlbmRlcnMoKHByZXZQb2ludHMpID0+IHtcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2UG9pbnRzKTtcbiAgICAgIGRlbGV0ZSBuZXdQb2ludHNbaWRdO1xuICAgICAgcmV0dXJuIG5ld1BvaW50cztcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBnZXRDb250ZXh0U3RyaW5nID0gdXNlQ2FsbGJhY2soXG4gICAgKGRvY3VtZW50cywgY2F0ZWdvcmllcykgPT4ge1xuICAgICAgY29uc3QgZG9jdW1lbnRzU3RyaW5nID0gZG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGAke2RvY3VtZW50Lm5hbWV9ICgke2RvY3VtZW50LnNvdXJjZUFwcGxpY2F0aW9ufSk6XG4ke2RvY3VtZW50LmdldENvbnRlbnRzKCl9YDtcbiAgICAgIH0pLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgICBjb25zdCBub25Eb2N1bWVudFN0cmluZ3MgPSBwcmludFRyZWUoY2F0ZWdvcmllcyk7XG4gICAgICByZXR1cm4gYCR7ZG9jdW1lbnRzU3RyaW5nfVxuXG4ke25vbkRvY3VtZW50U3RyaW5nc31gO1xuICAgIH0sXG4gICAgW3ByaW50VHJlZV1cbiAgKTtcbiAgY29uc3QgYWRkQ29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIChjb250ZXh0LCBwYXJlbnRJZCwgY2F0ZWdvcmllcyA9IGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpID0+IHtcbiAgICAgIHJldHVybiBhZGRFbGVtZW50KGNvbnRleHQsIGNhdGVnb3JpZXMsIHBhcmVudElkKTtcbiAgICB9LFxuICAgIFthZGRFbGVtZW50XVxuICApO1xuICBjb25zdCByZW1vdmVDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkKSA9PiB7XG4gICAgICByZW1vdmVFbGVtZW50KGlkKTtcbiAgICB9LFxuICAgIFtyZW1vdmVFbGVtZW50XVxuICApO1xuICBjb25zdCBnZXRGdW5jdGlvbkNhbGxIYW5kbGVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGN1c3RvbUVudHJ5UG9pbnRzKSA9PiB7XG4gICAgICByZXR1cm4gZW50cnlQb2ludHNUb0Z1bmN0aW9uQ2FsbEhhbmRsZXIoT2JqZWN0LnZhbHVlcyhjdXN0b21FbnRyeVBvaW50cyB8fCBhY3Rpb25zKSk7XG4gICAgfSxcbiAgICBbYWN0aW9uc11cbiAgKTtcbiAgY29uc3QgZ2V0RG9jdW1lbnRzQ29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIChjYXRlZ29yaWVzKSA9PiB7XG4gICAgICByZXR1cm4gYWxsRG9jdW1lbnRzKGNhdGVnb3JpZXMpO1xuICAgIH0sXG4gICAgW2FsbERvY3VtZW50c11cbiAgKTtcbiAgY29uc3QgYWRkRG9jdW1lbnRDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGRvY3VtZW50UG9pbnRlciwgY2F0ZWdvcmllcyA9IGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpID0+IHtcbiAgICAgIHJldHVybiBhZGREb2N1bWVudChkb2N1bWVudFBvaW50ZXIsIGNhdGVnb3JpZXMpO1xuICAgIH0sXG4gICAgW2FkZERvY3VtZW50XVxuICApO1xuICBjb25zdCByZW1vdmVEb2N1bWVudENvbnRleHQgPSB1c2VDYWxsYmFjayhcbiAgICAoZG9jdW1lbnRJZCkgPT4ge1xuICAgICAgcmVtb3ZlRG9jdW1lbnQoZG9jdW1lbnRJZCk7XG4gICAgfSxcbiAgICBbcmVtb3ZlRG9jdW1lbnRdXG4gICk7XG4gIGlmICghcHJvcHMucHVibGljQXBpS2V5KSB7XG4gICAgaWYgKHByb3BzLmNsb3VkUmVzdHJpY3RUb1RvcGljKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVG8gdXNlIHRoZSBjbG91ZFJlc3RyaWN0VG9Ub3BpYyBmZWF0dXJlLCBwbGVhc2Ugc2lnbiB1cCBhdCBodHRwczovL2NvcGlsb3RraXQuYWkgYW5kIHByb3ZpZGUgYSBwdWJsaWNBcGlLZXkuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGNvcGlsb3RBcGlDb25maWcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2EyLCBfYjI7XG4gICAgbGV0IGNsb3VkID0gdm9pZCAwO1xuICAgIGlmIChwcm9wcy5wdWJsaWNBcGlLZXkpIHtcbiAgICAgIGNsb3VkID0ge1xuICAgICAgICBndWFyZHJhaWxzOiB7XG4gICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgIHJlc3RyaWN0VG9Ub3BpYzoge1xuICAgICAgICAgICAgICBlbmFibGVkOiBwcm9wcy5jbG91ZFJlc3RyaWN0VG9Ub3BpYyA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgdmFsaWRUb3BpY3M6ICgoX2EyID0gcHJvcHMuY2xvdWRSZXN0cmljdFRvVG9waWMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIudmFsaWRUb3BpY3MpIHx8IFtdLFxuICAgICAgICAgICAgICBpbnZhbGlkVG9waWNzOiAoKF9iMiA9IHByb3BzLmNsb3VkUmVzdHJpY3RUb1RvcGljKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmludmFsaWRUb3BpY3MpIHx8IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBwdWJsaWNBcGlLZXk6IHByb3BzLnB1YmxpY0FwaUtleVxuICAgIH0sIGNsb3VkID8geyBjbG91ZCB9IDoge30pLCB7XG4gICAgICBjaGF0QXBpRW5kcG9pbnQsXG4gICAgICBoZWFkZXJzOiBwcm9wcy5oZWFkZXJzIHx8IHt9LFxuICAgICAgcHJvcGVydGllczogcHJvcHMucHJvcGVydGllcyB8fCB7fSxcbiAgICAgIHRyYW5zY3JpYmVBdWRpb1VybDogcHJvcHMudHJhbnNjcmliZUF1ZGlvVXJsLFxuICAgICAgdGV4dFRvU3BlZWNoVXJsOiBwcm9wcy50ZXh0VG9TcGVlY2hVcmwsXG4gICAgICBjcmVkZW50aWFsczogcHJvcHMuY3JlZGVudGlhbHNcbiAgICB9KTtcbiAgfSwgW1xuICAgIHByb3BzLnB1YmxpY0FwaUtleSxcbiAgICBwcm9wcy5oZWFkZXJzLFxuICAgIHByb3BzLnByb3BlcnRpZXMsXG4gICAgcHJvcHMudHJhbnNjcmliZUF1ZGlvVXJsLFxuICAgIHByb3BzLnRleHRUb1NwZWVjaFVybCxcbiAgICBwcm9wcy5jcmVkZW50aWFscyxcbiAgICBwcm9wcy5jbG91ZFJlc3RyaWN0VG9Ub3BpY1xuICBdKTtcbiAgY29uc3QgaGVhZGVycyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb3BpbG90QXBpQ29uZmlnLmhlYWRlcnMgfHwge30pLCBjb3BpbG90QXBpQ29uZmlnLnB1YmxpY0FwaUtleSA/IHsgW0NPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXTogY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXkgfSA6IHt9KTtcbiAgY29uc3QgcnVudGltZUNsaWVudCA9IHVzZUNvcGlsb3RSdW50aW1lQ2xpZW50KHtcbiAgICB1cmw6IGNvcGlsb3RBcGlDb25maWcuY2hhdEFwaUVuZHBvaW50LFxuICAgIHB1YmxpY0FwaUtleTogY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXksXG4gICAgaGVhZGVycyxcbiAgICBjcmVkZW50aWFsczogY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFsc1xuICB9KTtcbiAgY29uc3QgW2NoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbiwgc2V0Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgYWRkQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uID0gKGlkLCBzdWdnZXN0aW9uKSA9PiB7XG4gICAgc2V0Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uKChwcmV2KSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2KSwgeyBbaWRdOiBzdWdnZXN0aW9uIH0pKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uID0gKGlkKSA9PiB7XG4gICAgc2V0Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBfYTIgPSBwcmV2LCB7IFtpZF06IF8gfSA9IF9hMiwgcmVzdCA9IF9fb2JqUmVzdChfYTIsIFtfX3Jlc3RLZXkoaWQpXSk7XG4gICAgICByZXR1cm4gcmVzdDtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgW2NvYWdlbnRTdGF0ZXMsIHNldENvYWdlbnRTdGF0ZXNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBjb2FnZW50U3RhdGVzUmVmID0gdXNlUmVmKHt9KTtcbiAgY29uc3Qgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZShjb2FnZW50U3RhdGVzUmVmLmN1cnJlbnQpIDogdmFsdWU7XG4gICAgICBjb2FnZW50U3RhdGVzUmVmLmN1cnJlbnQgPSBuZXdWYWx1ZTtcbiAgICAgIHNldENvYWdlbnRTdGF0ZXMoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBsZXQgaW5pdGlhbEFnZW50U2Vzc2lvbiA9IG51bGw7XG4gIGlmIChwcm9wcy5hZ2VudCkge1xuICAgIGluaXRpYWxBZ2VudFNlc3Npb24gPSB7XG4gICAgICBhZ2VudE5hbWU6IHByb3BzLmFnZW50XG4gICAgfTtcbiAgfVxuICBjb25zdCBbYWdlbnRTZXNzaW9uLCBzZXRBZ2VudFNlc3Npb25dID0gdXNlU3RhdGUoaW5pdGlhbEFnZW50U2Vzc2lvbik7XG4gIGNvbnN0IHNob3dEZXZDb25zb2xlID0gcHJvcHMuc2hvd0RldkNvbnNvbGUgPT09IHZvaWQgMCA/IFwiYXV0b1wiIDogcHJvcHMuc2hvd0RldkNvbnNvbGU7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIENvcGlsb3RDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGFjdGlvbnMsXG4gICAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUsXG4gICAgICAgIGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIsXG4gICAgICAgIHNldEFjdGlvbixcbiAgICAgICAgcmVtb3ZlQWN0aW9uLFxuICAgICAgICBjb0FnZW50U3RhdGVSZW5kZXJzLFxuICAgICAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgICAgIHJlbW92ZUNvQWdlbnRTdGF0ZVJlbmRlcixcbiAgICAgICAgZ2V0Q29udGV4dFN0cmluZyxcbiAgICAgICAgYWRkQ29udGV4dCxcbiAgICAgICAgcmVtb3ZlQ29udGV4dCxcbiAgICAgICAgZ2V0RG9jdW1lbnRzQ29udGV4dCxcbiAgICAgICAgYWRkRG9jdW1lbnRDb250ZXh0LFxuICAgICAgICByZW1vdmVEb2N1bWVudENvbnRleHQsXG4gICAgICAgIGNvcGlsb3RBcGlDb25maWcsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgc2V0SXNMb2FkaW5nLFxuICAgICAgICBjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGFkZENoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbixcbiAgICAgICAgcmVtb3ZlQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLFxuICAgICAgICBjaGF0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICBzZXRDaGF0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICBzaG93RGV2Q29uc29sZSxcbiAgICAgICAgY29hZ2VudFN0YXRlcyxcbiAgICAgICAgc2V0Q29hZ2VudFN0YXRlcyxcbiAgICAgICAgY29hZ2VudFN0YXRlc1JlZixcbiAgICAgICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYsXG4gICAgICAgIGFnZW50U2Vzc2lvbixcbiAgICAgICAgc2V0QWdlbnRTZXNzaW9uLFxuICAgICAgICBydW50aW1lQ2xpZW50XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29waWxvdE1lc3NhZ2VzLCB7IGNoaWxkcmVuIH0pXG4gICAgfVxuICApO1xufVxudmFyIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMgPSBbXCJnbG9iYWxcIl07XG5mdW5jdGlvbiBlbnRyeVBvaW50c1RvRnVuY3Rpb25DYWxsSGFuZGxlcihhY3Rpb25zKSB7XG4gIHJldHVybiAoXzApID0+IF9fYXN5bmModGhpcywgW18wXSwgZnVuY3Rpb24qICh7IG1lc3NhZ2VzLCBuYW1lLCBhcmdzIH0pIHtcbiAgICBsZXQgYWN0aW9uc0J5RnVuY3Rpb25OYW1lID0ge307XG4gICAgZm9yIChsZXQgYWN0aW9uMiBvZiBhY3Rpb25zKSB7XG4gICAgICBhY3Rpb25zQnlGdW5jdGlvbk5hbWVbYWN0aW9uMi5uYW1lXSA9IGFjdGlvbjI7XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbiA9IGFjdGlvbnNCeUZ1bmN0aW9uTmFtZVtuYW1lXTtcbiAgICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZmx1c2hTeW5jKCgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHlpZWxkIChfYSA9IGFjdGlvbi5oYW5kbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhY3Rpb24sIGFyZ3MpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcbn1cblxuLy8gc3JjL3V0aWxzL2V4dHJhY3QudHNcbmltcG9ydCB7XG4gIGNvbnZlcnRNZXNzYWdlc1RvR3FsSW5wdXQsXG4gIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlc1xufSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG5mdW5jdGlvbiBleHRyYWN0KF8wKSB7XG4gIHJldHVybiBfX2FzeW5jKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICh7XG4gICAgY29udGV4dCxcbiAgICBpbnN0cnVjdGlvbnMsXG4gICAgcGFyYW1ldGVycyxcbiAgICBpbmNsdWRlLFxuICAgIGRhdGEsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgc3RyZWFtLFxuICAgIHJlcXVlc3RUeXBlID0gQ29waWxvdFJlcXVlc3RUeXBlLlRhc2tcbiAgfSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBtZXNzYWdlcyB9ID0gY29udGV4dDtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICBuYW1lOiBcImV4dHJhY3RcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBpbnN0cnVjdGlvbnMsXG4gICAgICBwYXJhbWV0ZXJzLFxuICAgICAgaGFuZGxlcjogKGFyZ3MpID0+IHtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGluY2x1ZGVSZWFkYWJsZSA9IChfYSA9IGluY2x1ZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGluY2x1ZGUucmVhZGFibGUpICE9IG51bGwgPyBfYSA6IGZhbHNlO1xuICAgIGNvbnN0IGluY2x1ZGVNZXNzYWdlcyA9IChfYiA9IGluY2x1ZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGluY2x1ZGUubWVzc2FnZXMpICE9IG51bGwgPyBfYiA6IGZhbHNlO1xuICAgIGxldCBjb250ZXh0U3RyaW5nID0gXCJcIjtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgY29udGV4dFN0cmluZyA9ICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIlxcblxcblwiO1xuICAgIH1cbiAgICBpZiAoaW5jbHVkZVJlYWRhYmxlKSB7XG4gICAgICBjb250ZXh0U3RyaW5nICs9IGNvbnRleHQuZ2V0Q29udGV4dFN0cmluZyhbXSwgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyk7XG4gICAgfVxuICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogbWFrZVN5c3RlbU1lc3NhZ2UoY29udGV4dFN0cmluZywgaW5zdHJ1Y3Rpb25zKSxcbiAgICAgIHJvbGU6IFJvbGUuU3lzdGVtXG4gICAgfSk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTWVzc2FnZSA9IG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICBjb250ZW50OiBtYWtlSW5zdHJ1Y3Rpb25zTWVzc2FnZShpbnN0cnVjdGlvbnMpLFxuICAgICAgcm9sZTogUm9sZS5Vc2VyXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBjb250ZXh0LnJ1bnRpbWVDbGllbnQuYXNTdHJlYW0oXG4gICAgICBjb250ZXh0LnJ1bnRpbWVDbGllbnQuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZnJvbnRlbmQ6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24gfHwgXCJcIixcbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiBKU09OLnN0cmluZ2lmeShhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hKGFjdGlvbi5wYXJhbWV0ZXJzIHx8IFtdKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2VzOiBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0KFxuICAgICAgICAgICAgaW5jbHVkZU1lc3NhZ2VzID8gW3N5c3RlbU1lc3NhZ2UsIGluc3RydWN0aW9uc01lc3NhZ2UsIC4uLmZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyhtZXNzYWdlcyldIDogW3N5c3RlbU1lc3NhZ2UsIGluc3RydWN0aW9uc01lc3NhZ2VdXG4gICAgICAgICAgKSxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgcmVxdWVzdFR5cGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvcndhcmRlZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIHRvb2xDaG9pY2U6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIHRvb2xDaG9pY2VGdW5jdGlvbk5hbWU6IGFjdGlvbi5uYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0aWVzOiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHJvcGVydGllcyxcbiAgICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbFxuICAgICAgfSlcbiAgICApO1xuICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmdldFJlYWRlcigpO1xuICAgIGxldCBpc0luaXRpYWwgPSB0cnVlO1xuICAgIGxldCBhY3Rpb25FeGVjdXRpb25NZXNzYWdlID0gdm9pZCAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSB5aWVsZCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoYWJvcnRTaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IGFib3J0U2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRlZFwiKTtcbiAgICAgIH1cbiAgICAgIGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UgPSBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyhcbiAgICAgICAgdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UubWVzc2FnZXNcbiAgICAgICkuZmluZCgobXNnKSA9PiBtc2cuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpO1xuICAgICAgaWYgKCFhY3Rpb25FeGVjdXRpb25NZXNzYWdlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3RyZWFtID09IG51bGwgPyB2b2lkIDAgOiBzdHJlYW0oe1xuICAgICAgICBzdGF0dXM6IGlzSW5pdGlhbCA/IFwiaW5pdGlhbFwiIDogXCJpblByb2dyZXNzXCIsXG4gICAgICAgIGFyZ3M6IGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UuYXJndW1lbnRzXG4gICAgICB9KTtcbiAgICAgIGlzSW5pdGlhbCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImV4dHJhY3QoKSBmYWlsZWQ6IE5vIGZ1bmN0aW9uIGNhbGwgb2NjdXJyZWRcIik7XG4gICAgfVxuICAgIHN0cmVhbSA9PSBudWxsID8gdm9pZCAwIDogc3RyZWFtKHtcbiAgICAgIHN0YXR1czogXCJjb21wbGV0ZVwiLFxuICAgICAgYXJnczogYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5hcmd1bWVudHNcbiAgICB9KTtcbiAgICByZXR1cm4gYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5hcmd1bWVudHM7XG4gIH0pO1xufVxuZnVuY3Rpb24gbWFrZUluc3RydWN0aW9uc01lc3NhZ2UoaW5zdHJ1Y3Rpb25zKSB7XG4gIHJldHVybiBgXG5UaGUgdXNlciBoYXMgZ2l2ZW4geW91IHRoZSBmb2xsb3dpbmcgdGFzayB0byBjb21wbGV0ZTpcblxuXFxgXFxgXFxgXG4ke2luc3RydWN0aW9uc31cblxcYFxcYFxcYFxuXG5BbnkgYWRkaXRpb25hbCBtZXNzYWdlcyBwcm92aWRlZCBhcmUgZm9yIHByb3ZpZGluZyBjb250ZXh0IG9ubHkgYW5kIHNob3VsZCBub3QgYmUgdXNlZCB0byBhc2sgcXVlc3Rpb25zIG9yIGVuZ2FnZSBpbiBjb252ZXJzYXRpb24uXG5gO1xufVxuZnVuY3Rpb24gbWFrZVN5c3RlbU1lc3NhZ2UoY29udGV4dFN0cmluZywgaW5zdHJ1Y3Rpb25zKSB7XG4gIHJldHVybiBgXG5QbGVhc2UgYWN0IGFzIGFuIGVmZmljaWVudCwgY29tcGV0ZW50LCBjb25zY2llbnRpb3VzLCBhbmQgaW5kdXN0cmlvdXMgcHJvZmVzc2lvbmFsIGFzc2lzdGFudC5cblxuSGVscCB0aGUgdXNlciBhY2hpZXZlIHRoZWlyIGdvYWxzLCBhbmQgeW91IGRvIHNvIGluIGEgd2F5IHRoYXQgaXMgYXMgZWZmaWNpZW50IGFzIHBvc3NpYmxlLCB3aXRob3V0IHVubmVjZXNzYXJ5IGZsdWZmLCBidXQgYWxzbyB3aXRob3V0IHNhY3JpZmljaW5nIHByb2Zlc3Npb25hbGlzbS5cbkFsd2F5cyBiZSBwb2xpdGUgYW5kIHJlc3BlY3RmdWwsIGFuZCBwcmVmZXIgYnJldml0eSBvdmVyIHZlcmJvc2l0eS5cblxuVGhlIHVzZXIgaGFzIHByb3ZpZGVkIHlvdSB3aXRoIHRoZSBmb2xsb3dpbmcgY29udGV4dDpcblxcYFxcYFxcYFxuJHtjb250ZXh0U3RyaW5nfVxuXFxgXFxgXFxgXG5cblRoZXkgaGF2ZSBhbHNvIHByb3ZpZGVkIHlvdSB3aXRoIGEgZnVuY3Rpb24gY2FsbGVkIGV4dHJhY3QgeW91IE1VU1QgY2FsbCB0byBpbml0aWF0ZSBhY3Rpb25zIG9uIHRoZWlyIGJlaGFsZi5cblxuUGxlYXNlIGFzc2lzdCB0aGVtIGFzIGJlc3QgeW91IGNhbi5cblxuVGhpcyBpcyBub3QgYSBjb252ZXJzYXRpb24sIHNvIHBsZWFzZSBkbyBub3QgYXNrIHF1ZXN0aW9ucy4gSnVzdCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRob3V0IHNheWluZyBhbnl0aGluZyBlbHNlLlxuYDtcbn1cblxuZXhwb3J0IHtcbiAgZXh0cmFjdCxcbiAgQ29waWxvdEtpdCxcbiAgQ29waWxvdEtpdEludGVybmFsLFxuICBkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstREhHWEw1UEMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-EC5YZTSH.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-EC5YZTSH.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ODN4H66E.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs\");\n/* harmony import */ var _chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-2KCEHGSI.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs\");\n\n\n\n\n// src/hooks/use-chat.ts\n\n\n\nfunction useChat(options) {\n  const {\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    copilotConfig,\n    setIsLoading,\n    initialMessages,\n    isLoading,\n    actions,\n    onFunctionCall,\n    onCoAgentStateRender,\n    setCoagentStatesWithRef,\n    coagentStatesRef,\n    agentSession,\n    setAgentSession\n  } = options;\n  const abortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const threadIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const runIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const { addGraphQLErrorsToast } = (0,_chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_1__.useToast)();\n  const runChatCompletionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const agentSessionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(agentSession);\n  agentSessionRef.current = agentSession;\n  const publicApiKey = copilotConfig.publicApiKey;\n  const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, copilotConfig.headers || {}), publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: publicApiKey } : {});\n  const runtimeClient = (0,_chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_4__.useCopilotRuntimeClient)({\n    url: copilotConfig.chatApiEndpoint,\n    publicApiKey: copilotConfig.publicApiKey,\n    headers,\n    credentials: copilotConfig.credentials\n  });\n  const runChatCompletion = (previousMessages) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    setIsLoading(true);\n    let newMessages = [\n      new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.TextMessage({\n        content: \"\",\n        role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.Role.Assistant\n      })\n    ];\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n    setMessages([...previousMessages, ...newMessages]);\n    const systemMessage = makeSystemMessageCallback();\n    const messagesWithContext = [systemMessage, ...initialMessages || [], ...previousMessages];\n    const filteredActions = actions.filter((action) => action.available !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.ActionInputAvailability.Disabled || !action.disabled).map((action) => {\n      let available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.ActionInputAvailability.Enabled;\n      if (action.disabled) {\n        available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.ActionInputAvailability.Disabled;\n      } else if (action.available === \"disabled\") {\n        available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.ActionInputAvailability.Disabled;\n      } else if (action.available === \"remote\") {\n        available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.ActionInputAvailability.Remote;\n      }\n      return {\n        name: action.name,\n        description: action.description || \"\",\n        jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_7__.actionParametersToJsonSchema)(action.parameters || [])),\n        available\n      };\n    });\n    const isAgentRun = agentSessionRef.current !== null;\n    const stream = runtimeClient.asStream(\n      runtimeClient.generateCopilotResponse({\n        data: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({\n          frontend: {\n            actions: filteredActions,\n            url: window.location.href\n          },\n          threadId: threadIdRef.current,\n          runId: runIdRef.current,\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.convertMessagesToGqlInput)((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.filterAgentStateMessages)(messagesWithContext))\n        }, copilotConfig.cloud ? {\n          cloud: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, ((_c = (_b = (_a = copilotConfig.cloud.guardrails) == null ? void 0 : _a.input) == null ? void 0 : _b.restrictToTopic) == null ? void 0 : _c.enabled) ? {\n            guardrails: {\n              inputValidationRules: {\n                allowList: copilotConfig.cloud.guardrails.input.restrictToTopic.validTopics,\n                denyList: copilotConfig.cloud.guardrails.input.restrictToTopic.invalidTopics\n              }\n            }\n          } : {})\n        } : {}), {\n          metadata: {\n            requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.CopilotRequestType.Chat\n          }\n        }), agentSessionRef.current ? {\n          agentSession: agentSessionRef.current\n        } : {}), {\n          agentStates: Object.values(coagentStatesRef.current).map((state) => ({\n            agentName: state.name,\n            state: JSON.stringify(state.state)\n          }))\n        }),\n        properties: copilotConfig.properties,\n        signal: (_d = abortControllerRef.current) == null ? void 0 : _d.signal\n      })\n    );\n    const guardrailsEnabled = ((_g = (_f = (_e = copilotConfig.cloud) == null ? void 0 : _e.guardrails) == null ? void 0 : _f.input) == null ? void 0 : _g.restrictToTopic.enabled) || false;\n    const reader = stream.getReader();\n    let executedCoAgentStateRenders = [];\n    let followUp = void 0;\n    let messages2 = [];\n    let syncedMessages = [];\n    try {\n      while (true) {\n        let done, value;\n        try {\n          const readResult = yield reader.read();\n          done = readResult.done;\n          value = readResult.value;\n        } catch (readError) {\n          break;\n        }\n        if (done) {\n          break;\n        }\n        if (!(value == null ? void 0 : value.generateCopilotResponse)) {\n          continue;\n        }\n        threadIdRef.current = value.generateCopilotResponse.threadId || null;\n        runIdRef.current = value.generateCopilotResponse.runId || null;\n        messages2 = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.convertGqlOutputToMessages)(\n          (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.filterAdjacentAgentStateMessages)(value.generateCopilotResponse.messages)\n        );\n        if (messages2.length === 0) {\n          continue;\n        }\n        newMessages = [];\n        if (((_h = value.generateCopilotResponse.status) == null ? void 0 : _h.__typename) === \"FailedResponseStatus\" && value.generateCopilotResponse.status.reason === \"GUARDRAILS_VALIDATION_FAILED\") {\n          newMessages = [\n            new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.TextMessage({\n              role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.MessageRole.Assistant,\n              content: ((_i = value.generateCopilotResponse.status.details) == null ? void 0 : _i.guardrailsReason) || \"\"\n            })\n          ];\n          setMessages([...previousMessages, ...newMessages]);\n          break;\n        } else {\n          newMessages = [...messages2];\n          for (const message of messages2) {\n            if (message.isAgentStateMessage() && !message.active && !executedCoAgentStateRenders.includes(message.id) && onCoAgentStateRender) {\n              if (guardrailsEnabled && value.generateCopilotResponse.status === void 0) {\n                break;\n              }\n              yield onCoAgentStateRender({\n                name: message.agentName,\n                nodeName: message.nodeName,\n                state: message.state\n              });\n              executedCoAgentStateRenders.push(message.id);\n            }\n          }\n          const lastAgentStateMessage = [...messages2].reverse().find((message) => message.isAgentStateMessage());\n          if (lastAgentStateMessage) {\n            if (lastAgentStateMessage.state.messages && lastAgentStateMessage.state.messages.length > 0) {\n              syncedMessages = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.loadMessagesFromJsonRepresentation)(\n                lastAgentStateMessage.state.messages\n              );\n            }\n            setCoagentStatesWithRef((prevAgentStates) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prevAgentStates), {\n              [lastAgentStateMessage.agentName]: {\n                name: lastAgentStateMessage.agentName,\n                state: lastAgentStateMessage.state,\n                running: lastAgentStateMessage.running,\n                active: lastAgentStateMessage.active,\n                threadId: lastAgentStateMessage.threadId,\n                nodeName: lastAgentStateMessage.nodeName,\n                runId: lastAgentStateMessage.runId\n              }\n            }));\n            if (lastAgentStateMessage.running) {\n              setAgentSession({\n                threadId: lastAgentStateMessage.threadId,\n                agentName: lastAgentStateMessage.agentName,\n                nodeName: lastAgentStateMessage.nodeName\n              });\n            } else {\n              setAgentSession(null);\n            }\n          }\n        }\n        if (newMessages.length > 0) {\n          setMessages([...previousMessages, ...newMessages]);\n        }\n      }\n      const finalMessages = constructFinalMessages(syncedMessages, previousMessages, newMessages);\n      let didExecuteAction = false;\n      if (onFunctionCall) {\n        const lastMessages = [];\n        for (let i = finalMessages.length - 1; i >= 0; i--) {\n          const message = finalMessages[i];\n          if (message.isActionExecutionMessage() && message.status.code !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.MessageStatusCode.Pending) {\n            lastMessages.unshift(message);\n          } else {\n            break;\n          }\n        }\n        for (const message of lastMessages) {\n          setMessages(finalMessages);\n          const action = actions.find((action2) => action2.name === message.name);\n          if (action) {\n            followUp = action.followUp;\n            const result = yield onFunctionCall({\n              messages: finalMessages,\n              name: message.name,\n              args: message.arguments\n            });\n            didExecuteAction = true;\n            const messageIndex = finalMessages.findIndex((msg) => msg.id === message.id);\n            finalMessages.splice(\n              messageIndex + 1,\n              0,\n              new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.ResultMessage({\n                id: \"result-\" + message.id,\n                result: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.ResultMessage.encodeResult(result),\n                actionExecutionId: message.id,\n                actionName: message.name\n              })\n            );\n          }\n        }\n        setMessages(finalMessages);\n      }\n      if (\n        // if followUp is not explicitly false\n        followUp !== false && // and we executed an action\n        (didExecuteAction || // the last message is a server side result\n        !isAgentRun && finalMessages.length && finalMessages[finalMessages.length - 1].isResultMessage())\n      ) {\n        yield new Promise((resolve) => setTimeout(resolve, 10));\n        return yield runChatCompletionRef.current(finalMessages);\n      } else {\n        return newMessages.slice();\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  });\n  runChatCompletionRef.current = runChatCompletion;\n  const runChatCompletionAndHandleFunctionCall = (messages2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n    yield runChatCompletionRef.current(messages2);\n  });\n  const append = (message) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n    if (isLoading) {\n      return;\n    }\n    const newMessages = [...messages, message];\n    setMessages(newMessages);\n    return runChatCompletionAndHandleFunctionCall(newMessages);\n  });\n  const reload = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n    if (isLoading || messages.length === 0) {\n      return;\n    }\n    let newMessages = [...messages];\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage.isTextMessage() && lastMessage.role === \"assistant\") {\n      newMessages = newMessages.slice(0, -1);\n    }\n    setMessages(newMessages);\n    return runChatCompletionAndHandleFunctionCall(newMessages);\n  });\n  const stop = () => {\n    var _a;\n    (_a = abortControllerRef.current) == null ? void 0 : _a.abort();\n  };\n  return {\n    append,\n    reload,\n    stop,\n    runChatCompletion: () => runChatCompletionRef.current(messages)\n  };\n}\nfunction constructFinalMessages(syncedMessages, previousMessages, newMessages) {\n  const finalMessages = syncedMessages.length > 0 ? [...syncedMessages] : [...previousMessages, ...newMessages];\n  if (syncedMessages.length > 0) {\n    const messagesWithAgentState = [...previousMessages, ...newMessages];\n    let previousMessageId = void 0;\n    for (const message of messagesWithAgentState) {\n      if (message.isAgentStateMessage()) {\n        const index = finalMessages.findIndex((msg) => msg.id === previousMessageId);\n        if (index !== -1) {\n          finalMessages.splice(index + 1, 0, message);\n        }\n      }\n      previousMessageId = message.id;\n    }\n  }\n  return finalMessages;\n}\n\n\n//# sourceMappingURL=chunk-EC5YZTSH.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstRUM1WVpUU0gubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUtBOztBQUU5QjtBQUMrQjtBQUlIO0FBY1k7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osNkJBQTZCLDZDQUFNO0FBQ25DLHNCQUFzQiw2Q0FBTTtBQUM1QixtQkFBbUIsNkNBQU07QUFDekIsVUFBVSx3QkFBd0IsRUFBRSw2REFBUTtBQUM1QywrQkFBK0IsNkNBQU07QUFDckMsMEJBQTBCLDZDQUFNO0FBQ2hDO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHLDZCQUE2QixvQkFBb0IsQ0FBQyxtRkFBbUMsa0JBQWtCLElBQUk7QUFDN0osd0JBQXdCLDRFQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrREFBa0QsNERBQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1RUFBVztBQUNyQjtBQUNBLGNBQWMsZ0VBQUk7QUFDbEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxtRkFBdUI7QUFDbkcsc0JBQXNCLG1GQUF1QjtBQUM3QztBQUNBLG9CQUFvQixtRkFBdUI7QUFDM0MsUUFBUTtBQUNSLG9CQUFvQixtRkFBdUI7QUFDM0MsUUFBUTtBQUNSLG9CQUFvQixtRkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0ZBQTRCO0FBQy9EO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBYSxDQUFDLG1FQUFjLENBQUMsa0VBQWEsQ0FBQyxtRUFBYztBQUN2RTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLG9CQUFvQix5RkFBeUIsQ0FBQyx3RkFBd0I7QUFDdEUsU0FBUztBQUNULGlCQUFpQixtRUFBYyxHQUFHO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBSTtBQUNoQixVQUFVLElBQUk7QUFDZDtBQUNBLHlCQUF5Qiw4RUFBa0I7QUFDM0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwRkFBMEI7QUFDOUMsVUFBVSxnR0FBZ0M7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUVBQVc7QUFDM0Isb0JBQW9CLHVFQUFXO0FBQy9CO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isa0dBQWtDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0EsNEVBQTRFLDZFQUFpQjtBQUM3RjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5RUFBYTtBQUMvQjtBQUNBLHdCQUF3Qix5RUFBYTtBQUNyQztBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGdFQUFnRSw0REFBTztBQUN2RTtBQUNBLEdBQUc7QUFDSCw4QkFBOEIsNERBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVCQUF1Qiw0REFBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1FQzVZWlRTSC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdFJ1bnRpbWVDbGllbnRcbn0gZnJvbSBcIi4vY2h1bmstT0RONEg2NkUubWpzXCI7XG5pbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay0yS0NFSEdTSS5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNoYXQudHNcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIsXG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWFcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHtcbiAgVGV4dE1lc3NhZ2UsXG4gIFJlc3VsdE1lc3NhZ2UsXG4gIGNvbnZlcnRNZXNzYWdlc1RvR3FsSW5wdXQsXG4gIGZpbHRlckFkamFjZW50QWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBmaWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMsXG4gIGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzLFxuICBNZXNzYWdlU3RhdHVzQ29kZSxcbiAgTWVzc2FnZVJvbGUsXG4gIFJvbGUsXG4gIENvcGlsb3RSZXF1ZXN0VHlwZSxcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHksXG4gIGxvYWRNZXNzYWdlc0Zyb21Kc29uUmVwcmVzZW50YXRpb25cbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuZnVuY3Rpb24gdXNlQ2hhdChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBtZXNzYWdlcyxcbiAgICBzZXRNZXNzYWdlcyxcbiAgICBtYWtlU3lzdGVtTWVzc2FnZUNhbGxiYWNrLFxuICAgIGNvcGlsb3RDb25maWcsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIGluaXRpYWxNZXNzYWdlcyxcbiAgICBpc0xvYWRpbmcsXG4gICAgYWN0aW9ucyxcbiAgICBvbkZ1bmN0aW9uQ2FsbCxcbiAgICBvbkNvQWdlbnRTdGF0ZVJlbmRlcixcbiAgICBzZXRDb2FnZW50U3RhdGVzV2l0aFJlZixcbiAgICBjb2FnZW50U3RhdGVzUmVmLFxuICAgIGFnZW50U2Vzc2lvbixcbiAgICBzZXRBZ2VudFNlc3Npb25cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGFib3J0Q29udHJvbGxlclJlZiA9IHVzZVJlZigpO1xuICBjb25zdCB0aHJlYWRJZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcnVuSWRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHsgYWRkR3JhcGhRTEVycm9yc1RvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBydW5DaGF0Q29tcGxldGlvblJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBhZ2VudFNlc3Npb25SZWYgPSB1c2VSZWYoYWdlbnRTZXNzaW9uKTtcbiAgYWdlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBhZ2VudFNlc3Npb247XG4gIGNvbnN0IHB1YmxpY0FwaUtleSA9IGNvcGlsb3RDb25maWcucHVibGljQXBpS2V5O1xuICBjb25zdCBoZWFkZXJzID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGNvcGlsb3RDb25maWcuaGVhZGVycyB8fCB7fSksIHB1YmxpY0FwaUtleSA/IHsgW0NPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXTogcHVibGljQXBpS2V5IH0gOiB7fSk7XG4gIGNvbnN0IHJ1bnRpbWVDbGllbnQgPSB1c2VDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgdXJsOiBjb3BpbG90Q29uZmlnLmNoYXRBcGlFbmRwb2ludCxcbiAgICBwdWJsaWNBcGlLZXk6IGNvcGlsb3RDb25maWcucHVibGljQXBpS2V5LFxuICAgIGhlYWRlcnMsXG4gICAgY3JlZGVudGlhbHM6IGNvcGlsb3RDb25maWcuY3JlZGVudGlhbHNcbiAgfSk7XG4gIGNvbnN0IHJ1bkNoYXRDb21wbGV0aW9uID0gKHByZXZpb3VzTWVzc2FnZXMpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaTtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgbGV0IG5ld01lc3NhZ2VzID0gW1xuICAgICAgbmV3IFRleHRNZXNzYWdlKHtcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgcm9sZTogUm9sZS5Bc3Npc3RhbnRcbiAgICAgIH0pXG4gICAgXTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBhYm9ydENvbnRyb2xsZXI7XG4gICAgc2V0TWVzc2FnZXMoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm5ld01lc3NhZ2VzXSk7XG4gICAgY29uc3Qgc3lzdGVtTWVzc2FnZSA9IG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2soKTtcbiAgICBjb25zdCBtZXNzYWdlc1dpdGhDb250ZXh0ID0gW3N5c3RlbU1lc3NhZ2UsIC4uLmluaXRpYWxNZXNzYWdlcyB8fCBbXSwgLi4ucHJldmlvdXNNZXNzYWdlc107XG4gICAgY29uc3QgZmlsdGVyZWRBY3Rpb25zID0gYWN0aW9ucy5maWx0ZXIoKGFjdGlvbikgPT4gYWN0aW9uLmF2YWlsYWJsZSAhPT0gQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkuRGlzYWJsZWQgfHwgIWFjdGlvbi5kaXNhYmxlZCkubWFwKChhY3Rpb24pID0+IHtcbiAgICAgIGxldCBhdmFpbGFibGUgPSBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eS5FbmFibGVkO1xuICAgICAgaWYgKGFjdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICBhdmFpbGFibGUgPSBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eS5EaXNhYmxlZDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLmF2YWlsYWJsZSA9PT0gXCJkaXNhYmxlZFwiKSB7XG4gICAgICAgIGF2YWlsYWJsZSA9IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LkRpc2FibGVkO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24uYXZhaWxhYmxlID09PSBcInJlbW90ZVwiKSB7XG4gICAgICAgIGF2YWlsYWJsZSA9IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LlJlbW90ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uLnBhcmFtZXRlcnMgfHwgW10pKSxcbiAgICAgICAgYXZhaWxhYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IGlzQWdlbnRSdW4gPSBhZ2VudFNlc3Npb25SZWYuY3VycmVudCAhPT0gbnVsbDtcbiAgICBjb25zdCBzdHJlYW0gPSBydW50aW1lQ2xpZW50LmFzU3RyZWFtKFxuICAgICAgcnVudGltZUNsaWVudC5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZSh7XG4gICAgICAgIGRhdGE6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgZnJvbnRlbmQ6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6IGZpbHRlcmVkQWN0aW9ucyxcbiAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRocmVhZElkOiB0aHJlYWRJZFJlZi5jdXJyZW50LFxuICAgICAgICAgIHJ1bklkOiBydW5JZFJlZi5jdXJyZW50LFxuICAgICAgICAgIG1lc3NhZ2VzOiBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0KGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyhtZXNzYWdlc1dpdGhDb250ZXh0KSlcbiAgICAgICAgfSwgY29waWxvdENvbmZpZy5jbG91ZCA/IHtcbiAgICAgICAgICBjbG91ZDogX19zcHJlYWRWYWx1ZXMoe30sICgoX2MgPSAoX2IgPSAoX2EgPSBjb3BpbG90Q29uZmlnLmNsb3VkLmd1YXJkcmFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbnB1dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnJlc3RyaWN0VG9Ub3BpYykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmVuYWJsZWQpID8ge1xuICAgICAgICAgICAgZ3VhcmRyYWlsczoge1xuICAgICAgICAgICAgICBpbnB1dFZhbGlkYXRpb25SdWxlczoge1xuICAgICAgICAgICAgICAgIGFsbG93TGlzdDogY29waWxvdENvbmZpZy5jbG91ZC5ndWFyZHJhaWxzLmlucHV0LnJlc3RyaWN0VG9Ub3BpYy52YWxpZFRvcGljcyxcbiAgICAgICAgICAgICAgICBkZW55TGlzdDogY29waWxvdENvbmZpZy5jbG91ZC5ndWFyZHJhaWxzLmlucHV0LnJlc3RyaWN0VG9Ub3BpYy5pbnZhbGlkVG9waWNzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IDoge30pXG4gICAgICAgIH0gOiB7fSksIHtcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgcmVxdWVzdFR5cGU6IENvcGlsb3RSZXF1ZXN0VHlwZS5DaGF0XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgYWdlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPyB7XG4gICAgICAgICAgYWdlbnRTZXNzaW9uOiBhZ2VudFNlc3Npb25SZWYuY3VycmVudFxuICAgICAgICB9IDoge30pLCB7XG4gICAgICAgICAgYWdlbnRTdGF0ZXM6IE9iamVjdC52YWx1ZXMoY29hZ2VudFN0YXRlc1JlZi5jdXJyZW50KS5tYXAoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgYWdlbnROYW1lOiBzdGF0ZS5uYW1lLFxuICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KHN0YXRlLnN0YXRlKVxuICAgICAgICAgIH0pKVxuICAgICAgICB9KSxcbiAgICAgICAgcHJvcGVydGllczogY29waWxvdENvbmZpZy5wcm9wZXJ0aWVzLFxuICAgICAgICBzaWduYWw6IChfZCA9IGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Quc2lnbmFsXG4gICAgICB9KVxuICAgICk7XG4gICAgY29uc3QgZ3VhcmRyYWlsc0VuYWJsZWQgPSAoKF9nID0gKF9mID0gKF9lID0gY29waWxvdENvbmZpZy5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmd1YXJkcmFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfZi5pbnB1dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLnJlc3RyaWN0VG9Ub3BpYy5lbmFibGVkKSB8fCBmYWxzZTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgbGV0IGV4ZWN1dGVkQ29BZ2VudFN0YXRlUmVuZGVycyA9IFtdO1xuICAgIGxldCBmb2xsb3dVcCA9IHZvaWQgMDtcbiAgICBsZXQgbWVzc2FnZXMyID0gW107XG4gICAgbGV0IHN5bmNlZE1lc3NhZ2VzID0gW107XG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGxldCBkb25lLCB2YWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZWFkUmVzdWx0ID0geWllbGQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICBkb25lID0gcmVhZFJlc3VsdC5kb25lO1xuICAgICAgICAgIHZhbHVlID0gcmVhZFJlc3VsdC52YWx1ZTtcbiAgICAgICAgfSBjYXRjaCAocmVhZEVycm9yKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyZWFkSWRSZWYuY3VycmVudCA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnRocmVhZElkIHx8IG51bGw7XG4gICAgICAgIHJ1bklkUmVmLmN1cnJlbnQgPSB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5ydW5JZCB8fCBudWxsO1xuICAgICAgICBtZXNzYWdlczIgPSBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyhcbiAgICAgICAgICBmaWx0ZXJBZGphY2VudEFnZW50U3RhdGVNZXNzYWdlcyh2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5tZXNzYWdlcylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VzMi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBuZXdNZXNzYWdlcyA9IFtdO1xuICAgICAgICBpZiAoKChfaCA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLl9fdHlwZW5hbWUpID09PSBcIkZhaWxlZFJlc3BvbnNlU3RhdHVzXCIgJiYgdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uuc3RhdHVzLnJlYXNvbiA9PT0gXCJHVUFSRFJBSUxTX1ZBTElEQVRJT05fRkFJTEVEXCIpIHtcbiAgICAgICAgICBuZXdNZXNzYWdlcyA9IFtcbiAgICAgICAgICAgIG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLkFzc2lzdGFudCxcbiAgICAgICAgICAgICAgY29udGVudDogKChfaSA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2kuZ3VhcmRyYWlsc1JlYXNvbikgfHwgXCJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdO1xuICAgICAgICAgIHNldE1lc3NhZ2VzKFsuLi5wcmV2aW91c01lc3NhZ2VzLCAuLi5uZXdNZXNzYWdlc10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld01lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzMl07XG4gICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzMikge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpICYmICFtZXNzYWdlLmFjdGl2ZSAmJiAhZXhlY3V0ZWRDb0FnZW50U3RhdGVSZW5kZXJzLmluY2x1ZGVzKG1lc3NhZ2UuaWQpICYmIG9uQ29BZ2VudFN0YXRlUmVuZGVyKSB7XG4gICAgICAgICAgICAgIGlmIChndWFyZHJhaWxzRW5hYmxlZCAmJiB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHlpZWxkIG9uQ29BZ2VudFN0YXRlUmVuZGVyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBtZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogbWVzc2FnZS5zdGF0ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZXhlY3V0ZWRDb0FnZW50U3RhdGVSZW5kZXJzLnB1c2gobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGxhc3RBZ2VudFN0YXRlTWVzc2FnZSA9IFsuLi5tZXNzYWdlczJdLnJldmVyc2UoKS5maW5kKChtZXNzYWdlKSA9PiBtZXNzYWdlLmlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSk7XG4gICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5zdGF0ZS5tZXNzYWdlcyAmJiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2Uuc3RhdGUubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBzeW5jZWRNZXNzYWdlcyA9IGxvYWRNZXNzYWdlc0Zyb21Kc29uUmVwcmVzZW50YXRpb24oXG4gICAgICAgICAgICAgICAgbGFzdEFnZW50U3RhdGVNZXNzYWdlLnN0YXRlLm1lc3NhZ2VzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDb2FnZW50U3RhdGVzV2l0aFJlZigocHJldkFnZW50U3RhdGVzKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2QWdlbnRTdGF0ZXMpLCB7XG4gICAgICAgICAgICAgIFtsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UuYWdlbnROYW1lXToge1xuICAgICAgICAgICAgICAgIG5hbWU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5zdGF0ZSxcbiAgICAgICAgICAgICAgICBydW5uaW5nOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UucnVubmluZyxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5hY3RpdmUsXG4gICAgICAgICAgICAgICAgdGhyZWFkSWQ6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgICAgICAgICBub2RlTmFtZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLm5vZGVOYW1lLFxuICAgICAgICAgICAgICAgIHJ1bklkOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UucnVuSWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ydW5uaW5nKSB7XG4gICAgICAgICAgICAgIHNldEFnZW50U2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgdGhyZWFkSWQ6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgbm9kZU5hbWU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ub2RlTmFtZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldEFnZW50U2Vzc2lvbihudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld01lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbLi4ucHJldmlvdXNNZXNzYWdlcywgLi4ubmV3TWVzc2FnZXNdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZmluYWxNZXNzYWdlcyA9IGNvbnN0cnVjdEZpbmFsTWVzc2FnZXMoc3luY2VkTWVzc2FnZXMsIHByZXZpb3VzTWVzc2FnZXMsIG5ld01lc3NhZ2VzKTtcbiAgICAgIGxldCBkaWRFeGVjdXRlQWN0aW9uID0gZmFsc2U7XG4gICAgICBpZiAob25GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSBmaW5hbE1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGZpbmFsTWVzc2FnZXNbaV07XG4gICAgICAgICAgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkgJiYgbWVzc2FnZS5zdGF0dXMuY29kZSAhPT0gTWVzc2FnZVN0YXR1c0NvZGUuUGVuZGluZykge1xuICAgICAgICAgICAgbGFzdE1lc3NhZ2VzLnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbGFzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoZmluYWxNZXNzYWdlcyk7XG4gICAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9ucy5maW5kKChhY3Rpb24yKSA9PiBhY3Rpb24yLm5hbWUgPT09IG1lc3NhZ2UubmFtZSk7XG4gICAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgICAgZm9sbG93VXAgPSBhY3Rpb24uZm9sbG93VXA7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBvbkZ1bmN0aW9uQ2FsbCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBmaW5hbE1lc3NhZ2VzLFxuICAgICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICAgIGFyZ3M6IG1lc3NhZ2UuYXJndW1lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpZEV4ZWN1dGVBY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gZmluYWxNZXNzYWdlcy5maW5kSW5kZXgoKG1zZykgPT4gbXNnLmlkID09PSBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgIGZpbmFsTWVzc2FnZXMuc3BsaWNlKFxuICAgICAgICAgICAgICBtZXNzYWdlSW5kZXggKyAxLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBuZXcgUmVzdWx0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgaWQ6IFwicmVzdWx0LVwiICsgbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IFJlc3VsdE1lc3NhZ2UuZW5jb2RlUmVzdWx0KHJlc3VsdCksXG4gICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogbWVzc2FnZS5uYW1lXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRNZXNzYWdlcyhmaW5hbE1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgLy8gaWYgZm9sbG93VXAgaXMgbm90IGV4cGxpY2l0bHkgZmFsc2VcbiAgICAgICAgZm9sbG93VXAgIT09IGZhbHNlICYmIC8vIGFuZCB3ZSBleGVjdXRlZCBhbiBhY3Rpb25cbiAgICAgICAgKGRpZEV4ZWN1dGVBY3Rpb24gfHwgLy8gdGhlIGxhc3QgbWVzc2FnZSBpcyBhIHNlcnZlciBzaWRlIHJlc3VsdFxuICAgICAgICAhaXNBZ2VudFJ1biAmJiBmaW5hbE1lc3NhZ2VzLmxlbmd0aCAmJiBmaW5hbE1lc3NhZ2VzW2ZpbmFsTWVzc2FnZXMubGVuZ3RoIC0gMV0uaXNSZXN1bHRNZXNzYWdlKCkpXG4gICAgICApIHtcbiAgICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcbiAgICAgICAgcmV0dXJuIHlpZWxkIHJ1bkNoYXRDb21wbGV0aW9uUmVmLmN1cnJlbnQoZmluYWxNZXNzYWdlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXMuc2xpY2UoKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuICBydW5DaGF0Q29tcGxldGlvblJlZi5jdXJyZW50ID0gcnVuQ2hhdENvbXBsZXRpb247XG4gIGNvbnN0IHJ1bkNoYXRDb21wbGV0aW9uQW5kSGFuZGxlRnVuY3Rpb25DYWxsID0gKG1lc3NhZ2VzMikgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHlpZWxkIHJ1bkNoYXRDb21wbGV0aW9uUmVmLmN1cnJlbnQobWVzc2FnZXMyKTtcbiAgfSk7XG4gIGNvbnN0IGFwcGVuZCA9IChtZXNzYWdlKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXdNZXNzYWdlcyA9IFsuLi5tZXNzYWdlcywgbWVzc2FnZV07XG4gICAgc2V0TWVzc2FnZXMobmV3TWVzc2FnZXMpO1xuICAgIHJldHVybiBydW5DaGF0Q29tcGxldGlvbkFuZEhhbmRsZUZ1bmN0aW9uQ2FsbChuZXdNZXNzYWdlcyk7XG4gIH0pO1xuICBjb25zdCByZWxvYWQgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKGlzTG9hZGluZyB8fCBtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5ld01lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzXTtcbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0TWVzc2FnZS5pc1RleHRNZXNzYWdlKCkgJiYgbGFzdE1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgbmV3TWVzc2FnZXMgPSBuZXdNZXNzYWdlcy5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIHNldE1lc3NhZ2VzKG5ld01lc3NhZ2VzKTtcbiAgICByZXR1cm4gcnVuQ2hhdENvbXBsZXRpb25BbmRIYW5kbGVGdW5jdGlvbkNhbGwobmV3TWVzc2FnZXMpO1xuICB9KTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hYm9ydCgpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGFwcGVuZCxcbiAgICByZWxvYWQsXG4gICAgc3RvcCxcbiAgICBydW5DaGF0Q29tcGxldGlvbjogKCkgPT4gcnVuQ2hhdENvbXBsZXRpb25SZWYuY3VycmVudChtZXNzYWdlcylcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdEZpbmFsTWVzc2FnZXMoc3luY2VkTWVzc2FnZXMsIHByZXZpb3VzTWVzc2FnZXMsIG5ld01lc3NhZ2VzKSB7XG4gIGNvbnN0IGZpbmFsTWVzc2FnZXMgPSBzeW5jZWRNZXNzYWdlcy5sZW5ndGggPiAwID8gWy4uLnN5bmNlZE1lc3NhZ2VzXSA6IFsuLi5wcmV2aW91c01lc3NhZ2VzLCAuLi5uZXdNZXNzYWdlc107XG4gIGlmIChzeW5jZWRNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbWVzc2FnZXNXaXRoQWdlbnRTdGF0ZSA9IFsuLi5wcmV2aW91c01lc3NhZ2VzLCAuLi5uZXdNZXNzYWdlc107XG4gICAgbGV0IHByZXZpb3VzTWVzc2FnZUlkID0gdm9pZCAwO1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlc1dpdGhBZ2VudFN0YXRlKSB7XG4gICAgICBpZiAobWVzc2FnZS5pc0FnZW50U3RhdGVNZXNzYWdlKCkpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBmaW5hbE1lc3NhZ2VzLmZpbmRJbmRleCgobXNnKSA9PiBtc2cuaWQgPT09IHByZXZpb3VzTWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGZpbmFsTWVzc2FnZXMuc3BsaWNlKGluZGV4ICsgMSwgMCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByZXZpb3VzTWVzc2FnZUlkID0gbWVzc2FnZS5pZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbmFsTWVzc2FnZXM7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNoYXRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1FQzVZWlRTSC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-EC5YZTSH.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-MLAS4QUR.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-MLAS4QUR.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shouldShowDevConsole: () => (/* binding */ shouldShowDevConsole)\n/* harmony export */ });\n// src/utils/dev-console.ts\nfunction shouldShowDevConsole(showDevConsole) {\n  if (typeof showDevConsole === \"boolean\") {\n    return showDevConsole;\n  }\n  return getHostname() === \"localhost\" || getHostname() === \"127.0.0.1\" || getHostname() === \"0.0.0.0\" || getHostname() === \"::1\";\n}\nfunction getHostname() {\n  if (typeof window !== \"undefined\" && window.location) {\n    return window.location.hostname;\n  }\n  return \"\";\n}\n\n\n//# sourceMappingURL=chunk-MLAS4QUR.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstTUxBUzRRVVIubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1NTEFTNFFVUi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2Rldi1jb25zb2xlLnRzXG5mdW5jdGlvbiBzaG91bGRTaG93RGV2Q29uc29sZShzaG93RGV2Q29uc29sZSkge1xuICBpZiAodHlwZW9mIHNob3dEZXZDb25zb2xlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBzaG93RGV2Q29uc29sZTtcbiAgfVxuICByZXR1cm4gZ2V0SG9zdG5hbWUoKSA9PT0gXCJsb2NhbGhvc3RcIiB8fCBnZXRIb3N0bmFtZSgpID09PSBcIjEyNy4wLjAuMVwiIHx8IGdldEhvc3RuYW1lKCkgPT09IFwiMC4wLjAuMFwiIHx8IGdldEhvc3RuYW1lKCkgPT09IFwiOjoxXCI7XG59XG5mdW5jdGlvbiBnZXRIb3N0bmFtZSgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IHtcbiAgc2hvdWxkU2hvd0RldkNvbnNvbGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1NTEFTNFFVUi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-MLAS4QUR.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExclamationMarkIcon: () => (/* binding */ ExclamationMarkIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n// src/components/toast/exclamation-mark-icon.tsx\n\nvar ExclamationMarkIcon = ({\n  className,\n  style\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: `lucide lucide-circle-alert ${className ? className : \"\"}`,\n    style,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { cx: \"12\", cy: \"12\", r: \"10\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\" })\n    ]\n  }\n);\n\n\n//# sourceMappingURL=chunk-O7ARI5CV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstTzdBUkk1Q1YubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUIsdURBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyQkFBMkI7QUFDeEU7QUFDQTtBQUNBLHNCQUFzQixzREFBRyxhQUFhLDZCQUE2QjtBQUNuRSxzQkFBc0Isc0RBQUcsV0FBVyx1Q0FBdUM7QUFDM0Usc0JBQXNCLHNEQUFHLFdBQVcsMkNBQTJDO0FBQy9FO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1PN0FSSTVDVi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvdG9hc3QvZXhjbGFtYXRpb24tbWFyay1pY29uLnRzeFxuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgRXhjbGFtYXRpb25NYXJrSWNvbiA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgc3R5bGVcbn0pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogXCIyNFwiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcbiAgICBjbGFzc05hbWU6IGBsdWNpZGUgbHVjaWRlLWNpcmNsZS1hbGVydCAke2NsYXNzTmFtZSA/IGNsYXNzTmFtZSA6IFwiXCJ9YCxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiMTBcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJsaW5lXCIsIHsgeDE6IFwiMTJcIiwgeDI6IFwiMTJcIiwgeTE6IFwiOFwiLCB5MjogXCIxMlwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImxpbmVcIiwgeyB4MTogXCIxMlwiLCB4MjogXCIxMi4wMVwiLCB5MTogXCIxNlwiLCB5MjogXCIxNlwiIH0pXG4gICAgXVxuICB9XG4pO1xuXG5leHBvcnQge1xuICBFeGNsYW1hdGlvbk1hcmtJY29uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstTzdBUkk1Q1YubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotRuntimeClient: () => (/* binding */ useCopilotRuntimeClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-2KCEHGSI.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2KCEHGSI.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-XV6FLHQA.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\n// src/hooks/use-copilot-runtime-client.ts\n\n\nvar useCopilotRuntimeClient = (options) => {\n  const { addGraphQLErrorsToast } = (0,_chunk_2KCEHGSI_mjs__WEBPACK_IMPORTED_MODULE_1__.useToast)();\n  const runtimeClient = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__.CopilotRuntimeClient((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, options), {\n      handleGQLErrors: (error) => {\n        if (error.graphQLErrors.length) {\n          addGraphQLErrorsToast(error.graphQLErrors);\n        }\n      }\n    }));\n  }, [options, addGraphQLErrorsToast]);\n  return runtimeClient;\n};\n\n\n//# sourceMappingURL=chunk-ODN4H66E.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstT0RONEg2NkUubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRThCO0FBSUE7O0FBRTlCO0FBR3dDO0FBQ1I7QUFDaEM7QUFDQSxVQUFVLHdCQUF3QixFQUFFLDZEQUFRO0FBQzVDLHdCQUF3Qiw4Q0FBTztBQUMvQixlQUFlLGdGQUFvQixDQUFDLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU9ETjRINjZFLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay0yS0NFSEdTSS5tanNcIjtcbmltcG9ydCB7XG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtcnVudGltZS1jbGllbnQudHNcbmltcG9ydCB7XG4gIENvcGlsb3RSdW50aW1lQ2xpZW50XG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VDb3BpbG90UnVudGltZUNsaWVudCA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgYWRkR3JhcGhRTEVycm9yc1RvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBydW50aW1lQ2xpZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBDb3BpbG90UnVudGltZUNsaWVudChfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvcHRpb25zKSwge1xuICAgICAgaGFuZGxlR1FMRXJyb3JzOiAoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yLmdyYXBoUUxFcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgYWRkR3JhcGhRTEVycm9yc1RvYXN0KGVycm9yLmdyYXBoUUxFcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9LCBbb3B0aW9ucywgYWRkR3JhcGhRTEVycm9yc1RvYXN0XSk7XG4gIHJldHVybiBydW50aW1lQ2xpZW50O1xufTtcblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdFJ1bnRpbWVDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1PRE40SDY2RS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-OT67R4NB.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-OT67R4NB.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotTask: () => (/* binding */ CopilotTask)\n/* harmony export */ });\n/* harmony import */ var _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-DHGXL5PC.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-XV6FLHQA.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs\");\n\n\n\n// src/lib/copilot-task.ts\n\n\nvar CopilotTask = class {\n  constructor(config) {\n    this.instructions = config.instructions;\n    this.actions = config.actions || [];\n    this.includeCopilotReadable = config.includeCopilotReadable !== false;\n    this.includeCopilotActions = config.includeCopilotActions !== false;\n  }\n  /**\n   * Run the task.\n   * @param context The CopilotContext to use for the task. Use `useCopilotContext` to obtain the current context.\n   * @param data The data to use for the task.\n   */\n  run(context, data) {\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, null, function* () {\n      var _a, _b;\n      const actions = this.includeCopilotActions ? Object.assign({}, context.actions) : {};\n      for (const fn of this.actions) {\n        actions[fn.name] = fn;\n      }\n      let contextString = \"\";\n      if (data) {\n        contextString = (typeof data === \"string\" ? data : JSON.stringify(data)) + \"\\n\\n\";\n      }\n      if (this.includeCopilotReadable) {\n        contextString += context.getContextString([], _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__.defaultCopilotContextCategories);\n      }\n      const systemMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__.TextMessage({\n        content: taskSystemMessage(contextString, this.instructions),\n        role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__.Role.System\n      });\n      const messages = [systemMessage];\n      const runtimeClient = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.CopilotRuntimeClient({\n        url: context.copilotApiConfig.chatApiEndpoint,\n        publicApiKey: context.copilotApiConfig.publicApiKey,\n        headers: context.copilotApiConfig.headers,\n        credentials: context.copilotApiConfig.credentials\n      });\n      const response = yield runtimeClient.generateCopilotResponse({\n        data: {\n          frontend: {\n            actions: Object.values(actions).map((action) => ({\n              name: action.name,\n              description: action.description || \"\",\n              jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.actionParametersToJsonSchema)(action.parameters || []))\n            })),\n            url: window.location.href\n          },\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.convertMessagesToGqlInput)((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.filterAgentStateMessages)(messages)),\n          metadata: {\n            requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.CopilotRequestType.Task\n          },\n          forwardedParameters: {\n            toolChoice: \"required\"\n          }\n        },\n        properties: context.copilotApiConfig.properties\n      }).toPromise();\n      const functionCallHandler = context.getFunctionCallHandler(actions);\n      const functionCalls = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.convertGqlOutputToMessages)(\n        ((_b = (_a = response.data) == null ? void 0 : _a.generateCopilotResponse) == null ? void 0 : _b.messages) || []\n      ).filter((m) => m.isActionExecutionMessage());\n      for (const functionCall of functionCalls) {\n        yield functionCallHandler({\n          messages,\n          name: functionCall.name,\n          args: functionCall.arguments\n        });\n      }\n    });\n  }\n};\nfunction taskSystemMessage(contextString, instructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with functions you can call to initiate actions on their behalf.\n\nPlease assist them as best you can.\n\nThis is not a conversation, so please do not ask questions. Just call a function without saying anything else.\n\nThe user has given you the following task to complete:\n\n\\`\\`\\`\n${instructions}\n\\`\\`\\`\n`;\n}\n\n\n//# sourceMappingURL=chunk-OT67R4NB.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstT1Q2N1I0TkIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7O0FBRTlCO0FBU3dDO0FBQzBCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0REFBTztBQUNsQjtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdGQUErQjtBQUNyRjtBQUNBLGdDQUFnQyx1RUFBVztBQUMzQztBQUNBLGNBQWMsZ0VBQUk7QUFDbEIsT0FBTztBQUNQO0FBQ0EsZ0NBQWdDLGdGQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0ZBQTRCO0FBQ3JFLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWCxvQkFBb0IseUZBQXlCLENBQUMsd0ZBQXdCO0FBQ3RFO0FBQ0EseUJBQXlCLDhFQUFrQjtBQUMzQyxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsNEJBQTRCLDBGQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstT1Q2N1I0TkIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXNcbn0gZnJvbSBcIi4vY2h1bmstREhHWEw1UEMubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvbGliL2NvcGlsb3QtdGFzay50c1xuaW1wb3J0IHtcbiAgQ29waWxvdFJ1bnRpbWVDbGllbnQsXG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyxcbiAgY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dCxcbiAgZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBDb3BpbG90UmVxdWVzdFR5cGVcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuaW1wb3J0IHsgYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYSB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciBDb3BpbG90VGFzayA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBjb25maWcuaW5zdHJ1Y3Rpb25zO1xuICAgIHRoaXMuYWN0aW9ucyA9IGNvbmZpZy5hY3Rpb25zIHx8IFtdO1xuICAgIHRoaXMuaW5jbHVkZUNvcGlsb3RSZWFkYWJsZSA9IGNvbmZpZy5pbmNsdWRlQ29waWxvdFJlYWRhYmxlICE9PSBmYWxzZTtcbiAgICB0aGlzLmluY2x1ZGVDb3BpbG90QWN0aW9ucyA9IGNvbmZpZy5pbmNsdWRlQ29waWxvdEFjdGlvbnMgIT09IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBSdW4gdGhlIHRhc2suXG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSBDb3BpbG90Q29udGV4dCB0byB1c2UgZm9yIHRoZSB0YXNrLiBVc2UgYHVzZUNvcGlsb3RDb250ZXh0YCB0byBvYnRhaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gdXNlIGZvciB0aGUgdGFzay5cbiAgICovXG4gIHJ1bihjb250ZXh0LCBkYXRhKSB7XG4gICAgcmV0dXJuIF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCBhY3Rpb25zID0gdGhpcy5pbmNsdWRlQ29waWxvdEFjdGlvbnMgPyBPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LmFjdGlvbnMpIDoge307XG4gICAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMuYWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zW2ZuLm5hbWVdID0gZm47XG4gICAgICB9XG4gICAgICBsZXQgY29udGV4dFN0cmluZyA9IFwiXCI7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb250ZXh0U3RyaW5nID0gKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gZGF0YSA6IEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXFxuXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbmNsdWRlQ29waWxvdFJlYWRhYmxlKSB7XG4gICAgICAgIGNvbnRleHRTdHJpbmcgKz0gY29udGV4dC5nZXRDb250ZXh0U3RyaW5nKFtdLCBkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICBjb250ZW50OiB0YXNrU3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCB0aGlzLmluc3RydWN0aW9ucyksXG4gICAgICAgIHJvbGU6IFJvbGUuU3lzdGVtXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3N5c3RlbU1lc3NhZ2VdO1xuICAgICAgY29uc3QgcnVudGltZUNsaWVudCA9IG5ldyBDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgICAgIHVybDogY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLmNoYXRBcGlFbmRwb2ludCxcbiAgICAgICAgcHVibGljQXBpS2V5OiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5LFxuICAgICAgICBoZWFkZXJzOiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcuaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFsc1xuICAgICAgfSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHJ1bnRpbWVDbGllbnQuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZnJvbnRlbmQ6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6IE9iamVjdC52YWx1ZXMoYWN0aW9ucykubWFwKChhY3Rpb24pID0+ICh7XG4gICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uLnBhcmFtZXRlcnMgfHwgW10pKVxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVzc2FnZXM6IGNvbnZlcnRNZXNzYWdlc1RvR3FsSW5wdXQoZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKSksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlOiBDb3BpbG90UmVxdWVzdFR5cGUuVGFza1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yd2FyZGVkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgdG9vbENob2ljZTogXCJyZXF1aXJlZFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0aWVzOiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHJvcGVydGllc1xuICAgICAgfSkudG9Qcm9taXNlKCk7XG4gICAgICBjb25zdCBmdW5jdGlvbkNhbGxIYW5kbGVyID0gY29udGV4dC5nZXRGdW5jdGlvbkNhbGxIYW5kbGVyKGFjdGlvbnMpO1xuICAgICAgY29uc3QgZnVuY3Rpb25DYWxscyA9IGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKFxuICAgICAgICAoKF9iID0gKF9hID0gcmVzcG9uc2UuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2IubWVzc2FnZXMpIHx8IFtdXG4gICAgICApLmZpbHRlcigobSkgPT4gbS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSk7XG4gICAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uQ2FsbCBvZiBmdW5jdGlvbkNhbGxzKSB7XG4gICAgICAgIHlpZWxkIGZ1bmN0aW9uQ2FsbEhhbmRsZXIoe1xuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uQ2FsbC5uYW1lLFxuICAgICAgICAgIGFyZ3M6IGZ1bmN0aW9uQ2FsbC5hcmd1bWVudHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiB0YXNrU3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCBpbnN0cnVjdGlvbnMpIHtcbiAgcmV0dXJuIGBcblBsZWFzZSBhY3QgYXMgYW4gZWZmaWNpZW50LCBjb21wZXRlbnQsIGNvbnNjaWVudGlvdXMsIGFuZCBpbmR1c3RyaW91cyBwcm9mZXNzaW9uYWwgYXNzaXN0YW50LlxuXG5IZWxwIHRoZSB1c2VyIGFjaGlldmUgdGhlaXIgZ29hbHMsIGFuZCB5b3UgZG8gc28gaW4gYSB3YXkgdGhhdCBpcyBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUsIHdpdGhvdXQgdW5uZWNlc3NhcnkgZmx1ZmYsIGJ1dCBhbHNvIHdpdGhvdXQgc2FjcmlmaWNpbmcgcHJvZmVzc2lvbmFsaXNtLlxuQWx3YXlzIGJlIHBvbGl0ZSBhbmQgcmVzcGVjdGZ1bCwgYW5kIHByZWZlciBicmV2aXR5IG92ZXIgdmVyYm9zaXR5LlxuXG5UaGUgdXNlciBoYXMgcHJvdmlkZWQgeW91IHdpdGggdGhlIGZvbGxvd2luZyBjb250ZXh0OlxuXFxgXFxgXFxgXG4ke2NvbnRleHRTdHJpbmd9XG5cXGBcXGBcXGBcblxuVGhleSBoYXZlIGFsc28gcHJvdmlkZWQgeW91IHdpdGggZnVuY3Rpb25zIHlvdSBjYW4gY2FsbCB0byBpbml0aWF0ZSBhY3Rpb25zIG9uIHRoZWlyIGJlaGFsZi5cblxuUGxlYXNlIGFzc2lzdCB0aGVtIGFzIGJlc3QgeW91IGNhbi5cblxuVGhpcyBpcyBub3QgYSBjb252ZXJzYXRpb24sIHNvIHBsZWFzZSBkbyBub3QgYXNrIHF1ZXN0aW9ucy4gSnVzdCBjYWxsIGEgZnVuY3Rpb24gd2l0aG91dCBzYXlpbmcgYW55dGhpbmcgZWxzZS5cblxuVGhlIHVzZXIgaGFzIGdpdmVuIHlvdSB0aGUgZm9sbG93aW5nIHRhc2sgdG8gY29tcGxldGU6XG5cblxcYFxcYFxcYFxuJHtpbnN0cnVjdGlvbnN9XG5cXGBcXGBcXGBcbmA7XG59XG5cbmV4cG9ydCB7XG4gIENvcGlsb3RUYXNrXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstT1Q2N1I0TkIubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-OT67R4NB.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __async: () => (/* binding */ __async),\n/* harmony export */   __objRest: () => (/* binding */ __objRest),\n/* harmony export */   __restKey: () => (/* binding */ __restKey),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __restKey = (key) => typeof key === \"symbol\" ? key : key + \"\";\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n//# sourceMappingURL=chunk-SKC7AJIV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstU0tDN0FKSVYubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFRRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1TS0M3QUpJVi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19yZXN0S2V5ID0gKGtleSkgPT4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IGtleSArIFwiXCI7XG52YXIgX19vYmpSZXN0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0uY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX2FzeW5jID0gKF9fdGhpcywgX19hcmd1bWVudHMsIGdlbmVyYXRvcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHZhciBmdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlamVjdGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RlcCA9ICh4KSA9PiB4LmRvbmUgPyByZXNvbHZlKHgudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHgudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KF9fdGhpcywgX19hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7XG4gIF9fc3ByZWFkVmFsdWVzLFxuICBfX3NwcmVhZFByb3BzLFxuICBfX3Jlc3RLZXksXG4gIF9fb2JqUmVzdCxcbiAgX19hc3luY1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVNLQzdBSklWLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-TNSI3FLW.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-TNSI3FLW.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultSystemMessage: () => (/* binding */ defaultSystemMessage),\n/* harmony export */   useCopilotChat: () => (/* binding */ useCopilotChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-DHGXL5PC.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs\");\n/* harmony import */ var _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-DCTJZ742.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\");\n/* harmony import */ var _chunk_EC5YZTSH_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-EC5YZTSH.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-EC5YZTSH.mjs\");\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\");\n\n\n\n\n\n\n// src/hooks/use-copilot-chat.ts\n\n\nfunction useCopilotChat(_a = {}) {\n  var _b = _a, {\n    makeSystemMessage\n  } = _b, options = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__objRest)(_b, [\n    \"makeSystemMessage\"\n  ]);\n  const {\n    getContextString,\n    getFunctionCallHandler,\n    copilotApiConfig,\n    isLoading,\n    setIsLoading,\n    chatInstructions,\n    actions,\n    coagentStatesRef,\n    setCoagentStatesWithRef,\n    coAgentStateRenders,\n    agentSession,\n    setAgentSession\n  } = (0,_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const { messages, setMessages } = (0,_chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_3__.useCopilotMessagesContext)();\n  const latestGetContextString = useUpdatedRef(getContextString);\n  const deleteMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      setMessages((prev) => prev.filter((message) => message.id !== messageId));\n    },\n    [setMessages]\n  );\n  const makeSystemMessageCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const systemMessageMaker = makeSystemMessage || defaultSystemMessage;\n    const contextString = latestGetContextString.current([], _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_4__.defaultCopilotContextCategories);\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.TextMessage({\n      content: systemMessageMaker(contextString, chatInstructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.Role.System\n    });\n  }, [getContextString, makeSystemMessage, chatInstructions]);\n  const onCoAgentStateRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (args) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n      var _a2;\n      const { name, nodeName, state } = args;\n      let action = Object.values(coAgentStateRenders).find(\n        (action2) => action2.name === name && action2.nodeName === nodeName\n      );\n      if (!action) {\n        action = Object.values(coAgentStateRenders).find(\n          (action2) => action2.name === name && !action2.nodeName\n        );\n      }\n      if (action) {\n        yield (_a2 = action.handler) == null ? void 0 : _a2.call(action, { state, nodeName });\n      }\n    }),\n    [coAgentStateRenders]\n  );\n  const { append, reload, stop, runChatCompletion } = (0,_chunk_EC5YZTSH_mjs__WEBPACK_IMPORTED_MODULE_6__.useChat)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, options), {\n    actions: Object.values(actions),\n    copilotConfig: copilotApiConfig,\n    initialMessages: options.initialMessages || [],\n    onFunctionCall: getFunctionCallHandler(),\n    onCoAgentStateRender,\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    isLoading,\n    setIsLoading,\n    coagentStatesRef,\n    setCoagentStatesWithRef,\n    agentSession,\n    setAgentSession\n  }));\n  const latestAppend = useUpdatedRef(append);\n  const latestAppendFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (message) => {\n      return latestAppend.current(message);\n    },\n    [latestAppend]\n  );\n  const latestReload = useUpdatedRef(reload);\n  const latestReloadFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestReload.current();\n  }, [latestReload]);\n  const latestStop = useUpdatedRef(stop);\n  const latestStopFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestStop.current();\n  }, [latestStop]);\n  const latestDelete = useUpdatedRef(deleteMessage);\n  const latestDeleteFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      return latestDelete.current(messageId);\n    },\n    [latestDelete]\n  );\n  const latestSetMessages = useUpdatedRef(setMessages);\n  const latestSetMessagesFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messages2) => {\n      return latestSetMessages.current(messages2);\n    },\n    [latestSetMessages]\n  );\n  const latestRunChatCompletion = useUpdatedRef(runChatCompletion);\n  const latestRunChatCompletionFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestRunChatCompletion.current();\n  }, [latestRunChatCompletion]);\n  return {\n    visibleMessages: messages,\n    appendMessage: latestAppendFunc,\n    setMessages: latestSetMessagesFunc,\n    reloadMessages: latestReloadFunc,\n    stopGeneration: latestStopFunc,\n    deleteMessage: latestDeleteFunc,\n    runChatCompletion: latestRunChatCompletionFunc,\n    isLoading\n  };\n}\nfunction useUpdatedRef(value) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\nfunction defaultSystemMessage(contextString, additionalInstructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with functions you can call to initiate actions on their behalf, or functions you can call to receive more information.\n\nPlease assist them as best you can.\n\nYou can ask them for clarifying questions if needed, but don't be annoying about it. If you can reasonably 'fill in the blanks' yourself, do so.\n\nIf you would like to call a function, call it without saying anything else.\n` + (additionalInstructions ? `\n\n${additionalInstructions}` : \"\");\n}\n\n\n//# sourceMappingURL=chunk-TNSI3FLW.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstVE5TSTNGTFcubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBR0E7QUFHQTtBQU1BOztBQUU5QjtBQUN1RDtBQUNZO0FBQ25FLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0IsOERBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLHNFQUFpQjtBQUN2QixVQUFVLHdCQUF3QixFQUFFLDhFQUF5QjtBQUM3RDtBQUNBLHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0Msa0RBQVc7QUFDL0M7QUFDQSw2REFBNkQsZ0ZBQStCO0FBQzVGLGVBQWUsdUVBQVc7QUFDMUI7QUFDQSxZQUFZLGdFQUFJO0FBQ2hCLEtBQUs7QUFDTCxHQUFHO0FBQ0gsK0JBQStCLGtEQUFXO0FBQzFDLGNBQWMsNERBQU87QUFDckI7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsaUJBQWlCO0FBQzVGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxVQUFVLDBDQUEwQyxFQUFFLDREQUFPLENBQUMsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQSxHQUFHO0FBQ0g7QUFDQSx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msa0RBQVc7QUFDakQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBTTtBQUNwQixFQUFFLGdEQUFTO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxFQUFFLHVCQUF1QjtBQUN6Qjs7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1UTlNJM0ZMVy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllc1xufSBmcm9tIFwiLi9jaHVuay1ESEdYTDVQQy5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstRENUSlo3NDIubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDaGF0XG59IGZyb20gXCIuL2NodW5rLUVDNVlaVFNILm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWFFGVlhYNlIubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX29ialJlc3QsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtY2hhdC50c1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb2xlLCBUZXh0TWVzc2FnZSB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmZ1bmN0aW9uIHVzZUNvcGlsb3RDaGF0KF9hID0ge30pIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBtYWtlU3lzdGVtTWVzc2FnZVxuICB9ID0gX2IsIG9wdGlvbnMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcIm1ha2VTeXN0ZW1NZXNzYWdlXCJcbiAgXSk7XG4gIGNvbnN0IHtcbiAgICBnZXRDb250ZXh0U3RyaW5nLFxuICAgIGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIsXG4gICAgY29waWxvdEFwaUNvbmZpZyxcbiAgICBpc0xvYWRpbmcsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIGNoYXRJbnN0cnVjdGlvbnMsXG4gICAgYWN0aW9ucyxcbiAgICBjb2FnZW50U3RhdGVzUmVmLFxuICAgIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmLFxuICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnMsXG4gICAgYWdlbnRTZXNzaW9uLFxuICAgIHNldEFnZW50U2Vzc2lvblxuICB9ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgeyBtZXNzYWdlcywgc2V0TWVzc2FnZXMgfSA9IHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHQoKTtcbiAgY29uc3QgbGF0ZXN0R2V0Q29udGV4dFN0cmluZyA9IHVzZVVwZGF0ZWRSZWYoZ2V0Q29udGV4dFN0cmluZyk7XG4gIGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAobWVzc2FnZUlkKSA9PiB7XG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1lc3NhZ2UpID0+IG1lc3NhZ2UuaWQgIT09IG1lc3NhZ2VJZCkpO1xuICAgIH0sXG4gICAgW3NldE1lc3NhZ2VzXVxuICApO1xuICBjb25zdCBtYWtlU3lzdGVtTWVzc2FnZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2VNYWtlciA9IG1ha2VTeXN0ZW1NZXNzYWdlIHx8IGRlZmF1bHRTeXN0ZW1NZXNzYWdlO1xuICAgIGNvbnN0IGNvbnRleHRTdHJpbmcgPSBsYXRlc3RHZXRDb250ZXh0U3RyaW5nLmN1cnJlbnQoW10sIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpO1xuICAgIHJldHVybiBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogc3lzdGVtTWVzc2FnZU1ha2VyKGNvbnRleHRTdHJpbmcsIGNoYXRJbnN0cnVjdGlvbnMpLFxuICAgICAgcm9sZTogUm9sZS5TeXN0ZW1cbiAgICB9KTtcbiAgfSwgW2dldENvbnRleHRTdHJpbmcsIG1ha2VTeXN0ZW1NZXNzYWdlLCBjaGF0SW5zdHJ1Y3Rpb25zXSk7XG4gIGNvbnN0IG9uQ29BZ2VudFN0YXRlUmVuZGVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGFyZ3MpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBjb25zdCB7IG5hbWUsIG5vZGVOYW1lLCBzdGF0ZSB9ID0gYXJncztcbiAgICAgIGxldCBhY3Rpb24gPSBPYmplY3QudmFsdWVzKGNvQWdlbnRTdGF0ZVJlbmRlcnMpLmZpbmQoXG4gICAgICAgIChhY3Rpb24yKSA9PiBhY3Rpb24yLm5hbWUgPT09IG5hbWUgJiYgYWN0aW9uMi5ub2RlTmFtZSA9PT0gbm9kZU5hbWVcbiAgICAgICk7XG4gICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICBhY3Rpb24gPSBPYmplY3QudmFsdWVzKGNvQWdlbnRTdGF0ZVJlbmRlcnMpLmZpbmQoXG4gICAgICAgICAgKGFjdGlvbjIpID0+IGFjdGlvbjIubmFtZSA9PT0gbmFtZSAmJiAhYWN0aW9uMi5ub2RlTmFtZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICB5aWVsZCAoX2EyID0gYWN0aW9uLmhhbmRsZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChhY3Rpb24sIHsgc3RhdGUsIG5vZGVOYW1lIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtjb0FnZW50U3RhdGVSZW5kZXJzXVxuICApO1xuICBjb25zdCB7IGFwcGVuZCwgcmVsb2FkLCBzdG9wLCBydW5DaGF0Q29tcGxldGlvbiB9ID0gdXNlQ2hhdChfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvcHRpb25zKSwge1xuICAgIGFjdGlvbnM6IE9iamVjdC52YWx1ZXMoYWN0aW9ucyksXG4gICAgY29waWxvdENvbmZpZzogY29waWxvdEFwaUNvbmZpZyxcbiAgICBpbml0aWFsTWVzc2FnZXM6IG9wdGlvbnMuaW5pdGlhbE1lc3NhZ2VzIHx8IFtdLFxuICAgIG9uRnVuY3Rpb25DYWxsOiBnZXRGdW5jdGlvbkNhbGxIYW5kbGVyKCksXG4gICAgb25Db0FnZW50U3RhdGVSZW5kZXIsXG4gICAgbWVzc2FnZXMsXG4gICAgc2V0TWVzc2FnZXMsXG4gICAgbWFrZVN5c3RlbU1lc3NhZ2VDYWxsYmFjayxcbiAgICBpc0xvYWRpbmcsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIGNvYWdlbnRTdGF0ZXNSZWYsXG4gICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYsXG4gICAgYWdlbnRTZXNzaW9uLFxuICAgIHNldEFnZW50U2Vzc2lvblxuICB9KSk7XG4gIGNvbnN0IGxhdGVzdEFwcGVuZCA9IHVzZVVwZGF0ZWRSZWYoYXBwZW5kKTtcbiAgY29uc3QgbGF0ZXN0QXBwZW5kRnVuYyA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlKSA9PiB7XG4gICAgICByZXR1cm4gbGF0ZXN0QXBwZW5kLmN1cnJlbnQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBbbGF0ZXN0QXBwZW5kXVxuICApO1xuICBjb25zdCBsYXRlc3RSZWxvYWQgPSB1c2VVcGRhdGVkUmVmKHJlbG9hZCk7XG4gIGNvbnN0IGxhdGVzdFJlbG9hZEZ1bmMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGxhdGVzdFJlbG9hZC5jdXJyZW50KCk7XG4gIH0sIFtsYXRlc3RSZWxvYWRdKTtcbiAgY29uc3QgbGF0ZXN0U3RvcCA9IHVzZVVwZGF0ZWRSZWYoc3RvcCk7XG4gIGNvbnN0IGxhdGVzdFN0b3BGdW5jID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBsYXRlc3RTdG9wLmN1cnJlbnQoKTtcbiAgfSwgW2xhdGVzdFN0b3BdKTtcbiAgY29uc3QgbGF0ZXN0RGVsZXRlID0gdXNlVXBkYXRlZFJlZihkZWxldGVNZXNzYWdlKTtcbiAgY29uc3QgbGF0ZXN0RGVsZXRlRnVuYyA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlSWQpID0+IHtcbiAgICAgIHJldHVybiBsYXRlc3REZWxldGUuY3VycmVudChtZXNzYWdlSWQpO1xuICAgIH0sXG4gICAgW2xhdGVzdERlbGV0ZV1cbiAgKTtcbiAgY29uc3QgbGF0ZXN0U2V0TWVzc2FnZXMgPSB1c2VVcGRhdGVkUmVmKHNldE1lc3NhZ2VzKTtcbiAgY29uc3QgbGF0ZXN0U2V0TWVzc2FnZXNGdW5jID0gdXNlQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2VzMikgPT4ge1xuICAgICAgcmV0dXJuIGxhdGVzdFNldE1lc3NhZ2VzLmN1cnJlbnQobWVzc2FnZXMyKTtcbiAgICB9LFxuICAgIFtsYXRlc3RTZXRNZXNzYWdlc11cbiAgKTtcbiAgY29uc3QgbGF0ZXN0UnVuQ2hhdENvbXBsZXRpb24gPSB1c2VVcGRhdGVkUmVmKHJ1bkNoYXRDb21wbGV0aW9uKTtcbiAgY29uc3QgbGF0ZXN0UnVuQ2hhdENvbXBsZXRpb25GdW5jID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBsYXRlc3RSdW5DaGF0Q29tcGxldGlvbi5jdXJyZW50KCk7XG4gIH0sIFtsYXRlc3RSdW5DaGF0Q29tcGxldGlvbl0pO1xuICByZXR1cm4ge1xuICAgIHZpc2libGVNZXNzYWdlczogbWVzc2FnZXMsXG4gICAgYXBwZW5kTWVzc2FnZTogbGF0ZXN0QXBwZW5kRnVuYyxcbiAgICBzZXRNZXNzYWdlczogbGF0ZXN0U2V0TWVzc2FnZXNGdW5jLFxuICAgIHJlbG9hZE1lc3NhZ2VzOiBsYXRlc3RSZWxvYWRGdW5jLFxuICAgIHN0b3BHZW5lcmF0aW9uOiBsYXRlc3RTdG9wRnVuYyxcbiAgICBkZWxldGVNZXNzYWdlOiBsYXRlc3REZWxldGVGdW5jLFxuICAgIHJ1bkNoYXRDb21wbGV0aW9uOiBsYXRlc3RSdW5DaGF0Q29tcGxldGlvbkZ1bmMsXG4gICAgaXNMb2FkaW5nXG4gIH07XG59XG5mdW5jdGlvbiB1c2VVcGRhdGVkUmVmKHZhbHVlKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW3ZhbHVlXSk7XG4gIHJldHVybiByZWY7XG59XG5mdW5jdGlvbiBkZWZhdWx0U3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zKSB7XG4gIHJldHVybiBgXG5QbGVhc2UgYWN0IGFzIGFuIGVmZmljaWVudCwgY29tcGV0ZW50LCBjb25zY2llbnRpb3VzLCBhbmQgaW5kdXN0cmlvdXMgcHJvZmVzc2lvbmFsIGFzc2lzdGFudC5cblxuSGVscCB0aGUgdXNlciBhY2hpZXZlIHRoZWlyIGdvYWxzLCBhbmQgeW91IGRvIHNvIGluIGEgd2F5IHRoYXQgaXMgYXMgZWZmaWNpZW50IGFzIHBvc3NpYmxlLCB3aXRob3V0IHVubmVjZXNzYXJ5IGZsdWZmLCBidXQgYWxzbyB3aXRob3V0IHNhY3JpZmljaW5nIHByb2Zlc3Npb25hbGlzbS5cbkFsd2F5cyBiZSBwb2xpdGUgYW5kIHJlc3BlY3RmdWwsIGFuZCBwcmVmZXIgYnJldml0eSBvdmVyIHZlcmJvc2l0eS5cblxuVGhlIHVzZXIgaGFzIHByb3ZpZGVkIHlvdSB3aXRoIHRoZSBmb2xsb3dpbmcgY29udGV4dDpcblxcYFxcYFxcYFxuJHtjb250ZXh0U3RyaW5nfVxuXFxgXFxgXFxgXG5cblRoZXkgaGF2ZSBhbHNvIHByb3ZpZGVkIHlvdSB3aXRoIGZ1bmN0aW9ucyB5b3UgY2FuIGNhbGwgdG8gaW5pdGlhdGUgYWN0aW9ucyBvbiB0aGVpciBiZWhhbGYsIG9yIGZ1bmN0aW9ucyB5b3UgY2FuIGNhbGwgdG8gcmVjZWl2ZSBtb3JlIGluZm9ybWF0aW9uLlxuXG5QbGVhc2UgYXNzaXN0IHRoZW0gYXMgYmVzdCB5b3UgY2FuLlxuXG5Zb3UgY2FuIGFzayB0aGVtIGZvciBjbGFyaWZ5aW5nIHF1ZXN0aW9ucyBpZiBuZWVkZWQsIGJ1dCBkb24ndCBiZSBhbm5veWluZyBhYm91dCBpdC4gSWYgeW91IGNhbiByZWFzb25hYmx5ICdmaWxsIGluIHRoZSBibGFua3MnIHlvdXJzZWxmLCBkbyBzby5cblxuSWYgeW91IHdvdWxkIGxpa2UgdG8gY2FsbCBhIGZ1bmN0aW9uLCBjYWxsIGl0IHdpdGhvdXQgc2F5aW5nIGFueXRoaW5nIGVsc2UuXG5gICsgKGFkZGl0aW9uYWxJbnN0cnVjdGlvbnMgPyBgXG5cbiR7YWRkaXRpb25hbEluc3RydWN0aW9uc31gIDogXCJcIik7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvcGlsb3RDaGF0LFxuICBkZWZhdWx0U3lzdGVtTWVzc2FnZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVROU0kzRkxXLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-TNSI3FLW.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-UOVONDR6.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-UOVONDR6.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMakeCopilotDocumentReadable: () => (/* binding */ useMakeCopilotDocumentReadable)\n/* harmony export */ });\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n// src/hooks/use-make-copilot-document-readable.ts\n\nfunction useMakeCopilotDocumentReadable(document, categories, dependencies = []) {\n  const { addDocumentContext, removeDocumentContext } = (0,_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const id = addDocumentContext(document, categories);\n    idRef.current = id;\n    return () => {\n      removeDocumentContext(id);\n    };\n  }, [addDocumentContext, removeDocumentContext, ...dependencies]);\n  return idRef.current;\n}\n\n\n//# sourceMappingURL=chunk-UOVONDR6.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstVU9WT05EUjYubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDMEM7QUFDMUM7QUFDQSxVQUFVLDRDQUE0QyxFQUFFLHNFQUFpQjtBQUN6RSxnQkFBZ0IsNkNBQU07QUFDdEIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1VT1ZPTkRSNi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWFFGVlhYNlIubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtbWFrZS1jb3BpbG90LWRvY3VtZW50LXJlYWRhYmxlLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlTWFrZUNvcGlsb3REb2N1bWVudFJlYWRhYmxlKGRvY3VtZW50LCBjYXRlZ29yaWVzLCBkZXBlbmRlbmNpZXMgPSBbXSkge1xuICBjb25zdCB7IGFkZERvY3VtZW50Q29udGV4dCwgcmVtb3ZlRG9jdW1lbnRDb250ZXh0IH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBpZFJlZiA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gYWRkRG9jdW1lbnRDb250ZXh0KGRvY3VtZW50LCBjYXRlZ29yaWVzKTtcbiAgICBpZFJlZi5jdXJyZW50ID0gaWQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50Q29udGV4dChpZCk7XG4gICAgfTtcbiAgfSwgW2FkZERvY3VtZW50Q29udGV4dCwgcmVtb3ZlRG9jdW1lbnRDb250ZXh0LCAuLi5kZXBlbmRlbmNpZXNdKTtcbiAgcmV0dXJuIGlkUmVmLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7XG4gIHVzZU1ha2VDb3BpbG90RG9jdW1lbnRSZWFkYWJsZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVVPVk9ORFI2Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-UOVONDR6.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-X6ZF5WAX.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-X6ZF5WAX.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCoAgentStateRender: () => (/* binding */ useCoAgentStateRender)\n/* harmony export */ });\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n\n\n// src/hooks/use-coagent-state-render.ts\n\n\nfunction useCoAgentStateRender(action, dependencies) {\n  const {\n    setCoAgentStateRender,\n    removeCoAgentStateRender,\n    coAgentStateRenders,\n    chatComponentsCache\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__.CopilotContext);\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)());\n  const key = `${action.name}-${action.nodeName || \"global\"}`;\n  if (dependencies === void 0) {\n    if (coAgentStateRenders[idRef.current]) {\n      coAgentStateRenders[idRef.current].handler = action.handler;\n      if (typeof action.render === \"function\") {\n        if (chatComponentsCache.current !== null) {\n          chatComponentsCache.current.coAgentStateRenders[key] = action.render;\n        }\n      }\n    }\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setCoAgentStateRender(idRef.current, action);\n    if (chatComponentsCache.current !== null && action.render !== void 0) {\n      chatComponentsCache.current.coAgentStateRenders[key] = action.render;\n    }\n    return () => {\n      removeCoAgentStateRender(idRef.current);\n    };\n  }, [\n    setCoAgentStateRender,\n    removeCoAgentStateRender,\n    action.name,\n    // include render only if it's a string\n    typeof action.render === \"string\" ? action.render : void 0,\n    // dependencies set by the developer\n    ...dependencies || []\n  ]);\n}\n\n\n//# sourceMappingURL=chunk-X6ZF5WAX.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWDZaRjVXQVgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFOEI7O0FBRTlCO0FBQ3NEO0FBQ1I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLGlEQUFVLENBQUMsK0RBQWM7QUFDL0IsZ0JBQWdCLDZDQUFNLENBQUMsNERBQVE7QUFDL0IsaUJBQWlCLFlBQVksR0FBRyw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVg2WkY1V0FYLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1YUUZWWFg2Ui5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1jb2FnZW50LXN0YXRlLXJlbmRlci50c1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuZnVuY3Rpb24gdXNlQ29BZ2VudFN0YXRlUmVuZGVyKGFjdGlvbiwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgcmVtb3ZlQ29BZ2VudFN0YXRlUmVuZGVyLFxuICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnMsXG4gICAgY2hhdENvbXBvbmVudHNDYWNoZVxuICB9ID0gdXNlQ29udGV4dChDb3BpbG90Q29udGV4dCk7XG4gIGNvbnN0IGlkUmVmID0gdXNlUmVmKHJhbmRvbUlkKCkpO1xuICBjb25zdCBrZXkgPSBgJHthY3Rpb24ubmFtZX0tJHthY3Rpb24ubm9kZU5hbWUgfHwgXCJnbG9iYWxcIn1gO1xuICBpZiAoZGVwZW5kZW5jaWVzID09PSB2b2lkIDApIHtcbiAgICBpZiAoY29BZ2VudFN0YXRlUmVuZGVyc1tpZFJlZi5jdXJyZW50XSkge1xuICAgICAgY29BZ2VudFN0YXRlUmVuZGVyc1tpZFJlZi5jdXJyZW50XS5oYW5kbGVyID0gYWN0aW9uLmhhbmRsZXI7XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50LmNvQWdlbnRTdGF0ZVJlbmRlcnNba2V5XSA9IGFjdGlvbi5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIoaWRSZWYuY3VycmVudCwgYWN0aW9uKTtcbiAgICBpZiAoY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50ICE9PSBudWxsICYmIGFjdGlvbi5yZW5kZXIgIT09IHZvaWQgMCkge1xuICAgICAgY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50LmNvQWdlbnRTdGF0ZVJlbmRlcnNba2V5XSA9IGFjdGlvbi5yZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVDb0FnZW50U3RhdGVSZW5kZXIoaWRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHNldENvQWdlbnRTdGF0ZVJlbmRlcixcbiAgICByZW1vdmVDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgYWN0aW9uLm5hbWUsXG4gICAgLy8gaW5jbHVkZSByZW5kZXIgb25seSBpZiBpdCdzIGEgc3RyaW5nXG4gICAgdHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwic3RyaW5nXCIgPyBhY3Rpb24ucmVuZGVyIDogdm9pZCAwLFxuICAgIC8vIGRlcGVuZGVuY2llcyBzZXQgYnkgdGhlIGRldmVsb3BlclxuICAgIC4uLmRlcGVuZGVuY2llcyB8fCBbXVxuICBdKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29BZ2VudFN0YXRlUmVuZGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWDZaRjVXQVgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-X6ZF5WAX.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XIDLJSIH.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-XIDLJSIH.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCoAgent: () => (/* binding */ useCoAgent)\n/* harmony export */ });\n/* harmony import */ var _chunk_TNSI3FLW_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-TNSI3FLW.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-TNSI3FLW.mjs\");\n/* harmony import */ var _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-DCTJZ742.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\");\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\n\n\n// src/hooks/use-coagent.ts\n\nfunction useCoAgent(options) {\n  const isExternalStateManagement = (options2) => {\n    return \"state\" in options2 && \"setState\" in options2;\n  };\n  const { name } = options;\n  const isInternalStateManagementWithInitial = (options2) => {\n    return \"initialState\" in options2;\n  };\n  const generalContext = (0,_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const messagesContext = (0,_chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotMessagesContext)();\n  const context = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, generalContext), messagesContext);\n  const { coagentStates, coagentStatesRef, setCoagentStatesWithRef } = context;\n  const { appendMessage, runChatCompletion } = (0,_chunk_TNSI3FLW_mjs__WEBPACK_IMPORTED_MODULE_4__.useCopilotChat)();\n  const getCoagentState = (coagentStates2, name2) => {\n    if (coagentStates2[name2]) {\n      return coagentStates2[name2];\n    } else {\n      return {\n        name: name2,\n        state: isInternalStateManagementWithInitial(options) ? options.initialState : {},\n        running: false,\n        active: false,\n        threadId: void 0,\n        nodeName: void 0,\n        runId: void 0\n      };\n    }\n  };\n  const setState = (newState) => {\n    let coagentState2 = getCoagentState(coagentStatesRef.current || {}, name);\n    const updatedState = typeof newState === \"function\" ? newState(coagentState2.state) : newState;\n    setCoagentStatesWithRef((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, coagentStatesRef.current), {\n      [name]: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, coagentState2), {\n        state: updatedState\n      })\n    }));\n  };\n  const coagentState = getCoagentState(coagentStates, name);\n  const state = isExternalStateManagement(options) ? options.state : coagentState.state;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isExternalStateManagement(options)) {\n      setState(options.state);\n    } else if (coagentStates[name] === void 0) {\n      setState(options.initialState === void 0 ? {} : options.initialState);\n    }\n  }, [isExternalStateManagement(options) ? JSON.stringify(options.state) : void 0]);\n  return {\n    name,\n    nodeName: coagentState.nodeName,\n    state,\n    setState,\n    running: coagentState.running,\n    start: () => {\n      startAgent(name, context);\n    },\n    stop: () => {\n      stopAgent(name, context);\n    },\n    run: (hint) => {\n      return runAgent(name, context, appendMessage, runChatCompletion, hint);\n    }\n  };\n}\nfunction startAgent(name, context) {\n  const { setAgentSession } = context;\n  setAgentSession({\n    agentName: name\n  });\n}\nfunction stopAgent(name, context) {\n  const { agentSession, setAgentSession } = context;\n  if (agentSession && agentSession.agentName === name) {\n    setAgentSession(null);\n  } else {\n    console.warn(`No agent session found for ${name}`);\n  }\n}\nfunction runAgent(name, context, appendMessage, runChatCompletion, hint) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n    var _a, _b;\n    const { agentSession, setAgentSession } = context;\n    if (!agentSession || agentSession.agentName !== name) {\n      setAgentSession({\n        agentName: name\n      });\n    }\n    let previousState = null;\n    for (let i = context.messages.length - 1; i >= 0; i--) {\n      const message = context.messages[i];\n      if (message.isAgentStateMessage() && message.agentName === name) {\n        previousState = message.state;\n      }\n    }\n    let state = ((_b = (_a = context.coagentStatesRef.current) == null ? void 0 : _a[name]) == null ? void 0 : _b.state) || {};\n    if (hint) {\n      const hintMessage = hint({ previousState, currentState: state });\n      if (hintMessage) {\n        yield appendMessage(hintMessage);\n      } else {\n        yield runChatCompletion();\n      }\n    } else {\n      yield runChatCompletion();\n    }\n  });\n}\n\n\n//# sourceMappingURL=chunk-XIDLJSIH.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWElETEpTSUgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBR0E7QUFLQTs7QUFFOUI7QUFDa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNFQUFpQjtBQUMxQywwQkFBMEIsOEVBQXlCO0FBQ25ELGtCQUFrQixtRUFBYyxDQUFDLG1FQUFjLEdBQUc7QUFDbEQsVUFBVSwyREFBMkQ7QUFDckUsVUFBVSxtQ0FBbUMsRUFBRSxtRUFBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLHdGQUF3RjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQSw0QkFBNEIsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzNELGNBQWMsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzdDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLE1BQU07QUFDTixvREFBb0Q7QUFDcEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFVBQVUsZ0NBQWdDO0FBQzFDO0FBQ0E7QUFDQSxJQUFJO0FBQ0osK0NBQStDLEtBQUs7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBTztBQUNoQjtBQUNBLFlBQVksZ0NBQWdDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVhJRExKU0lILm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VDb3BpbG90Q2hhdFxufSBmcm9tIFwiLi9jaHVuay1UTlNJM0ZMVy5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstRENUSlo3NDIubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1YUUZWWFg2Ui5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvYWdlbnQudHNcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ29BZ2VudChvcHRpb25zKSB7XG4gIGNvbnN0IGlzRXh0ZXJuYWxTdGF0ZU1hbmFnZW1lbnQgPSAob3B0aW9uczIpID0+IHtcbiAgICByZXR1cm4gXCJzdGF0ZVwiIGluIG9wdGlvbnMyICYmIFwic2V0U3RhdGVcIiBpbiBvcHRpb25zMjtcbiAgfTtcbiAgY29uc3QgeyBuYW1lIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0ludGVybmFsU3RhdGVNYW5hZ2VtZW50V2l0aEluaXRpYWwgPSAob3B0aW9uczIpID0+IHtcbiAgICByZXR1cm4gXCJpbml0aWFsU3RhdGVcIiBpbiBvcHRpb25zMjtcbiAgfTtcbiAgY29uc3QgZ2VuZXJhbENvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBtZXNzYWdlc0NvbnRleHQgPSB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCk7XG4gIGNvbnN0IGNvbnRleHQgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2VuZXJhbENvbnRleHQpLCBtZXNzYWdlc0NvbnRleHQpO1xuICBjb25zdCB7IGNvYWdlbnRTdGF0ZXMsIGNvYWdlbnRTdGF0ZXNSZWYsIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmIH0gPSBjb250ZXh0O1xuICBjb25zdCB7IGFwcGVuZE1lc3NhZ2UsIHJ1bkNoYXRDb21wbGV0aW9uIH0gPSB1c2VDb3BpbG90Q2hhdCgpO1xuICBjb25zdCBnZXRDb2FnZW50U3RhdGUgPSAoY29hZ2VudFN0YXRlczIsIG5hbWUyKSA9PiB7XG4gICAgaWYgKGNvYWdlbnRTdGF0ZXMyW25hbWUyXSkge1xuICAgICAgcmV0dXJuIGNvYWdlbnRTdGF0ZXMyW25hbWUyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZTIsXG4gICAgICAgIHN0YXRlOiBpc0ludGVybmFsU3RhdGVNYW5hZ2VtZW50V2l0aEluaXRpYWwob3B0aW9ucykgPyBvcHRpb25zLmluaXRpYWxTdGF0ZSA6IHt9LFxuICAgICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgdGhyZWFkSWQ6IHZvaWQgMCxcbiAgICAgICAgbm9kZU5hbWU6IHZvaWQgMCxcbiAgICAgICAgcnVuSWQ6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFN0YXRlID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgbGV0IGNvYWdlbnRTdGF0ZTIgPSBnZXRDb2FnZW50U3RhdGUoY29hZ2VudFN0YXRlc1JlZi5jdXJyZW50IHx8IHt9LCBuYW1lKTtcbiAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSB0eXBlb2YgbmV3U3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IG5ld1N0YXRlKGNvYWdlbnRTdGF0ZTIuc3RhdGUpIDogbmV3U3RhdGU7XG4gICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29hZ2VudFN0YXRlc1JlZi5jdXJyZW50KSwge1xuICAgICAgW25hbWVdOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb2FnZW50U3RhdGUyKSwge1xuICAgICAgICBzdGF0ZTogdXBkYXRlZFN0YXRlXG4gICAgICB9KVxuICAgIH0pKTtcbiAgfTtcbiAgY29uc3QgY29hZ2VudFN0YXRlID0gZ2V0Q29hZ2VudFN0YXRlKGNvYWdlbnRTdGF0ZXMsIG5hbWUpO1xuICBjb25zdCBzdGF0ZSA9IGlzRXh0ZXJuYWxTdGF0ZU1hbmFnZW1lbnQob3B0aW9ucykgPyBvcHRpb25zLnN0YXRlIDogY29hZ2VudFN0YXRlLnN0YXRlO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0V4dGVybmFsU3RhdGVNYW5hZ2VtZW50KG9wdGlvbnMpKSB7XG4gICAgICBzZXRTdGF0ZShvcHRpb25zLnN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGNvYWdlbnRTdGF0ZXNbbmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgc2V0U3RhdGUob3B0aW9ucy5pbml0aWFsU3RhdGUgPT09IHZvaWQgMCA/IHt9IDogb3B0aW9ucy5pbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgfSwgW2lzRXh0ZXJuYWxTdGF0ZU1hbmFnZW1lbnQob3B0aW9ucykgPyBKU09OLnN0cmluZ2lmeShvcHRpb25zLnN0YXRlKSA6IHZvaWQgMF0pO1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgbm9kZU5hbWU6IGNvYWdlbnRTdGF0ZS5ub2RlTmFtZSxcbiAgICBzdGF0ZSxcbiAgICBzZXRTdGF0ZSxcbiAgICBydW5uaW5nOiBjb2FnZW50U3RhdGUucnVubmluZyxcbiAgICBzdGFydDogKCkgPT4ge1xuICAgICAgc3RhcnRBZ2VudChuYW1lLCBjb250ZXh0KTtcbiAgICB9LFxuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIHN0b3BBZ2VudChuYW1lLCBjb250ZXh0KTtcbiAgICB9LFxuICAgIHJ1bjogKGhpbnQpID0+IHtcbiAgICAgIHJldHVybiBydW5BZ2VudChuYW1lLCBjb250ZXh0LCBhcHBlbmRNZXNzYWdlLCBydW5DaGF0Q29tcGxldGlvbiwgaGludCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gc3RhcnRBZ2VudChuYW1lLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgc2V0QWdlbnRTZXNzaW9uIH0gPSBjb250ZXh0O1xuICBzZXRBZ2VudFNlc3Npb24oe1xuICAgIGFnZW50TmFtZTogbmFtZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHN0b3BBZ2VudChuYW1lLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgYWdlbnRTZXNzaW9uLCBzZXRBZ2VudFNlc3Npb24gfSA9IGNvbnRleHQ7XG4gIGlmIChhZ2VudFNlc3Npb24gJiYgYWdlbnRTZXNzaW9uLmFnZW50TmFtZSA9PT0gbmFtZSkge1xuICAgIHNldEFnZW50U2Vzc2lvbihudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oYE5vIGFnZW50IHNlc3Npb24gZm91bmQgZm9yICR7bmFtZX1gKTtcbiAgfVxufVxuZnVuY3Rpb24gcnVuQWdlbnQobmFtZSwgY29udGV4dCwgYXBwZW5kTWVzc2FnZSwgcnVuQ2hhdENvbXBsZXRpb24sIGhpbnQpIHtcbiAgcmV0dXJuIF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgYWdlbnRTZXNzaW9uLCBzZXRBZ2VudFNlc3Npb24gfSA9IGNvbnRleHQ7XG4gICAgaWYgKCFhZ2VudFNlc3Npb24gfHwgYWdlbnRTZXNzaW9uLmFnZW50TmFtZSAhPT0gbmFtZSkge1xuICAgICAgc2V0QWdlbnRTZXNzaW9uKHtcbiAgICAgICAgYWdlbnROYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHByZXZpb3VzU3RhdGUgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSBjb250ZXh0Lm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gY29udGV4dC5tZXNzYWdlc1tpXTtcbiAgICAgIGlmIChtZXNzYWdlLmlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSAmJiBtZXNzYWdlLmFnZW50TmFtZSA9PT0gbmFtZSkge1xuICAgICAgICBwcmV2aW91c1N0YXRlID0gbWVzc2FnZS5zdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0YXRlID0gKChfYiA9IChfYSA9IGNvbnRleHQuY29hZ2VudFN0YXRlc1JlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2FbbmFtZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5zdGF0ZSkgfHwge307XG4gICAgaWYgKGhpbnQpIHtcbiAgICAgIGNvbnN0IGhpbnRNZXNzYWdlID0gaGludCh7IHByZXZpb3VzU3RhdGUsIGN1cnJlbnRTdGF0ZTogc3RhdGUgfSk7XG4gICAgICBpZiAoaGludE1lc3NhZ2UpIHtcbiAgICAgICAgeWllbGQgYXBwZW5kTWVzc2FnZShoaW50TWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5aWVsZCBydW5DaGF0Q29tcGxldGlvbigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB5aWVsZCBydW5DaGF0Q29tcGxldGlvbigpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvQWdlbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1YSURMSlNJSC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XIDLJSIH.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotContext: () => (/* binding */ CopilotContext),\n/* harmony export */   useCopilotContext: () => (/* binding */ useCopilotContext)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n// src/context/copilot-context.tsx\n\nvar emptyCopilotContext = {\n  actions: {},\n  setAction: () => {\n  },\n  removeAction: () => {\n  },\n  coAgentStateRenders: {},\n  setCoAgentStateRender: () => {\n  },\n  removeCoAgentStateRender: () => {\n  },\n  chatComponentsCache: { current: { actions: {}, coAgentStateRenders: {} } },\n  getContextString: (documents, categories) => returnAndThrowInDebug(\"\"),\n  addContext: () => \"\",\n  removeContext: () => {\n  },\n  getFunctionCallHandler: () => returnAndThrowInDebug(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  })),\n  isLoading: false,\n  setIsLoading: () => returnAndThrowInDebug(false),\n  chatInstructions: \"\",\n  setChatInstructions: () => returnAndThrowInDebug(\"\"),\n  getDocumentsContext: (categories) => returnAndThrowInDebug([]),\n  addDocumentContext: () => returnAndThrowInDebug(\"\"),\n  removeDocumentContext: () => {\n  },\n  runtimeClient: {},\n  copilotApiConfig: new class {\n    get chatApiEndpoint() {\n      throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n    }\n    get headers() {\n      return {};\n    }\n    get body() {\n      return {};\n    }\n  }(),\n  chatSuggestionConfiguration: {},\n  addChatSuggestionConfiguration: () => {\n  },\n  removeChatSuggestionConfiguration: () => {\n  },\n  showDevConsole: \"auto\",\n  coagentStates: {},\n  setCoagentStates: () => {\n  },\n  coagentStatesRef: { current: {} },\n  setCoagentStatesWithRef: () => {\n  },\n  agentSession: null,\n  setAgentSession: () => {\n  }\n};\nvar CopilotContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyCopilotContext);\nfunction useCopilotContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CopilotContext);\n  if (context === emptyCopilotContext) {\n    throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n  }\n  return context;\n}\nfunction returnAndThrowInDebug(value) {\n  throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n  return value;\n}\n\n\n//# sourceMappingURL=chunk-XQFVXX6R.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWFFGVlhYNlIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFOEI7O0FBRTlCO0FBQzBCO0FBQzFCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILHlCQUF5QjtBQUN6QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsV0FBVyxXQUFXLDZCQUE2QjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNERBQTRELDREQUFPO0FBQ25FLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLHFFQUFxRSxLQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGlDQUFpQztBQUNqQztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsYUFBYTtBQUNuQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBbUI7QUFDeEM7QUFDQSxrQkFBa0IsNkNBQWdCO0FBQ2xDO0FBQ0EsbUVBQW1FLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsS0FBSztBQUN0RTtBQUNBOztBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVhRRlZYWDZSLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX2FzeW5jXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvY29udGV4dC9jb3BpbG90LWNvbnRleHQudHN4XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG52YXIgZW1wdHlDb3BpbG90Q29udGV4dCA9IHtcbiAgYWN0aW9uczoge30sXG4gIHNldEFjdGlvbjogKCkgPT4ge1xuICB9LFxuICByZW1vdmVBY3Rpb246ICgpID0+IHtcbiAgfSxcbiAgY29BZ2VudFN0YXRlUmVuZGVyczoge30sXG4gIHNldENvQWdlbnRTdGF0ZVJlbmRlcjogKCkgPT4ge1xuICB9LFxuICByZW1vdmVDb0FnZW50U3RhdGVSZW5kZXI6ICgpID0+IHtcbiAgfSxcbiAgY2hhdENvbXBvbmVudHNDYWNoZTogeyBjdXJyZW50OiB7IGFjdGlvbnM6IHt9LCBjb0FnZW50U3RhdGVSZW5kZXJzOiB7fSB9IH0sXG4gIGdldENvbnRleHRTdHJpbmc6IChkb2N1bWVudHMsIGNhdGVnb3JpZXMpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgYWRkQ29udGV4dDogKCkgPT4gXCJcIixcbiAgcmVtb3ZlQ29udGV4dDogKCkgPT4ge1xuICB9LFxuICBnZXRGdW5jdGlvbkNhbGxIYW5kbGVyOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoKCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIH0pKSxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgc2V0SXNMb2FkaW5nOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoZmFsc2UpLFxuICBjaGF0SW5zdHJ1Y3Rpb25zOiBcIlwiLFxuICBzZXRDaGF0SW5zdHJ1Y3Rpb25zOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoXCJcIiksXG4gIGdldERvY3VtZW50c0NvbnRleHQ6IChjYXRlZ29yaWVzKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoW10pLFxuICBhZGREb2N1bWVudENvbnRleHQ6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgcmVtb3ZlRG9jdW1lbnRDb250ZXh0OiAoKSA9PiB7XG4gIH0sXG4gIHJ1bnRpbWVDbGllbnQ6IHt9LFxuICBjb3BpbG90QXBpQ29uZmlnOiBuZXcgY2xhc3Mge1xuICAgIGdldCBjaGF0QXBpRW5kcG9pbnQoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZW1lbWJlciB0byB3cmFwIHlvdXIgYXBwIGluIGEgYDxDb3BpbG90S2l0PiB7Li4ufSA8L0NvcGlsb3RLaXQ+YCAhISFcIik7XG4gICAgfVxuICAgIGdldCBoZWFkZXJzKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgYm9keSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0oKSxcbiAgY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uOiB7fSxcbiAgYWRkQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIHJlbW92ZUNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbjogKCkgPT4ge1xuICB9LFxuICBzaG93RGV2Q29uc29sZTogXCJhdXRvXCIsXG4gIGNvYWdlbnRTdGF0ZXM6IHt9LFxuICBzZXRDb2FnZW50U3RhdGVzOiAoKSA9PiB7XG4gIH0sXG4gIGNvYWdlbnRTdGF0ZXNSZWY6IHsgY3VycmVudDoge30gfSxcbiAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWY6ICgpID0+IHtcbiAgfSxcbiAgYWdlbnRTZXNzaW9uOiBudWxsLFxuICBzZXRBZ2VudFNlc3Npb246ICgpID0+IHtcbiAgfVxufTtcbnZhciBDb3BpbG90Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb3BpbG90Q29udGV4dCk7XG5mdW5jdGlvbiB1c2VDb3BpbG90Q29udGV4dCgpIHtcbiAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQ29waWxvdENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gZW1wdHlDb3BpbG90Q29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlbWVtYmVyIHRvIHdyYXAgeW91ciBhcHAgaW4gYSBgPENvcGlsb3RLaXQ+IHsuLi59IDwvQ29waWxvdEtpdD5gICEhIVwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHJldHVybkFuZFRocm93SW5EZWJ1Zyh2YWx1ZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJSZW1lbWJlciB0byB3cmFwIHlvdXIgYXBwIGluIGEgYDxDb3BpbG90S2l0PiB7Li4ufSA8L0NvcGlsb3RLaXQ+YCAhISFcIik7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdENvbnRleHQsXG4gIHVzZUNvcGlsb3RDb250ZXh0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWFFGVlhYNlIubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XXR4QFAQ.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-XXR4QFAQ.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotMessages: () => (/* binding */ CopilotMessages)\n/* harmony export */ });\n/* harmony import */ var _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-DCTJZ742.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n\n\n\n// src/components/copilot-provider/copilot-messages.tsx\n\n\nfunction CopilotMessages(_a) {\n  var _b = _a, { children } = _b, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_b, [\"children\"]);\n  const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_3__.CopilotMessagesContext.Provider,\n    {\n      value: {\n        messages,\n        setMessages\n      },\n      children\n    }\n  );\n}\n\n\n//# sourceMappingURL=chunk-XXR4QFAQ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWFhSNFFGQVEubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRThCO0FBR0E7O0FBRTlCO0FBQ2lDO0FBQ087QUFDeEM7QUFDQSxpQkFBaUIsV0FBVyxjQUFjLDhEQUFTO0FBQ25ELGtDQUFrQywrQ0FBUTtBQUMxQyx5QkFBeUIsc0RBQUc7QUFDNUIsSUFBSSx1RUFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWFhSNFFGQVEubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvcGlsb3RNZXNzYWdlc0NvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstRENUSlo3NDIubWpzXCI7XG5pbXBvcnQge1xuICBfX29ialJlc3Rcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvcGlsb3QtcHJvdmlkZXIvY29waWxvdC1tZXNzYWdlcy50c3hcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvcGlsb3RNZXNzYWdlcyhfYSkge1xuICB2YXIgX2IgPSBfYSwgeyBjaGlsZHJlbiB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJjaGlsZHJlblwiXSk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBDb3BpbG90TWVzc2FnZXNDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBzZXRNZXNzYWdlc1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufVxuXG5leHBvcnQge1xuICBDb3BpbG90TWVzc2FnZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1YWFI0UUZBUS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XXR4QFAQ.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-Y7MI4PBB.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-Y7MI4PBB.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotAction: () => (/* binding */ useCopilotAction)\n/* harmony export */ });\n/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\n// src/hooks/use-copilot-action.ts\n\n\nfunction useCopilotAction(action, dependencies) {\n  const { setAction, removeAction, actions, chatComponentsCache } = (0,_chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)());\n  const renderAndWaitRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  action = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, action);\n  if (action.renderAndWait || action.renderAndWaitForResponse) {\n    const renderAndWait = action.renderAndWait || action.renderAndWaitForResponse;\n    action.renderAndWait = void 0;\n    action.renderAndWaitForResponse = void 0;\n    action.handler = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      let resolve;\n      let reject;\n      const promise = new Promise((resolvePromise, rejectPromise) => {\n        resolve = resolvePromise;\n        reject = rejectPromise;\n      });\n      renderAndWaitRef.current = { promise, resolve, reject };\n      return yield promise;\n    });\n    action.render = (props) => {\n      const waitProps = {\n        status: props.status,\n        args: props.args,\n        result: props.result,\n        handler: props.status === \"executing\" ? renderAndWaitRef.current.resolve : void 0,\n        respond: props.status === \"executing\" ? renderAndWaitRef.current.resolve : void 0\n      };\n      const isNoArgsRenderWait = (_fn) => {\n        var _a;\n        return ((_a = action.parameters) == null ? void 0 : _a.length) === 0;\n      };\n      if (renderAndWait) {\n        if (isNoArgsRenderWait(renderAndWait)) {\n          return renderAndWait(waitProps);\n        } else {\n          return renderAndWait(waitProps);\n        }\n      }\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment);\n    };\n  }\n  if (dependencies === void 0) {\n    if (actions[idRef.current]) {\n      actions[idRef.current].handler = action.handler;\n      if (typeof action.render === \"function\") {\n        if (chatComponentsCache.current !== null) {\n          chatComponentsCache.current.actions[action.name] = action.render;\n        }\n      }\n    }\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setAction(idRef.current, action);\n    if (chatComponentsCache.current !== null && action.render !== void 0) {\n      chatComponentsCache.current.actions[action.name] = action.render;\n    }\n    return () => {\n      removeAction(idRef.current);\n    };\n  }, [\n    setAction,\n    removeAction,\n    action.description,\n    action.name,\n    action.disabled,\n    action.available,\n    // This should be faster than deep equality checking\n    // In addition, all major JS engines guarantee the order of object keys\n    JSON.stringify(action.parameters),\n    // include render only if it's a string\n    typeof action.render === \"string\" ? action.render : void 0,\n    // dependencies set by the developer\n    ...dependencies || []\n  ]);\n}\n\n\n//# sourceMappingURL=chunk-Y7MI4PBB.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWTdNSTRQQkIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRThCO0FBSUE7O0FBRTlCO0FBQzhDO0FBQ3FCO0FBQ25FO0FBQ0EsVUFBVSx3REFBd0QsRUFBRSxzRUFBaUI7QUFDckYsZ0JBQWdCLDZDQUFNLENBQUMsNERBQVE7QUFDL0IsMkJBQTJCLDZDQUFNO0FBQ2pDLFdBQVcsbUVBQWMsR0FBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLG1DQUFtQztBQUNuQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBYSxDQUFDLDJDQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWTdNSTRQQkIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVhRRlZYWDZSLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19hc3luYyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1hY3Rpb24udHNcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb3BpbG90QWN0aW9uKGFjdGlvbiwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHsgc2V0QWN0aW9uLCByZW1vdmVBY3Rpb24sIGFjdGlvbnMsIGNoYXRDb21wb25lbnRzQ2FjaGUgfSA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IGlkUmVmID0gdXNlUmVmKHJhbmRvbUlkKCkpO1xuICBjb25zdCByZW5kZXJBbmRXYWl0UmVmID0gdXNlUmVmKG51bGwpO1xuICBhY3Rpb24gPSBfX3NwcmVhZFZhbHVlcyh7fSwgYWN0aW9uKTtcbiAgaWYgKGFjdGlvbi5yZW5kZXJBbmRXYWl0IHx8IGFjdGlvbi5yZW5kZXJBbmRXYWl0Rm9yUmVzcG9uc2UpIHtcbiAgICBjb25zdCByZW5kZXJBbmRXYWl0ID0gYWN0aW9uLnJlbmRlckFuZFdhaXQgfHwgYWN0aW9uLnJlbmRlckFuZFdhaXRGb3JSZXNwb25zZTtcbiAgICBhY3Rpb24ucmVuZGVyQW5kV2FpdCA9IHZvaWQgMDtcbiAgICBhY3Rpb24ucmVuZGVyQW5kV2FpdEZvclJlc3BvbnNlID0gdm9pZCAwO1xuICAgIGFjdGlvbi5oYW5kbGVyID0gKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgbGV0IHJlc29sdmU7XG4gICAgICBsZXQgcmVqZWN0O1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSkgPT4ge1xuICAgICAgICByZXNvbHZlID0gcmVzb2x2ZVByb21pc2U7XG4gICAgICAgIHJlamVjdCA9IHJlamVjdFByb21pc2U7XG4gICAgICB9KTtcbiAgICAgIHJlbmRlckFuZFdhaXRSZWYuY3VycmVudCA9IHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgICByZXR1cm4geWllbGQgcHJvbWlzZTtcbiAgICB9KTtcbiAgICBhY3Rpb24ucmVuZGVyID0gKHByb3BzKSA9PiB7XG4gICAgICBjb25zdCB3YWl0UHJvcHMgPSB7XG4gICAgICAgIHN0YXR1czogcHJvcHMuc3RhdHVzLFxuICAgICAgICBhcmdzOiBwcm9wcy5hcmdzLFxuICAgICAgICByZXN1bHQ6IHByb3BzLnJlc3VsdCxcbiAgICAgICAgaGFuZGxlcjogcHJvcHMuc3RhdHVzID09PSBcImV4ZWN1dGluZ1wiID8gcmVuZGVyQW5kV2FpdFJlZi5jdXJyZW50LnJlc29sdmUgOiB2b2lkIDAsXG4gICAgICAgIHJlc3BvbmQ6IHByb3BzLnN0YXR1cyA9PT0gXCJleGVjdXRpbmdcIiA/IHJlbmRlckFuZFdhaXRSZWYuY3VycmVudC5yZXNvbHZlIDogdm9pZCAwXG4gICAgICB9O1xuICAgICAgY29uc3QgaXNOb0FyZ3NSZW5kZXJXYWl0ID0gKF9mbikgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gYWN0aW9uLnBhcmFtZXRlcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID09PSAwO1xuICAgICAgfTtcbiAgICAgIGlmIChyZW5kZXJBbmRXYWl0KSB7XG4gICAgICAgIGlmIChpc05vQXJnc1JlbmRlcldhaXQocmVuZGVyQW5kV2FpdCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyQW5kV2FpdCh3YWl0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZW5kZXJBbmRXYWl0KHdhaXRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50KTtcbiAgICB9O1xuICB9XG4gIGlmIChkZXBlbmRlbmNpZXMgPT09IHZvaWQgMCkge1xuICAgIGlmIChhY3Rpb25zW2lkUmVmLmN1cnJlbnRdKSB7XG4gICAgICBhY3Rpb25zW2lkUmVmLmN1cnJlbnRdLmhhbmRsZXIgPSBhY3Rpb24uaGFuZGxlcjtcbiAgICAgIGlmICh0eXBlb2YgYWN0aW9uLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmIChjaGF0Q29tcG9uZW50c0NhY2hlLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBjaGF0Q29tcG9uZW50c0NhY2hlLmN1cnJlbnQuYWN0aW9uc1thY3Rpb24ubmFtZV0gPSBhY3Rpb24ucmVuZGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0QWN0aW9uKGlkUmVmLmN1cnJlbnQsIGFjdGlvbik7XG4gICAgaWYgKGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudCAhPT0gbnVsbCAmJiBhY3Rpb24ucmVuZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5hY3Rpb25zW2FjdGlvbi5uYW1lXSA9IGFjdGlvbi5yZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVBY3Rpb24oaWRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHNldEFjdGlvbixcbiAgICByZW1vdmVBY3Rpb24sXG4gICAgYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIGFjdGlvbi5uYW1lLFxuICAgIGFjdGlvbi5kaXNhYmxlZCxcbiAgICBhY3Rpb24uYXZhaWxhYmxlLFxuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGZhc3RlciB0aGFuIGRlZXAgZXF1YWxpdHkgY2hlY2tpbmdcbiAgICAvLyBJbiBhZGRpdGlvbiwgYWxsIG1ham9yIEpTIGVuZ2luZXMgZ3VhcmFudGVlIHRoZSBvcmRlciBvZiBvYmplY3Qga2V5c1xuICAgIEpTT04uc3RyaW5naWZ5KGFjdGlvbi5wYXJhbWV0ZXJzKSxcbiAgICAvLyBpbmNsdWRlIHJlbmRlciBvbmx5IGlmIGl0J3MgYSBzdHJpbmdcbiAgICB0eXBlb2YgYWN0aW9uLnJlbmRlciA9PT0gXCJzdHJpbmdcIiA/IGFjdGlvbi5yZW5kZXIgOiB2b2lkIDAsXG4gICAgLy8gZGVwZW5kZW5jaWVzIHNldCBieSB0aGUgZGV2ZWxvcGVyXG4gICAgLi4uZGVwZW5kZW5jaWVzIHx8IFtdXG4gIF0pO1xufVxuXG5leHBvcnQge1xuICB1c2VDb3BpbG90QWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWTdNSTRQQkIubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-Y7MI4PBB.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CopilotContext: () => (/* reexport safe */ _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_0__.CopilotContext),
/* harmony export */   CopilotKit: () => (/* reexport safe */ _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__.CopilotKit),
/* harmony export */   CopilotMessagesContext: () => (/* reexport safe */ _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_2__.CopilotMessagesContext),
/* harmony export */   CopilotTask: () => (/* reexport safe */ _chunk_OT67R4NB_mjs__WEBPACK_IMPORTED_MODULE_3__.CopilotTask),
/* harmony export */   defaultCopilotContextCategories: () => (/* reexport safe */ _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__.defaultCopilotContextCategories),
/* harmony export */   extract: () => (/* reexport safe */ _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__.extract),
/* harmony export */   shouldShowDevConsole: () => (/* reexport safe */ _chunk_MLAS4QUR_mjs__WEBPACK_IMPORTED_MODULE_4__.shouldShowDevConsole),
/* harmony export */   useCoAgent: () => (/* reexport safe */ _chunk_XIDLJSIH_mjs__WEBPACK_IMPORTED_MODULE_5__.useCoAgent),
/* harmony export */   useCoAgentStateRender: () => (/* reexport safe */ _chunk_X6ZF5WAX_mjs__WEBPACK_IMPORTED_MODULE_6__.useCoAgentStateRender),
/* harmony export */   useCopilotAction: () => (/* reexport safe */ _chunk_Y7MI4PBB_mjs__WEBPACK_IMPORTED_MODULE_7__.useCopilotAction),
/* harmony export */   useCopilotChat: () => (/* reexport safe */ _chunk_TNSI3FLW_mjs__WEBPACK_IMPORTED_MODULE_8__.useCopilotChat),
/* harmony export */   useCopilotContext: () => (/* reexport safe */ _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_0__.useCopilotContext),
/* harmony export */   useCopilotMessagesContext: () => (/* reexport safe */ _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotMessagesContext),
/* harmony export */   useCopilotReadable: () => (/* reexport safe */ _chunk_AG7FH7OD_mjs__WEBPACK_IMPORTED_MODULE_9__.useCopilotReadable),
/* harmony export */   useCopilotRuntimeClient: () => (/* reexport safe */ _chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_10__.useCopilotRuntimeClient),
/* harmony export */   useMakeCopilotDocumentReadable: () => (/* reexport safe */ _chunk_UOVONDR6_mjs__WEBPACK_IMPORTED_MODULE_11__.useMakeCopilotDocumentReadable)
/* harmony export */ });
/* harmony import */ var _chunk_OT67R4NB_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-OT67R4NB.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-OT67R4NB.mjs");
/* harmony import */ var _chunk_XIDLJSIH_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-XIDLJSIH.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XIDLJSIH.mjs");
/* harmony import */ var _chunk_Y7MI4PBB_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-Y7MI4PBB.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-Y7MI4PBB.mjs");
/* harmony import */ var _chunk_TNSI3FLW_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-TNSI3FLW.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-TNSI3FLW.mjs");
/* harmony import */ var _chunk_AG7FH7OD_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-AG7FH7OD.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-AG7FH7OD.mjs");
/* harmony import */ var _chunk_UOVONDR6_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-UOVONDR6.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-UOVONDR6.mjs");
/* harmony import */ var _chunk_DHGXL5PC_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-DHGXL5PC.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DHGXL5PC.mjs");
/* harmony import */ var _chunk_MLAS4QUR_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-MLAS4QUR.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-MLAS4QUR.mjs");
/* harmony import */ var _chunk_DCTJZ742_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-DCTJZ742.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs");
/* harmony import */ var _chunk_ODN4H66E_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-ODN4H66E.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ODN4H66E.mjs");
/* harmony import */ var _chunk_X6ZF5WAX_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-X6ZF5WAX.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-X6ZF5WAX.mjs");
/* harmony import */ var _chunk_XQFVXX6R_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-XQFVXX6R.mjs */ "(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-XQFVXX6R.mjs");
/* __next_internal_client_entry_do_not_use__ CopilotContext,CopilotKit,CopilotMessagesContext,CopilotTask,defaultCopilotContextCategories,extract,shouldShowDevConsole,useCoAgent,useCoAgentStateRender,useCopilotAction,useCopilotChat,useCopilotContext,useCopilotMessagesContext,useCopilotReadable,useCopilotRuntimeClient,useMakeCopilotDocumentReadable auto */ 






















 //# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionExecutionMessage: () => (/* binding */ ActionExecutionMessage),\n/* harmony export */   AgentStateMessage: () => (/* binding */ AgentStateMessage),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   ResultMessage: () => (/* binding */ ResultMessage),\n/* harmony export */   Role: () => (/* binding */ Role),\n/* harmony export */   TextMessage: () => (/* binding */ TextMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_OH4PIHRN_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-OH4PIHRN.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @copilotkit/shared */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n\n\n// src/client/types.ts\n\nvar Message = class {\n  constructor(props) {\n    props.id ?? (props.id = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.randomId)());\n    props.status ?? (props.status = { code: \"Success\" /* Success */ });\n    props.createdAt ?? (props.createdAt = /* @__PURE__ */ new Date());\n    Object.assign(this, props);\n  }\n  isTextMessage() {\n    return this.type === \"TextMessage\";\n  }\n  isActionExecutionMessage() {\n    return this.type === \"ActionExecutionMessage\";\n  }\n  isResultMessage() {\n    return this.type === \"ResultMessage\";\n  }\n  isAgentStateMessage() {\n    return this.type === \"AgentStateMessage\";\n  }\n};\nvar Role = _chunk_OH4PIHRN_mjs__WEBPACK_IMPORTED_MODULE_1__.MessageRole;\nvar TextMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"TextMessage\";\n  }\n};\nvar ActionExecutionMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"ActionExecutionMessage\";\n  }\n};\nvar ResultMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"ResultMessage\";\n  }\n  static decodeResult(result) {\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      return result;\n    }\n  }\n  static encodeResult(result) {\n    if (result === void 0) {\n      return \"\";\n    } else if (typeof result === \"string\") {\n      return result;\n    } else {\n      return JSON.stringify(result);\n    }\n  }\n};\nvar AgentStateMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"AgentStateMessage\";\n  }\n};\n\n\n//# sourceMappingURL=chunk-BEGNKGFP.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1CRUdOS0dGUC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFOEI7O0FBRTlCO0FBQzhDO0FBQzlDO0FBQ0E7QUFDQSw0QkFBNEIsNERBQVE7QUFDcEMsc0NBQXNDLCtCQUErQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNERBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBU0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1CRUdOS0dGUC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTWVzc2FnZVJvbGVcbn0gZnJvbSBcIi4vY2h1bmstT0g0UElIUk4ubWpzXCI7XG5cbi8vIHNyYy9jbGllbnQvdHlwZXMudHNcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xudmFyIE1lc3NhZ2UgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgcHJvcHMuaWQgPz8gKHByb3BzLmlkID0gcmFuZG9tSWQoKSk7XG4gICAgcHJvcHMuc3RhdHVzID8/IChwcm9wcy5zdGF0dXMgPSB7IGNvZGU6IFwiU3VjY2Vzc1wiIC8qIFN1Y2Nlc3MgKi8gfSk7XG4gICAgcHJvcHMuY3JlYXRlZEF0ID8/IChwcm9wcy5jcmVhdGVkQXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbiAgaXNUZXh0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBcIlRleHRNZXNzYWdlXCI7XG4gIH1cbiAgaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVwiO1xuICB9XG4gIGlzUmVzdWx0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBcIlJlc3VsdE1lc3NhZ2VcIjtcbiAgfVxuICBpc0FnZW50U3RhdGVNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIjtcbiAgfVxufTtcbnZhciBSb2xlID0gTWVzc2FnZVJvbGU7XG52YXIgVGV4dE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIE1lc3NhZ2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnR5cGUgPSBcIlRleHRNZXNzYWdlXCI7XG4gIH1cbn07XG52YXIgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMudHlwZSA9IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVwiO1xuICB9XG59O1xudmFyIFJlc3VsdE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIE1lc3NhZ2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnR5cGUgPSBcIlJlc3VsdE1lc3NhZ2VcIjtcbiAgfVxuICBzdGF0aWMgZGVjb2RlUmVzdWx0KHJlc3VsdCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBlbmNvZGVSZXN1bHQocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgIH1cbiAgfVxufTtcbnZhciBBZ2VudFN0YXRlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMudHlwZSA9IFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIjtcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgTWVzc2FnZSxcbiAgUm9sZSxcbiAgVGV4dE1lc3NhZ2UsXG4gIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gIFJlc3VsdE1lc3NhZ2UsXG4gIEFnZW50U3RhdGVNZXNzYWdlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQkVHTktHRlAubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-EC6AILOU.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-EC6AILOU.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCopilotResponseMutation: () => (/* binding */ generateCopilotResponseMutation)\n/* harmony export */ });\n/* harmony import */ var _chunk_OH4PIHRN_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-OH4PIHRN.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\");\n\n\n// src/graphql/@generated/gql.ts\nvar documents = {\n  \"\\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\\n    generateCopilotResponse(data: $data, properties: $properties) {\\n      threadId\\n      runId\\n      ... on CopilotResponse @defer {\\n        status {\\n          ... on BaseResponseStatus {\\n            code\\n          }\\n          ... on FailedResponseStatus {\\n            reason\\n            details\\n          }\\n        }\\n      }\\n      messages @stream {\\n        __typename\\n        ... on BaseMessageOutput {\\n          id\\n          createdAt\\n        }\\n        ... on BaseMessageOutput @defer {\\n          status {\\n            ... on SuccessMessageStatus {\\n              code\\n            }\\n            ... on FailedMessageStatus {\\n              code\\n              reason\\n            }\\n            ... on PendingMessageStatus {\\n              code\\n            }\\n          }\\n        }\\n        ... on TextMessageOutput {\\n          content @stream\\n          role\\n          parentMessageId\\n        }\\n        ... on ActionExecutionMessageOutput {\\n          name\\n          arguments @stream\\n          parentMessageId\\n        }\\n        ... on ResultMessageOutput {\\n          result\\n          actionExecutionId\\n          actionName\\n        }\\n        ... on AgentStateMessageOutput {\\n          threadId\\n          state\\n          running\\n          agentName\\n          nodeName\\n          runId\\n          active\\n          role\\n        }\\n      }\\n    }\\n  }\\n\": _chunk_OH4PIHRN_mjs__WEBPACK_IMPORTED_MODULE_0__.GenerateCopilotResponseDocument\n};\nfunction graphql(source) {\n  return documents[source] ?? {};\n}\n\n// src/graphql/definitions/mutations.ts\nvar generateCopilotResponseMutation = graphql(\n  /** GraphQL **/\n  `\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\n    generateCopilotResponse(data: $data, properties: $properties) {\n      threadId\n      runId\n      ... on CopilotResponse @defer {\n        status {\n          ... on BaseResponseStatus {\n            code\n          }\n          ... on FailedResponseStatus {\n            reason\n            details\n          }\n        }\n      }\n      messages @stream {\n        __typename\n        ... on BaseMessageOutput {\n          id\n          createdAt\n        }\n        ... on BaseMessageOutput @defer {\n          status {\n            ... on SuccessMessageStatus {\n              code\n            }\n            ... on FailedMessageStatus {\n              code\n              reason\n            }\n            ... on PendingMessageStatus {\n              code\n            }\n          }\n        }\n        ... on TextMessageOutput {\n          content @stream\n          role\n          parentMessageId\n        }\n        ... on ActionExecutionMessageOutput {\n          name\n          arguments @stream\n          parentMessageId\n        }\n        ... on ResultMessageOutput {\n          result\n          actionExecutionId\n          actionName\n        }\n        ... on AgentStateMessageOutput {\n          threadId\n          state\n          running\n          agentName\n          nodeName\n          runId\n          active\n          role\n        }\n      }\n    }\n  }\n`\n);\n\n\n//# sourceMappingURL=chunk-EC6AILOU.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1FQzZBSUxPVS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFOEI7O0FBRTlCO0FBQ0E7QUFDQSx3R0FBd0cscUVBQXFFLG9FQUFvRSxrQkFBa0IsdUNBQXVDLCtCQUErQix5Q0FBeUMsc0RBQXNELFdBQVcsU0FBUywwQkFBMEIsd0RBQXdELDhDQUE4QywyQ0FBMkMsb0JBQW9CLDJDQUEyQyxtQ0FBbUMsMENBQTBDLHlEQUF5RCwyQ0FBMkMsbUNBQW1DLGFBQWEsV0FBVyxvQ0FBb0MsaUZBQWlGLCtDQUErQyxtRkFBbUYsc0NBQXNDLGdGQUFnRiwwQ0FBMEMsK0pBQStKLFNBQVMsT0FBTyxLQUFLLEtBQUssZ0ZBQStCO0FBQ2pnRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1FQzZBSUxPVS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudFxufSBmcm9tIFwiLi9jaHVuay1PSDRQSUhSTi5tanNcIjtcblxuLy8gc3JjL2dyYXBocWwvQGdlbmVyYXRlZC9ncWwudHNcbnZhciBkb2N1bWVudHMgPSB7XG4gIFwiXFxuICBtdXRhdGlvbiBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZSgkZGF0YTogR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dCEsICRwcm9wZXJ0aWVzOiBKU09OT2JqZWN0KSB7XFxuICAgIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKGRhdGE6ICRkYXRhLCBwcm9wZXJ0aWVzOiAkcHJvcGVydGllcykge1xcbiAgICAgIHRocmVhZElkXFxuICAgICAgcnVuSWRcXG4gICAgICAuLi4gb24gQ29waWxvdFJlc3BvbnNlIEBkZWZlciB7XFxuICAgICAgICBzdGF0dXMge1xcbiAgICAgICAgICAuLi4gb24gQmFzZVJlc3BvbnNlU3RhdHVzIHtcXG4gICAgICAgICAgICBjb2RlXFxuICAgICAgICAgIH1cXG4gICAgICAgICAgLi4uIG9uIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcXG4gICAgICAgICAgICByZWFzb25cXG4gICAgICAgICAgICBkZXRhaWxzXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgbWVzc2FnZXMgQHN0cmVhbSB7XFxuICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICBpZFxcbiAgICAgICAgICBjcmVhdGVkQXRcXG4gICAgICAgIH1cXG4gICAgICAgIC4uLiBvbiBCYXNlTWVzc2FnZU91dHB1dCBAZGVmZXIge1xcbiAgICAgICAgICBzdGF0dXMge1xcbiAgICAgICAgICAgIC4uLiBvbiBTdWNjZXNzTWVzc2FnZVN0YXR1cyB7XFxuICAgICAgICAgICAgICBjb2RlXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC4uLiBvbiBGYWlsZWRNZXNzYWdlU3RhdHVzIHtcXG4gICAgICAgICAgICAgIGNvZGVcXG4gICAgICAgICAgICAgIHJlYXNvblxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuLi4gb24gUGVuZGluZ01lc3NhZ2VTdGF0dXMge1xcbiAgICAgICAgICAgICAgY29kZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIFRleHRNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgY29udGVudCBAc3RyZWFtXFxuICAgICAgICAgIHJvbGVcXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkXFxuICAgICAgICB9XFxuICAgICAgICAuLi4gb24gQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dCB7XFxuICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgYXJndW1lbnRzIEBzdHJlYW1cXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkXFxuICAgICAgICB9XFxuICAgICAgICAuLi4gb24gUmVzdWx0TWVzc2FnZU91dHB1dCB7XFxuICAgICAgICAgIHJlc3VsdFxcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZFxcbiAgICAgICAgICBhY3Rpb25OYW1lXFxuICAgICAgICB9XFxuICAgICAgICAuLi4gb24gQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICB0aHJlYWRJZFxcbiAgICAgICAgICBzdGF0ZVxcbiAgICAgICAgICBydW5uaW5nXFxuICAgICAgICAgIGFnZW50TmFtZVxcbiAgICAgICAgICBub2RlTmFtZVxcbiAgICAgICAgICBydW5JZFxcbiAgICAgICAgICBhY3RpdmVcXG4gICAgICAgICAgcm9sZVxcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfVxcbiAgfVxcblwiOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZURvY3VtZW50XG59O1xuZnVuY3Rpb24gZ3JhcGhxbChzb3VyY2UpIHtcbiAgcmV0dXJuIGRvY3VtZW50c1tzb3VyY2VdID8/IHt9O1xufVxuXG4vLyBzcmMvZ3JhcGhxbC9kZWZpbml0aW9ucy9tdXRhdGlvbnMudHNcbnZhciBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU11dGF0aW9uID0gZ3JhcGhxbChcbiAgLyoqIEdyYXBoUUwgKiovXG4gIGBcbiAgbXV0YXRpb24gZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UoJGRhdGE6IEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQhLCAkcHJvcGVydGllczogSlNPTk9iamVjdCkge1xuICAgIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKGRhdGE6ICRkYXRhLCBwcm9wZXJ0aWVzOiAkcHJvcGVydGllcykge1xuICAgICAgdGhyZWFkSWRcbiAgICAgIHJ1bklkXG4gICAgICAuLi4gb24gQ29waWxvdFJlc3BvbnNlIEBkZWZlciB7XG4gICAgICAgIHN0YXR1cyB7XG4gICAgICAgICAgLi4uIG9uIEJhc2VSZXNwb25zZVN0YXR1cyB7XG4gICAgICAgICAgICBjb2RlXG4gICAgICAgICAgfVxuICAgICAgICAgIC4uLiBvbiBGYWlsZWRSZXNwb25zZVN0YXR1cyB7XG4gICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgIGRldGFpbHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1lc3NhZ2VzIEBzdHJlYW0ge1xuICAgICAgICBfX3R5cGVuYW1lXG4gICAgICAgIC4uLiBvbiBCYXNlTWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQgQGRlZmVyIHtcbiAgICAgICAgICBzdGF0dXMge1xuICAgICAgICAgICAgLi4uIG9uIFN1Y2Nlc3NNZXNzYWdlU3RhdHVzIHtcbiAgICAgICAgICAgICAgY29kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLi4uIG9uIEZhaWxlZE1lc3NhZ2VTdGF0dXMge1xuICAgICAgICAgICAgICBjb2RlXG4gICAgICAgICAgICAgIHJlYXNvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLi4uIG9uIFBlbmRpbmdNZXNzYWdlU3RhdHVzIHtcbiAgICAgICAgICAgICAgY29kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gVGV4dE1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIGNvbnRlbnQgQHN0cmVhbVxuICAgICAgICAgIHJvbGVcbiAgICAgICAgICBwYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGFyZ3VtZW50cyBAc3RyZWFtXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkXG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIFJlc3VsdE1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICAgICAgYWN0aW9uTmFtZVxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgdGhyZWFkSWRcbiAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIHJ1bm5pbmdcbiAgICAgICAgICBhZ2VudE5hbWVcbiAgICAgICAgICBub2RlTmFtZVxuICAgICAgICAgIHJ1bklkXG4gICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgcm9sZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gXG4pO1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU11dGF0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstRUM2QUlMT1UubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-EC6AILOU.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionInputAvailability: () => (/* binding */ ActionInputAvailability),\n/* harmony export */   CopilotRequestType: () => (/* binding */ CopilotRequestType),\n/* harmony export */   FailedResponseStatusReason: () => (/* binding */ FailedResponseStatusReason),\n/* harmony export */   GenerateCopilotResponseDocument: () => (/* binding */ GenerateCopilotResponseDocument),\n/* harmony export */   MessageRole: () => (/* binding */ MessageRole),\n/* harmony export */   MessageStatusCode: () => (/* binding */ MessageStatusCode),\n/* harmony export */   ResponseStatusCode: () => (/* binding */ ResponseStatusCode)\n/* harmony export */ });\n// src/graphql/@generated/graphql.ts\nvar ActionInputAvailability = /* @__PURE__ */ ((ActionInputAvailability2) => {\n  ActionInputAvailability2[\"Disabled\"] = \"disabled\";\n  ActionInputAvailability2[\"Enabled\"] = \"enabled\";\n  ActionInputAvailability2[\"Remote\"] = \"remote\";\n  return ActionInputAvailability2;\n})(ActionInputAvailability || {});\nvar CopilotRequestType = /* @__PURE__ */ ((CopilotRequestType2) => {\n  CopilotRequestType2[\"Chat\"] = \"Chat\";\n  CopilotRequestType2[\"Suggestion\"] = \"Suggestion\";\n  CopilotRequestType2[\"Task\"] = \"Task\";\n  CopilotRequestType2[\"TextareaCompletion\"] = \"TextareaCompletion\";\n  CopilotRequestType2[\"TextareaPopover\"] = \"TextareaPopover\";\n  return CopilotRequestType2;\n})(CopilotRequestType || {});\nvar FailedResponseStatusReason = /* @__PURE__ */ ((FailedResponseStatusReason2) => {\n  FailedResponseStatusReason2[\"GuardrailsValidationFailed\"] = \"GUARDRAILS_VALIDATION_FAILED\";\n  FailedResponseStatusReason2[\"MessageStreamInterrupted\"] = \"MESSAGE_STREAM_INTERRUPTED\";\n  FailedResponseStatusReason2[\"UnknownError\"] = \"UNKNOWN_ERROR\";\n  return FailedResponseStatusReason2;\n})(FailedResponseStatusReason || {});\nvar MessageRole = /* @__PURE__ */ ((MessageRole2) => {\n  MessageRole2[\"Assistant\"] = \"assistant\";\n  MessageRole2[\"System\"] = \"system\";\n  MessageRole2[\"Tool\"] = \"tool\";\n  MessageRole2[\"User\"] = \"user\";\n  return MessageRole2;\n})(MessageRole || {});\nvar MessageStatusCode = /* @__PURE__ */ ((MessageStatusCode2) => {\n  MessageStatusCode2[\"Failed\"] = \"Failed\";\n  MessageStatusCode2[\"Pending\"] = \"Pending\";\n  MessageStatusCode2[\"Success\"] = \"Success\";\n  return MessageStatusCode2;\n})(MessageStatusCode || {});\nvar ResponseStatusCode = /* @__PURE__ */ ((ResponseStatusCode2) => {\n  ResponseStatusCode2[\"Failed\"] = \"Failed\";\n  ResponseStatusCode2[\"Pending\"] = \"Pending\";\n  ResponseStatusCode2[\"Success\"] = \"Success\";\n  return ResponseStatusCode2;\n})(ResponseStatusCode || {});\nvar GenerateCopilotResponseDocument = { \"kind\": \"Document\", \"definitions\": [{ \"kind\": \"OperationDefinition\", \"operation\": \"mutation\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"variableDefinitions\": [{ \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } }, \"type\": { \"kind\": \"NonNullType\", \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"GenerateCopilotResponseInput\" } } } }, { \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } }, \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"JSONObject\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"arguments\": [{ \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } } }, { \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"CopilotResponse\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"details\" } }] } }] } }] } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"messages\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"__typename\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"id\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"createdAt\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"SuccessMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"PendingMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }] } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"TextMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"content\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ActionExecutionMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"arguments\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ResultMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"result\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionExecutionId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionName\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"AgentStateMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"state\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"running\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"agentName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"nodeName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"active\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }] } }] } }] } }] } }] };\n\n\n//# sourceMappingURL=chunk-OH4PIHRN.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1PSDRQSUhSTi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0JBQStCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEI7QUFDM0Isd0NBQXdDLHNDQUFzQyxrRUFBa0Usb0RBQW9ELDRCQUE0Qiw0Q0FBNEMsOEJBQThCLG1DQUFtQyxZQUFZLGlDQUFpQywrQkFBK0IsK0RBQStELElBQUksNENBQTRDLDhCQUE4Qix5Q0FBeUMsWUFBWSwrQkFBK0IsMkNBQTJDLHFCQUFxQix5Q0FBeUMsMkJBQTJCLG9EQUFvRCxrQkFBa0IsOEJBQThCLGlDQUFpQyxhQUFhLDhCQUE4QixxQ0FBcUMsSUFBSSw4QkFBOEIsdUNBQXVDLGFBQWEsOEJBQThCLDJDQUEyQyxxQkFBcUIseUNBQXlDLDJCQUEyQix1Q0FBdUMsSUFBSSwyQkFBMkIsb0NBQW9DLElBQUksNkNBQTZDLCtCQUErQiw4Q0FBOEMsbUJBQW1CLCtCQUErQixvQ0FBb0MscUJBQXFCLHlDQUF5QywyQkFBMkIsbUNBQW1DLG9CQUFvQix5Q0FBeUMsNkNBQTZDLCtCQUErQixpREFBaUQsb0JBQW9CLHlDQUF5QywyQkFBMkIsbUNBQW1DLEtBQUssSUFBSSw2Q0FBNkMsK0JBQStCLG1EQUFtRCxvQkFBb0IseUNBQXlDLDJCQUEyQixxQ0FBcUMsSUFBSSwyQkFBMkIsc0NBQXNDLEtBQUssS0FBSyxLQUFLLElBQUksMkJBQTJCLHFDQUFxQyxtQkFBbUIsK0JBQStCLHFDQUFxQyxxQkFBcUIseUNBQXlDLDJCQUEyQix5Q0FBeUMsSUFBSSw2Q0FBNkMsK0JBQStCLGdEQUFnRCxvQkFBb0IseUNBQXlDLDJCQUEyQixpQ0FBaUMsSUFBSSwyQkFBMkIsd0NBQXdDLEtBQUssSUFBSSw2Q0FBNkMsK0JBQStCLGdEQUFnRCxtQkFBbUIsK0JBQStCLG9DQUFvQyxxQkFBcUIseUNBQXlDLDJCQUEyQixtQ0FBbUMsb0JBQW9CLHlDQUF5Qyw2Q0FBNkMsK0JBQStCLG1EQUFtRCxvQkFBb0IseUNBQXlDLDJCQUEyQixtQ0FBbUMsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0Isa0RBQWtELG9CQUFvQix5Q0FBeUMsMkJBQTJCLG1DQUFtQyxJQUFJLDJCQUEyQixxQ0FBcUMsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsbURBQW1ELG9CQUFvQix5Q0FBeUMsMkJBQTJCLG1DQUFtQyxLQUFLLEtBQUssS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsZ0RBQWdELG9CQUFvQix5Q0FBeUMsMkJBQTJCLG9DQUFvQyxtQkFBbUIsK0JBQStCLHFDQUFxQyxHQUFHLElBQUksMkJBQTJCLG1DQUFtQyxJQUFJLDJCQUEyQiw4Q0FBOEMsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsMkRBQTJELG9CQUFvQix5Q0FBeUMsMkJBQTJCLG1DQUFtQyxJQUFJLDJCQUEyQixzQ0FBc0MsbUJBQW1CLCtCQUErQixxQ0FBcUMsR0FBRyxJQUFJLDJCQUEyQiw4Q0FBOEMsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0Isa0RBQWtELG9CQUFvQix5Q0FBeUMsMkJBQTJCLHFDQUFxQyxJQUFJLDJCQUEyQixnREFBZ0QsSUFBSSwyQkFBMkIseUNBQXlDLEtBQUssSUFBSSw2Q0FBNkMsK0JBQStCLHNEQUFzRCxvQkFBb0IseUNBQXlDLDJCQUEyQix1Q0FBdUMsSUFBSSwyQkFBMkIsb0NBQW9DLElBQUksMkJBQTJCLHNDQUFzQyxJQUFJLDJCQUEyQix3Q0FBd0MsSUFBSSwyQkFBMkIsdUNBQXVDLElBQUksMkJBQTJCLG9DQUFvQyxJQUFJLDJCQUEyQixxQ0FBcUMsSUFBSSwyQkFBMkIsbUNBQW1DLEtBQUssS0FBSyxLQUFLLEtBQUs7O0FBVXZzTTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLU9INFBJSFJOLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZ3JhcGhxbC9AZ2VuZXJhdGVkL2dyYXBocWwudHNcbnZhciBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eSA9IC8qIEBfX1BVUkVfXyAqLyAoKEFjdGlvbklucHV0QXZhaWxhYmlsaXR5MikgPT4ge1xuICBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eTJbXCJEaXNhYmxlZFwiXSA9IFwiZGlzYWJsZWRcIjtcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyW1wiRW5hYmxlZFwiXSA9IFwiZW5hYmxlZFwiO1xuICBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eTJbXCJSZW1vdGVcIl0gPSBcInJlbW90ZVwiO1xuICByZXR1cm4gQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyO1xufSkoQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkgfHwge30pO1xudmFyIENvcGlsb3RSZXF1ZXN0VHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKENvcGlsb3RSZXF1ZXN0VHlwZTIpID0+IHtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIkNoYXRcIl0gPSBcIkNoYXRcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlN1Z2dlc3Rpb25cIl0gPSBcIlN1Z2dlc3Rpb25cIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlRhc2tcIl0gPSBcIlRhc2tcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlRleHRhcmVhQ29tcGxldGlvblwiXSA9IFwiVGV4dGFyZWFDb21wbGV0aW9uXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUZXh0YXJlYVBvcG92ZXJcIl0gPSBcIlRleHRhcmVhUG9wb3ZlclwiO1xuICByZXR1cm4gQ29waWxvdFJlcXVlc3RUeXBlMjtcbn0pKENvcGlsb3RSZXF1ZXN0VHlwZSB8fCB7fSk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24gPSAvKiBAX19QVVJFX18gKi8gKChGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbjIpID0+IHtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsZWRcIl0gPSBcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIjtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiTWVzc2FnZVN0cmVhbUludGVycnVwdGVkXCJdID0gXCJNRVNTQUdFX1NUUkVBTV9JTlRFUlJVUFRFRFwiO1xuICBGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbjJbXCJVbmtub3duRXJyb3JcIl0gPSBcIlVOS05PV05fRVJST1JcIjtcbiAgcmV0dXJuIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMjtcbn0pKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uIHx8IHt9KTtcbnZhciBNZXNzYWdlUm9sZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE1lc3NhZ2VSb2xlMikgPT4ge1xuICBNZXNzYWdlUm9sZTJbXCJBc3Npc3RhbnRcIl0gPSBcImFzc2lzdGFudFwiO1xuICBNZXNzYWdlUm9sZTJbXCJTeXN0ZW1cIl0gPSBcInN5c3RlbVwiO1xuICBNZXNzYWdlUm9sZTJbXCJUb29sXCJdID0gXCJ0b29sXCI7XG4gIE1lc3NhZ2VSb2xlMltcIlVzZXJcIl0gPSBcInVzZXJcIjtcbiAgcmV0dXJuIE1lc3NhZ2VSb2xlMjtcbn0pKE1lc3NhZ2VSb2xlIHx8IHt9KTtcbnZhciBNZXNzYWdlU3RhdHVzQ29kZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE1lc3NhZ2VTdGF0dXNDb2RlMikgPT4ge1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJGYWlsZWRcIl0gPSBcIkZhaWxlZFwiO1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJQZW5kaW5nXCJdID0gXCJQZW5kaW5nXCI7XG4gIE1lc3NhZ2VTdGF0dXNDb2RlMltcIlN1Y2Nlc3NcIl0gPSBcIlN1Y2Nlc3NcIjtcbiAgcmV0dXJuIE1lc3NhZ2VTdGF0dXNDb2RlMjtcbn0pKE1lc3NhZ2VTdGF0dXNDb2RlIHx8IHt9KTtcbnZhciBSZXNwb25zZVN0YXR1c0NvZGUgPSAvKiBAX19QVVJFX18gKi8gKChSZXNwb25zZVN0YXR1c0NvZGUyKSA9PiB7XG4gIFJlc3BvbnNlU3RhdHVzQ29kZTJbXCJGYWlsZWRcIl0gPSBcIkZhaWxlZFwiO1xuICBSZXNwb25zZVN0YXR1c0NvZGUyW1wiUGVuZGluZ1wiXSA9IFwiUGVuZGluZ1wiO1xuICBSZXNwb25zZVN0YXR1c0NvZGUyW1wiU3VjY2Vzc1wiXSA9IFwiU3VjY2Vzc1wiO1xuICByZXR1cm4gUmVzcG9uc2VTdGF0dXNDb2RlMjtcbn0pKFJlc3BvbnNlU3RhdHVzQ29kZSB8fCB7fSk7XG52YXIgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudCA9IHsgXCJraW5kXCI6IFwiRG9jdW1lbnRcIiwgXCJkZWZpbml0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJPcGVyYXRpb25EZWZpbml0aW9uXCIsIFwib3BlcmF0aW9uXCI6IFwibXV0YXRpb25cIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VcIiB9LCBcInZhcmlhYmxlRGVmaW5pdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiVmFyaWFibGVEZWZpbml0aW9uXCIsIFwidmFyaWFibGVcIjogeyBcImtpbmRcIjogXCJWYXJpYWJsZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkYXRhXCIgfSB9LCBcInR5cGVcIjogeyBcImtpbmRcIjogXCJOb25OdWxsVHlwZVwiLCBcInR5cGVcIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dFwiIH0gfSB9IH0sIHsgXCJraW5kXCI6IFwiVmFyaWFibGVEZWZpbml0aW9uXCIsIFwidmFyaWFibGVcIjogeyBcImtpbmRcIjogXCJWYXJpYWJsZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJwcm9wZXJ0aWVzXCIgfSB9LCBcInR5cGVcIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiSlNPTk9iamVjdFwiIH0gfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImdlbmVyYXRlQ29waWxvdFJlc3BvbnNlXCIgfSwgXCJhcmd1bWVudHNcIjogW3sgXCJraW5kXCI6IFwiQXJndW1lbnRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0sIFwidmFsdWVcIjogeyBcImtpbmRcIjogXCJWYXJpYWJsZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkYXRhXCIgfSB9IH0sIHsgXCJraW5kXCI6IFwiQXJndW1lbnRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicHJvcGVydGllc1wiIH0sIFwidmFsdWVcIjogeyBcImtpbmRcIjogXCJWYXJpYWJsZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJwcm9wZXJ0aWVzXCIgfSB9IH1dLCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwidGhyZWFkSWRcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicnVuSWRcIiB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkNvcGlsb3RSZXNwb25zZVwiIH0gfSwgXCJkaXJlY3RpdmVzXCI6IFt7IFwia2luZFwiOiBcIkRpcmVjdGl2ZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkZWZlclwiIH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0dXNcIiB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkJhc2VSZXNwb25zZVN0YXR1c1wiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvZGVcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiRmFpbGVkUmVzcG9uc2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyZWFzb25cIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGV0YWlsc1wiIH0gfV0gfSB9XSB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJtZXNzYWdlc1wiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIl9fdHlwZW5hbWVcIiB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkJhc2VNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiaWRcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY3JlYXRlZEF0XCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkJhc2VNZXNzYWdlT3V0cHV0XCIgfSB9LCBcImRpcmVjdGl2ZXNcIjogW3sgXCJraW5kXCI6IFwiRGlyZWN0aXZlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRlZmVyXCIgfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInN0YXR1c1wiIH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiU3VjY2Vzc01lc3NhZ2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb2RlXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkZhaWxlZE1lc3NhZ2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb2RlXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJlYXNvblwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJQZW5kaW5nTWVzc2FnZVN0YXR1c1wiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvZGVcIiB9IH1dIH0gfV0gfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIlRleHRNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29udGVudFwiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJvbGVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicGFyZW50TWVzc2FnZUlkXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJuYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFyZ3VtZW50c1wiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInBhcmVudE1lc3NhZ2VJZFwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicmVzdWx0XCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbkV4ZWN1dGlvbklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbk5hbWVcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJ0aHJlYWRJZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0ZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJydW5uaW5nXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFnZW50TmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJub2RlTmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJydW5JZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJhY3RpdmVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicm9sZVwiIH0gfV0gfSB9XSB9IH1dIH0gfV0gfSB9XSB9O1xuXG5leHBvcnQge1xuICBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eSxcbiAgQ29waWxvdFJlcXVlc3RUeXBlLFxuICBGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbixcbiAgTWVzc2FnZVJvbGUsXG4gIE1lc3NhZ2VTdGF0dXNDb2RlLFxuICBSZXNwb25zZVN0YXR1c0NvZGUsXG4gIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlRG9jdW1lbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1PSDRQSUhSTi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-OH4PIHRN.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertGqlOutputToMessages: () => (/* binding */ convertGqlOutputToMessages),\n/* harmony export */   convertMessagesToGqlInput: () => (/* binding */ convertMessagesToGqlInput),\n/* harmony export */   filterAdjacentAgentStateMessages: () => (/* binding */ filterAdjacentAgentStateMessages),\n/* harmony export */   filterAgentStateMessages: () => (/* binding */ filterAgentStateMessages),\n/* harmony export */   loadMessagesFromJsonRepresentation: () => (/* binding */ loadMessagesFromJsonRepresentation)\n/* harmony export */ });\n/* harmony import */ var _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-BEGNKGFP.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-BEGNKGFP.mjs\");\n/* harmony import */ var untruncate_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! untruncate-json */ \"(app-pages-browser)/./node_modules/untruncate-json/dist/esm/index.js\");\n\n\n// src/client/conversion.ts\n\nfunction filterAgentStateMessages(messages) {\n  return messages.filter((message) => !message.isAgentStateMessage());\n}\nfunction convertMessagesToGqlInput(messages) {\n  return messages.map((message) => {\n    if (message.isTextMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        textMessage: {\n          content: message.content,\n          role: message.role,\n          parentMessageId: message.parentMessageId\n        }\n      };\n    } else if (message.isActionExecutionMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        actionExecutionMessage: {\n          name: message.name,\n          arguments: JSON.stringify(message.arguments),\n          parentMessageId: message.parentMessageId\n        }\n      };\n    } else if (message.isResultMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        resultMessage: {\n          result: message.result,\n          actionExecutionId: message.actionExecutionId,\n          actionName: message.actionName\n        }\n      };\n    } else if (message.isAgentStateMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        agentStateMessage: {\n          threadId: message.threadId,\n          role: message.role,\n          agentName: message.agentName,\n          nodeName: message.nodeName,\n          runId: message.runId,\n          active: message.active,\n          running: message.running,\n          state: JSON.stringify(message.state)\n        }\n      };\n    } else {\n      throw new Error(\"Unknown message type\");\n    }\n  });\n}\nfunction filterAdjacentAgentStateMessages(messages) {\n  const filteredMessages = [];\n  messages.forEach((message, i) => {\n    if (message.__typename !== \"AgentStateMessageOutput\") {\n      filteredMessages.push(message);\n    } else {\n      const prevAgentStateMessageIndex = filteredMessages.findIndex(\n        // TODO: also check runId\n        (m) => m.__typename === \"AgentStateMessageOutput\" && m.agentName === message.agentName\n      );\n      if (prevAgentStateMessageIndex === -1) {\n        filteredMessages.push(message);\n      } else {\n        filteredMessages[prevAgentStateMessageIndex] = message;\n      }\n    }\n  });\n  return filteredMessages;\n}\nfunction convertGqlOutputToMessages(messages) {\n  return messages.map((message) => {\n    if (message.__typename === \"TextMessageOutput\") {\n      return new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n        id: message.id,\n        role: message.role,\n        content: message.content.join(\"\"),\n        parentMessageId: message.parentMessageId,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ActionExecutionMessageOutput\") {\n      return new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n        id: message.id,\n        name: message.name,\n        arguments: getPartialArguments(message.arguments),\n        parentMessageId: message.parentMessageId,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ResultMessageOutput\") {\n      return new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n        id: message.id,\n        result: message.result,\n        actionExecutionId: message.actionExecutionId,\n        actionName: message.actionName,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"AgentStateMessageOutput\") {\n      return new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n        id: message.id,\n        threadId: message.threadId,\n        role: message.role,\n        agentName: message.agentName,\n        nodeName: message.nodeName,\n        runId: message.runId,\n        active: message.active,\n        running: message.running,\n        state: JSON.parse(message.state),\n        createdAt: /* @__PURE__ */ new Date()\n      });\n    }\n    throw new Error(\"Unknown message type\");\n  });\n}\nfunction loadMessagesFromJsonRepresentation(json) {\n  const result = [];\n  for (const item of json) {\n    if (\"content\" in item) {\n      result.push(\n        new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n          id: item.id,\n          role: item.role,\n          content: item.content,\n          parentMessageId: item.parentMessageId,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"arguments\" in item) {\n      result.push(\n        new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n          id: item.id,\n          name: item.name,\n          arguments: item.arguments,\n          parentMessageId: item.parentMessageId,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"result\" in item) {\n      result.push(\n        new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n          id: item.id,\n          result: item.result,\n          actionExecutionId: item.actionExecutionId,\n          actionName: item.actionName,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"state\" in item) {\n      result.push(\n        new _chunk_BEGNKGFP_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n          id: item.id,\n          threadId: item.threadId,\n          role: item.role,\n          agentName: item.agentName,\n          nodeName: item.nodeName,\n          runId: item.runId,\n          active: item.active,\n          running: item.running,\n          state: item.state,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date()\n        })\n      );\n    }\n  }\n  return result;\n}\nfunction getPartialArguments(args) {\n  try {\n    return JSON.parse((0,untruncate_json__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(args.join(\"\")));\n  } catch (e) {\n    return {};\n  }\n}\n\n\n//# sourceMappingURL=chunk-TAK3TLYX.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1UQUszVExZWC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUs4Qjs7QUFFOUI7QUFDNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNERBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxPQUFPO0FBQ1AsTUFBTTtBQUNOLGlCQUFpQix1RUFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxPQUFPO0FBQ1AsTUFBTTtBQUNOLGlCQUFpQiw4REFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLE9BQU87QUFDUCxNQUFNO0FBQ04saUJBQWlCLGtFQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxZQUFZLHVFQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBLFlBQVksOERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxZQUFZLGtFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyREFBYztBQUNwQyxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstVEFLM1RMWVgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gIEFnZW50U3RhdGVNZXNzYWdlLFxuICBSZXN1bHRNZXNzYWdlLFxuICBUZXh0TWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1CRUdOS0dGUC5tanNcIjtcblxuLy8gc3JjL2NsaWVudC9jb252ZXJzaW9uLnRzXG5pbXBvcnQgdW50cnVuY2F0ZUpzb24gZnJvbSBcInVudHJ1bmNhdGUtanNvblwiO1xuZnVuY3Rpb24gZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIHJldHVybiBtZXNzYWdlcy5maWx0ZXIoKG1lc3NhZ2UpID0+ICFtZXNzYWdlLmlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0KG1lc3NhZ2VzKSB7XG4gIHJldHVybiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS5pc1RleHRNZXNzYWdlKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICB0ZXh0TWVzc2FnZToge1xuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2U6IHtcbiAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShtZXNzYWdlLmFyZ3VtZW50cyksXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIHJlc3VsdE1lc3NhZ2U6IHtcbiAgICAgICAgICByZXN1bHQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgIGFjdGlvbk5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pc0FnZW50U3RhdGVNZXNzYWdlKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhZ2VudFN0YXRlTWVzc2FnZToge1xuICAgICAgICAgIHRocmVhZElkOiBtZXNzYWdlLnRocmVhZElkLFxuICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICBhZ2VudE5hbWU6IG1lc3NhZ2UuYWdlbnROYW1lLFxuICAgICAgICAgIG5vZGVOYW1lOiBtZXNzYWdlLm5vZGVOYW1lLFxuICAgICAgICAgIHJ1bklkOiBtZXNzYWdlLnJ1bklkLFxuICAgICAgICAgIGFjdGl2ZTogbWVzc2FnZS5hY3RpdmUsXG4gICAgICAgICAgcnVubmluZzogbWVzc2FnZS5ydW5uaW5nLFxuICAgICAgICAgIHN0YXRlOiBKU09OLnN0cmluZ2lmeShtZXNzYWdlLnN0YXRlKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2UgdHlwZVwiKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZmlsdGVyQWRqYWNlbnRBZ2VudFN0YXRlTWVzc2FnZXMobWVzc2FnZXMpIHtcbiAgY29uc3QgZmlsdGVyZWRNZXNzYWdlcyA9IFtdO1xuICBtZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlLCBpKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UuX190eXBlbmFtZSAhPT0gXCJBZ2VudFN0YXRlTWVzc2FnZU91dHB1dFwiKSB7XG4gICAgICBmaWx0ZXJlZE1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZXZBZ2VudFN0YXRlTWVzc2FnZUluZGV4ID0gZmlsdGVyZWRNZXNzYWdlcy5maW5kSW5kZXgoXG4gICAgICAgIC8vIFRPRE86IGFsc28gY2hlY2sgcnVuSWRcbiAgICAgICAgKG0pID0+IG0uX190eXBlbmFtZSA9PT0gXCJBZ2VudFN0YXRlTWVzc2FnZU91dHB1dFwiICYmIG0uYWdlbnROYW1lID09PSBtZXNzYWdlLmFnZW50TmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChwcmV2QWdlbnRTdGF0ZU1lc3NhZ2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgZmlsdGVyZWRNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRNZXNzYWdlc1twcmV2QWdlbnRTdGF0ZU1lc3NhZ2VJbmRleF0gPSBtZXNzYWdlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZE1lc3NhZ2VzO1xufVxuZnVuY3Rpb24gY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMobWVzc2FnZXMpIHtcbiAgcmV0dXJuIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiVGV4dE1lc3NhZ2VPdXRwdXRcIikge1xuICAgICAgcmV0dXJuIG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5qb2luKFwiXCIpLFxuICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6IG1lc3NhZ2Uuc3RhdHVzIHx8IHsgY29kZTogXCJQZW5kaW5nXCIgLyogUGVuZGluZyAqLyB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuX190eXBlbmFtZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSh7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgIGFyZ3VtZW50czogZ2V0UGFydGlhbEFyZ3VtZW50cyhtZXNzYWdlLmFyZ3VtZW50cyksXG4gICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgeyBjb2RlOiBcIlBlbmRpbmdcIiAvKiBQZW5kaW5nICovIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5fX3R5cGVuYW1lID09PSBcIlJlc3VsdE1lc3NhZ2VPdXRwdXRcIikge1xuICAgICAgcmV0dXJuIG5ldyBSZXN1bHRNZXNzYWdlKHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHJlc3VsdDogbWVzc2FnZS5yZXN1bHQsXG4gICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLmFjdGlvbk5hbWUsXG4gICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgeyBjb2RlOiBcIlBlbmRpbmdcIiAvKiBQZW5kaW5nICovIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5fX3R5cGVuYW1lID09PSBcIkFnZW50U3RhdGVNZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgQWdlbnRTdGF0ZU1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgdGhyZWFkSWQ6IG1lc3NhZ2UudGhyZWFkSWQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgYWdlbnROYW1lOiBtZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgbm9kZU5hbWU6IG1lc3NhZ2Uubm9kZU5hbWUsXG4gICAgICAgIHJ1bklkOiBtZXNzYWdlLnJ1bklkLFxuICAgICAgICBhY3RpdmU6IG1lc3NhZ2UuYWN0aXZlLFxuICAgICAgICBydW5uaW5nOiBtZXNzYWdlLnJ1bm5pbmcsXG4gICAgICAgIHN0YXRlOiBKU09OLnBhcnNlKG1lc3NhZ2Uuc3RhdGUpLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGVcIik7XG4gIH0pO1xufVxuZnVuY3Rpb24gbG9hZE1lc3NhZ2VzRnJvbUpzb25SZXByZXNlbnRhdGlvbihqc29uKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YganNvbikge1xuICAgIGlmIChcImNvbnRlbnRcIiBpbiBpdGVtKSB7XG4gICAgICByZXN1bHQucHVzaChcbiAgICAgICAgbmV3IFRleHRNZXNzYWdlKHtcbiAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICByb2xlOiBpdGVtLnJvbGUsXG4gICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50LFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogaXRlbS5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgY3JlYXRlZEF0OiBpdGVtLmNyZWF0ZWRBdCB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzIHx8IHsgY29kZTogXCJTdWNjZXNzXCIgLyogU3VjY2VzcyAqLyB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXCJhcmd1bWVudHNcIiBpbiBpdGVtKSB7XG4gICAgICByZXN1bHQucHVzaChcbiAgICAgICAgbmV3IEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICBhcmd1bWVudHM6IGl0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogaXRlbS5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgY3JlYXRlZEF0OiBpdGVtLmNyZWF0ZWRBdCB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzIHx8IHsgY29kZTogXCJTdWNjZXNzXCIgLyogU3VjY2VzcyAqLyB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXCJyZXN1bHRcIiBpbiBpdGVtKSB7XG4gICAgICByZXN1bHQucHVzaChcbiAgICAgICAgbmV3IFJlc3VsdE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIHJlc3VsdDogaXRlbS5yZXN1bHQsXG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGl0ZW0uYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgICAgYWN0aW9uTmFtZTogaXRlbS5hY3Rpb25OYW1lLFxuICAgICAgICAgIGNyZWF0ZWRBdDogaXRlbS5jcmVhdGVkQXQgfHwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyB8fCB7IGNvZGU6IFwiU3VjY2Vzc1wiIC8qIFN1Y2Nlc3MgKi8gfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFwic3RhdGVcIiBpbiBpdGVtKSB7XG4gICAgICByZXN1bHQucHVzaChcbiAgICAgICAgbmV3IEFnZW50U3RhdGVNZXNzYWdlKHtcbiAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICB0aHJlYWRJZDogaXRlbS50aHJlYWRJZCxcbiAgICAgICAgICByb2xlOiBpdGVtLnJvbGUsXG4gICAgICAgICAgYWdlbnROYW1lOiBpdGVtLmFnZW50TmFtZSxcbiAgICAgICAgICBub2RlTmFtZTogaXRlbS5ub2RlTmFtZSxcbiAgICAgICAgICBydW5JZDogaXRlbS5ydW5JZCxcbiAgICAgICAgICBhY3RpdmU6IGl0ZW0uYWN0aXZlLFxuICAgICAgICAgIHJ1bm5pbmc6IGl0ZW0ucnVubmluZyxcbiAgICAgICAgICBzdGF0ZTogaXRlbS5zdGF0ZSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGl0ZW0uY3JlYXRlZEF0IHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0UGFydGlhbEFyZ3VtZW50cyhhcmdzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodW50cnVuY2F0ZUpzb24oYXJncy5qb2luKFwiXCIpKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0LFxuICBmaWx0ZXJBZGphY2VudEFnZW50U3RhdGVNZXNzYWdlcyxcbiAgY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMsXG4gIGxvYWRNZXNzYWdlc0Zyb21Kc29uUmVwcmVzZW50YXRpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1UQUszVExZWC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-TAK3TLYX.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-XV6FLHQA.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-XV6FLHQA.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotRuntimeClient: () => (/* binding */ CopilotRuntimeClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_EC6AILOU_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-EC6AILOU.mjs */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-EC6AILOU.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @urql/core */ \"(app-pages-browser)/./node_modules/@urql/core/dist/urql-core.mjs\");\n\n\n// src/client/CopilotRuntimeClient.ts\n\n\n// package.json\nvar version = \"1.4.8-coagents-v0-3.1\";\n\n// src/client/CopilotRuntimeClient.ts\nvar CopilotRuntimeClient = class {\n  constructor(options) {\n    const headers = {};\n    this.handleGQLErrors = options.handleGQLErrors;\n    if (options.headers) {\n      Object.assign(headers, options.headers);\n    }\n    if (options.publicApiKey) {\n      headers[\"x-copilotcloud-public-api-key\"] = options.publicApiKey;\n    }\n    this.client = new _urql_core__WEBPACK_IMPORTED_MODULE_0__.Client({\n      url: options.url,\n      exchanges: [_urql_core__WEBPACK_IMPORTED_MODULE_0__.cacheExchange, _urql_core__WEBPACK_IMPORTED_MODULE_0__.fetchExchange],\n      fetchOptions: {\n        headers: {\n          ...headers,\n          \"X-CopilotKit-Runtime-Client-GQL-Version\": version\n        },\n        ...options.credentials ? { credentials: options.credentials } : {}\n      }\n    });\n  }\n  generateCopilotResponse({\n    data,\n    properties,\n    signal\n  }) {\n    const result = this.client.mutation(\n      _chunk_EC6AILOU_mjs__WEBPACK_IMPORTED_MODULE_1__.generateCopilotResponseMutation,\n      { data, properties },\n      { fetch: (url, opts) => fetch(url, { ...opts, signal }) }\n    );\n    return result;\n  }\n  asStream(source) {\n    const handleGQLErrors = this.handleGQLErrors;\n    return new ReadableStream({\n      start(controller) {\n        source.subscribe(({ data, hasNext, error }) => {\n          if (error) {\n            controller.error(error);\n            if (handleGQLErrors) {\n              handleGQLErrors(error);\n            }\n          } else {\n            controller.enqueue(data);\n            if (!hasNext) {\n              controller.close();\n            }\n          }\n        });\n      }\n    });\n  }\n};\n\n\n//# sourceMappingURL=chunk-XV6FLHQA.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1YVjZGTEhRQS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRThCOztBQUU5QjtBQUNrRTs7QUFFbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFNO0FBQzVCO0FBQ0Esa0JBQWtCLHFEQUFhLEVBQUUscURBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUNBQW1DLG1DQUFtQztBQUN0RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsTUFBTSxnRkFBK0I7QUFDckMsUUFBUSxrQkFBa0I7QUFDMUIsUUFBUSxtQ0FBbUMsaUJBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLVhWNkZMSFFBLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU11dGF0aW9uXG59IGZyb20gXCIuL2NodW5rLUVDNkFJTE9VLm1qc1wiO1xuXG4vLyBzcmMvY2xpZW50L0NvcGlsb3RSdW50aW1lQ2xpZW50LnRzXG5pbXBvcnQgeyBDbGllbnQsIGNhY2hlRXhjaGFuZ2UsIGZldGNoRXhjaGFuZ2UgfSBmcm9tIFwiQHVycWwvY29yZVwiO1xuXG4vLyBwYWNrYWdlLmpzb25cbnZhciB2ZXJzaW9uID0gXCIxLjQuOC1jb2FnZW50cy12MC0zLjFcIjtcblxuLy8gc3JjL2NsaWVudC9Db3BpbG90UnVudGltZUNsaWVudC50c1xudmFyIENvcGlsb3RSdW50aW1lQ2xpZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIHRoaXMuaGFuZGxlR1FMRXJyb3JzID0gb3B0aW9ucy5oYW5kbGVHUUxFcnJvcnM7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgT2JqZWN0LmFzc2lnbihoZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wdWJsaWNBcGlLZXkpIHtcbiAgICAgIGhlYWRlcnNbXCJ4LWNvcGlsb3RjbG91ZC1wdWJsaWMtYXBpLWtleVwiXSA9IG9wdGlvbnMucHVibGljQXBpS2V5O1xuICAgIH1cbiAgICB0aGlzLmNsaWVudCA9IG5ldyBDbGllbnQoe1xuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIGV4Y2hhbmdlczogW2NhY2hlRXhjaGFuZ2UsIGZldGNoRXhjaGFuZ2VdLFxuICAgICAgZmV0Y2hPcHRpb25zOiB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgIFwiWC1Db3BpbG90S2l0LVJ1bnRpbWUtQ2xpZW50LUdRTC1WZXJzaW9uXCI6IHZlcnNpb25cbiAgICAgICAgfSxcbiAgICAgICAgLi4ub3B0aW9ucy5jcmVkZW50aWFscyA/IHsgY3JlZGVudGlhbHM6IG9wdGlvbnMuY3JlZGVudGlhbHMgfSA6IHt9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgIGRhdGEsXG4gICAgcHJvcGVydGllcyxcbiAgICBzaWduYWxcbiAgfSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2xpZW50Lm11dGF0aW9uKFxuICAgICAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNdXRhdGlvbixcbiAgICAgIHsgZGF0YSwgcHJvcGVydGllcyB9LFxuICAgICAgeyBmZXRjaDogKHVybCwgb3B0cykgPT4gZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KSB9XG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGFzU3RyZWFtKHNvdXJjZSkge1xuICAgIGNvbnN0IGhhbmRsZUdRTEVycm9ycyA9IHRoaXMuaGFuZGxlR1FMRXJyb3JzO1xuICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKCh7IGRhdGEsIGhhc05leHQsIGVycm9yIH0pID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZUdRTEVycm9ycykge1xuICAgICAgICAgICAgICBoYW5kbGVHUUxFcnJvcnMoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIENvcGlsb3RSdW50aW1lQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWFY2RkxIUUEubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/runtime-client-gql/dist/chunk-XV6FLHQA.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPILOT_CLOUD_API_URL: () => (/* binding */ COPILOT_CLOUD_API_URL),\n/* harmony export */   COPILOT_CLOUD_CHAT_URL: () => (/* binding */ COPILOT_CLOUD_CHAT_URL),\n/* harmony export */   COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => (/* binding */ COPILOT_CLOUD_PUBLIC_API_KEY_HEADER),\n/* harmony export */   COPILOT_CLOUD_VERSION: () => (/* binding */ COPILOT_CLOUD_VERSION)\n/* harmony export */ });\n// src/constants/index.ts\nvar COPILOT_CLOUD_API_URL = \"https://api.cloud.copilotkit.ai\";\nvar COPILOT_CLOUD_VERSION = \"v1\";\nvar COPILOT_CLOUD_CHAT_URL = `${COPILOT_CLOUD_API_URL}/copilotkit/${COPILOT_CLOUD_VERSION}`;\nvar COPILOT_CLOUD_PUBLIC_API_KEY_HEADER = \"X-CopilotCloud-Public-Api-Key\";\n\n\n//# sourceMappingURL=chunk-GYZIHHE6.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9jaHVuay1HWVpJSEhFNi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzQkFBc0IsY0FBYyxzQkFBc0I7QUFDMUY7O0FBT0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9jaHVuay1HWVpJSEhFNi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbnN0YW50cy9pbmRleC50c1xudmFyIENPUElMT1RfQ0xPVURfQVBJX1VSTCA9IFwiaHR0cHM6Ly9hcGkuY2xvdWQuY29waWxvdGtpdC5haVwiO1xudmFyIENPUElMT1RfQ0xPVURfVkVSU0lPTiA9IFwidjFcIjtcbnZhciBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMID0gYCR7Q09QSUxPVF9DTE9VRF9BUElfVVJMfS9jb3BpbG90a2l0LyR7Q09QSUxPVF9DTE9VRF9WRVJTSU9OfWA7XG52YXIgQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIgPSBcIlgtQ29waWxvdENsb3VkLVB1YmxpYy1BcGktS2V5XCI7XG5cbmV4cG9ydCB7XG4gIENPUElMT1RfQ0xPVURfQVBJX1VSTCxcbiAgQ09QSUxPVF9DTE9VRF9WRVJTSU9OLFxuICBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMLFxuICBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUdZWklISEU2Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionParametersToJsonSchema: () => (/* binding */ actionParametersToJsonSchema),\n/* harmony export */   convertJsonSchemaToZodSchema: () => (/* binding */ convertJsonSchemaToZodSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(app-pages-browser)/./node_modules/zod/lib/index.mjs\");\n// src/utils/json-schema.ts\n\nfunction actionParametersToJsonSchema(actionParameters) {\n  let parameters = {};\n  for (let parameter of actionParameters || []) {\n    parameters[parameter.name] = convertAttribute(parameter);\n  }\n  let requiredParameterNames = [];\n  for (let arg of actionParameters || []) {\n    if (arg.required !== false) {\n      requiredParameterNames.push(arg.name);\n    }\n  }\n  return {\n    type: \"object\",\n    properties: parameters,\n    required: requiredParameterNames\n  };\n}\nfunction convertAttribute(attribute) {\n  var _a, _b, _c;\n  switch (attribute.type) {\n    case \"string\":\n      return {\n        type: \"string\",\n        description: attribute.description,\n        ...attribute.enum && { enum: attribute.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        type: attribute.type,\n        description: attribute.description\n      };\n    case \"object\":\n    case \"object[]\":\n      const properties = (_a = attribute.attributes) == null ? void 0 : _a.reduce(\n        (acc, attr) => {\n          acc[attr.name] = convertAttribute(attr);\n          return acc;\n        },\n        {}\n      );\n      const required = (_b = attribute.attributes) == null ? void 0 : _b.filter((attr) => attr.required !== false).map((attr) => attr.name);\n      if (attribute.type === \"object[]\") {\n        return {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            ...properties && { properties },\n            ...required && required.length > 0 && { required }\n          },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"object\",\n        description: attribute.description,\n        ...properties && { properties },\n        ...required && required.length > 0 && { required }\n      };\n    default:\n      if ((_c = attribute.type) == null ? void 0 : _c.endsWith(\"[]\")) {\n        const itemType = attribute.type.slice(0, -2);\n        return {\n          type: \"array\",\n          items: { type: itemType },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"string\",\n        description: attribute.description\n      };\n  }\n}\nfunction convertJsonSchemaToZodSchema(jsonSchema, required) {\n  if (jsonSchema.type === \"object\") {\n    const spec = {};\n    if (!jsonSchema.properties || !Object.keys(jsonSchema.properties).length) {\n      return !required ? zod__WEBPACK_IMPORTED_MODULE_0__.z.object(spec).optional() : zod__WEBPACK_IMPORTED_MODULE_0__.z.object(spec);\n    }\n    for (const [key, value] of Object.entries(jsonSchema.properties)) {\n      spec[key] = convertJsonSchemaToZodSchema(\n        value,\n        jsonSchema.required ? jsonSchema.required.includes(key) : false\n      );\n    }\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object(spec).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"string\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"number\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.z.number().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"boolean\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"array\") {\n    let itemSchema = convertJsonSchemaToZodSchema(jsonSchema.items, true);\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.z.array(itemSchema).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  }\n  throw new Error(\"Invalid JSON schema\");\n}\n\n\n//# sourceMappingURL=chunk-JP2M4U4G.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9jaHVuay1KUDJNNFU0Ry5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQyxvREFBb0Q7QUFDcEQsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixZQUFZO0FBQ3ZDLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGtDQUFDLDJCQUEyQixrQ0FBQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQ0FBQztBQUNsQjtBQUNBLElBQUk7QUFDSixpQkFBaUIsa0NBQUM7QUFDbEI7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLGtDQUFDO0FBQ2xCO0FBQ0EsSUFBSTtBQUNKLGlCQUFpQixrQ0FBQztBQUNsQjtBQUNBLElBQUk7QUFDSjtBQUNBLGlCQUFpQixrQ0FBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLUpQMk00VTRHLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvanNvbi1zY2hlbWEudHNcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5mdW5jdGlvbiBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hKGFjdGlvblBhcmFtZXRlcnMpIHtcbiAgbGV0IHBhcmFtZXRlcnMgPSB7fTtcbiAgZm9yIChsZXQgcGFyYW1ldGVyIG9mIGFjdGlvblBhcmFtZXRlcnMgfHwgW10pIHtcbiAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlci5uYW1lXSA9IGNvbnZlcnRBdHRyaWJ1dGUocGFyYW1ldGVyKTtcbiAgfVxuICBsZXQgcmVxdWlyZWRQYXJhbWV0ZXJOYW1lcyA9IFtdO1xuICBmb3IgKGxldCBhcmcgb2YgYWN0aW9uUGFyYW1ldGVycyB8fCBbXSkge1xuICAgIGlmIChhcmcucmVxdWlyZWQgIT09IGZhbHNlKSB7XG4gICAgICByZXF1aXJlZFBhcmFtZXRlck5hbWVzLnB1c2goYXJnLm5hbWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgcHJvcGVydGllczogcGFyYW1ldGVycyxcbiAgICByZXF1aXJlZDogcmVxdWlyZWRQYXJhbWV0ZXJOYW1lc1xuICB9O1xufVxuZnVuY3Rpb24gY29udmVydEF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIHN3aXRjaCAoYXR0cmlidXRlLnR5cGUpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uLFxuICAgICAgICAuLi5hdHRyaWJ1dGUuZW51bSAmJiB7IGVudW06IGF0dHJpYnV0ZS5lbnVtIH1cbiAgICAgIH07XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBhdHRyaWJ1dGUudHlwZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgfTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgY2FzZSBcIm9iamVjdFtdXCI6XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gKF9hID0gYXR0cmlidXRlLmF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWR1Y2UoXG4gICAgICAgIChhY2MsIGF0dHIpID0+IHtcbiAgICAgICAgICBhY2NbYXR0ci5uYW1lXSA9IGNvbnZlcnRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgICk7XG4gICAgICBjb25zdCByZXF1aXJlZCA9IChfYiA9IGF0dHJpYnV0ZS5hdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZmlsdGVyKChhdHRyKSA9PiBhdHRyLnJlcXVpcmVkICE9PSBmYWxzZSkubWFwKChhdHRyKSA9PiBhdHRyLm5hbWUpO1xuICAgICAgaWYgKGF0dHJpYnV0ZS50eXBlID09PSBcIm9iamVjdFtdXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzICYmIHsgcHJvcGVydGllcyB9LFxuICAgICAgICAgICAgLi4ucmVxdWlyZWQgJiYgcmVxdWlyZWQubGVuZ3RoID4gMCAmJiB7IHJlcXVpcmVkIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb24sXG4gICAgICAgIC4uLnByb3BlcnRpZXMgJiYgeyBwcm9wZXJ0aWVzIH0sXG4gICAgICAgIC4uLnJlcXVpcmVkICYmIHJlcXVpcmVkLmxlbmd0aCA+IDAgJiYgeyByZXF1aXJlZCB9XG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoKF9jID0gYXR0cmlidXRlLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYy5lbmRzV2l0aChcIltdXCIpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UeXBlID0gYXR0cmlidXRlLnR5cGUuc2xpY2UoMCwgLTIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczogeyB0eXBlOiBpdGVtVHlwZSB9LFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoanNvblNjaGVtYSwgcmVxdWlyZWQpIHtcbiAgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICBpZiAoIWpzb25TY2hlbWEucHJvcGVydGllcyB8fCAhT2JqZWN0LmtleXMoanNvblNjaGVtYS5wcm9wZXJ0aWVzKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAhcmVxdWlyZWQgPyB6Lm9iamVjdChzcGVjKS5vcHRpb25hbCgpIDogei5vYmplY3Qoc3BlYyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGpzb25TY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgIHNwZWNba2V5XSA9IGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBqc29uU2NoZW1hLnJlcXVpcmVkID8ganNvblNjaGVtYS5yZXF1aXJlZC5pbmNsdWRlcyhrZXkpIDogZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBzY2hlbWEgPSB6Lm9iamVjdChzcGVjKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gcmVxdWlyZWQgPyBzY2hlbWEgOiBzY2hlbWEub3B0aW9uYWwoKTtcbiAgfSBlbHNlIGlmIChqc29uU2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgc2NoZW1hID0gei5zdHJpbmcoKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gcmVxdWlyZWQgPyBzY2hlbWEgOiBzY2hlbWEub3B0aW9uYWwoKTtcbiAgfSBlbHNlIGlmIChqc29uU2NoZW1hLnR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICBsZXQgc2NoZW1hID0gei5udW1iZXIoKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gcmVxdWlyZWQgPyBzY2hlbWEgOiBzY2hlbWEub3B0aW9uYWwoKTtcbiAgfSBlbHNlIGlmIChqc29uU2NoZW1hLnR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgbGV0IHNjaGVtYSA9IHouYm9vbGVhbigpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgbGV0IGl0ZW1TY2hlbWEgPSBjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hKGpzb25TY2hlbWEuaXRlbXMsIHRydWUpO1xuICAgIGxldCBzY2hlbWEgPSB6LmFycmF5KGl0ZW1TY2hlbWEpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSlNPTiBzY2hlbWFcIik7XG59XG5cbmV4cG9ydCB7XG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEsXG4gIGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1KUDJNNFU0Ry5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-JP2M4U4G.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   randomId: () => (/* binding */ randomId)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n// src/utils/random-id.ts\n\nfunction randomId() {\n  return \"ck-\" + (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\n\n\n//# sourceMappingURL=chunk-RIPX6APP.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9jaHVuay1SSVBYNkFQUC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNvQztBQUNwQztBQUNBLGlCQUFpQixnREFBTTtBQUN2Qjs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLVJJUFg2QVBQLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvcmFuZG9tLWlkLnRzXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBcImNrLVwiICsgdXVpZHY0KCk7XG59XG5cbmV4cG9ydCB7XG4gIHJhbmRvbUlkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUklQWDZBUFAubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@copilotkit/react-core/node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@urql/core/dist/urql-core-chunk.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core-chunk.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ CombinedError),\n/* harmony export */   a: () => (/* binding */ makeFetchBody),\n/* harmony export */   b: () => (/* binding */ makeErrorResult),\n/* harmony export */   c: () => (/* binding */ mergeResultPatch),\n/* harmony export */   d: () => (/* binding */ makeFetchURL),\n/* harmony export */   e: () => (/* binding */ makeFetchOptions),\n/* harmony export */   f: () => (/* binding */ makeFetchSource),\n/* harmony export */   g: () => (/* binding */ getOperationType),\n/* harmony export */   h: () => (/* binding */ createRequest),\n/* harmony export */   i: () => (/* binding */ stringifyVariables),\n/* harmony export */   k: () => (/* binding */ keyDocument),\n/* harmony export */   m: () => (/* binding */ makeResult),\n/* harmony export */   s: () => (/* binding */ stringifyDocument)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(app-pages-browser)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(app-pages-browser)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\nvar rehydrateGraphQlError = r => {\n  if (r && \"string\" == typeof r.message && (r.extensions || \"GraphQLError\" === r.name)) {\n    return r;\n  } else if (\"object\" == typeof r && \"string\" == typeof r.message) {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r.message, r.nodes, r.source, r.positions, r.path, r, r.extensions || {});\n  } else {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r);\n  }\n};\n\nclass CombinedError extends Error {\n  constructor(e) {\n    var r = (e.graphQLErrors || []).map(rehydrateGraphQlError);\n    var t = ((e, r) => {\n      var t = \"\";\n      if (e) {\n        return `[Network] ${e.message}`;\n      }\n      if (r) {\n        for (var a = 0, n = r.length; a < n; a++) {\n          if (t) {\n            t += \"\\n\";\n          }\n          t += `[GraphQL] ${r[a].message}`;\n        }\n      }\n      return t;\n    })(e.networkError, r);\n    super(t);\n    this.name = \"CombinedError\";\n    this.message = t;\n    this.graphQLErrors = r;\n    this.networkError = e.networkError;\n    this.response = e.response;\n  }\n  toString() {\n    return this.message;\n  }\n}\n\nvar phash = (e, r) => {\n  var t = 0 | (r || 5381);\n  for (var a = 0, n = 0 | e.length; a < n; a++) {\n    t = (t << 5) + t + e.charCodeAt(a);\n  }\n  return t;\n};\n\nvar s = new Set;\n\nvar f = new WeakMap;\n\nvar stringify = (e, r) => {\n  if (null === e || s.has(e)) {\n    return \"null\";\n  } else if (\"object\" != typeof e) {\n    return JSON.stringify(e) || \"\";\n  } else if (e.toJSON) {\n    return stringify(e.toJSON(), r);\n  } else if (Array.isArray(e)) {\n    var t = \"[\";\n    for (var a = 0, n = e.length; a < n; a++) {\n      if (t.length > 1) {\n        t += \",\";\n      }\n      t += stringify(e[a], r) || \"null\";\n    }\n    return t += \"]\";\n  } else if (!r && (l !== NoopConstructor && e instanceof l || d !== NoopConstructor && e instanceof d)) {\n    return \"null\";\n  }\n  var o = Object.keys(e).sort();\n  if (!o.length && e.constructor && Object.getPrototypeOf(e).constructor !== Object.prototype.constructor) {\n    var i = f.get(e) || Math.random().toString(36).slice(2);\n    f.set(e, i);\n    return stringify({\n      __key: i\n    }, r);\n  }\n  s.add(e);\n  var c = \"{\";\n  for (var v = 0, p = o.length; v < p; v++) {\n    var u = stringify(e[o[v]], r);\n    if (u) {\n      if (c.length > 1) {\n        c += \",\";\n      }\n      c += stringify(o[v], r) + \":\" + u;\n    }\n  }\n  s.delete(e);\n  return c += \"}\";\n};\n\nvar extract = (e, r, t) => {\n  if (null == t || \"object\" != typeof t || t.toJSON || s.has(t)) {} else if (Array.isArray(t)) {\n    for (var a = 0, n = t.length; a < n; a++) {\n      extract(e, `${r}.${a}`, t[a]);\n    }\n  } else if (t instanceof l || t instanceof d) {\n    e.set(r, t);\n  } else {\n    s.add(t);\n    for (var o in t) {\n      extract(e, `${r}.${o}`, t[o]);\n    }\n  }\n};\n\nvar stringifyVariables = (e, r) => {\n  s.clear();\n  return stringify(e, r || !1);\n};\n\nclass NoopConstructor {}\n\nvar l = \"undefined\" != typeof File ? File : NoopConstructor;\n\nvar d = \"undefined\" != typeof Blob ? Blob : NoopConstructor;\n\nvar c = /(\"{3}[\\s\\S]*\"{3}|\"(?:\\\\.|[^\"])*\")/g;\n\nvar v = /(?:#[^\\n\\r]+)?(?:[\\r\\n]+|$)/g;\n\nvar replaceOutsideStrings = (e, r) => r % 2 == 0 ? e.replace(v, \"\\n\") : e;\n\nvar sanitizeDocument = e => e.split(c).map(replaceOutsideStrings).join(\"\").trim();\n\nvar p = new Map;\n\nvar u = new Map;\n\nvar stringifyDocument = e => {\n  var t;\n  if (\"string\" == typeof e) {\n    t = sanitizeDocument(e);\n  } else if (e.loc && u.get(e.__key) === e) {\n    t = e.loc.source.body;\n  } else {\n    t = p.get(e) || sanitizeDocument((0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.print)(e));\n    p.set(e, t);\n  }\n  if (\"string\" != typeof e && !e.loc) {\n    e.loc = {\n      start: 0,\n      end: t.length,\n      source: {\n        body: t,\n        name: \"gql\",\n        locationOffset: {\n          line: 1,\n          column: 1\n        }\n      }\n    };\n  }\n  return t;\n};\n\nvar hashDocument = e => {\n  var r;\n  if (e.documentId) {\n    r = phash(e.documentId);\n  } else {\n    r = phash(stringifyDocument(e));\n    if (e.definitions) {\n      var t = getOperationName(e);\n      if (t) {\n        r = phash(`\\n# ${t}`, r);\n      }\n    }\n  }\n  return r;\n};\n\nvar keyDocument = e => {\n  var r;\n  var a;\n  if (\"string\" == typeof e) {\n    r = hashDocument(e);\n    a = u.get(r) || (0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.parse)(e, {\n      noLocation: !0\n    });\n  } else {\n    r = e.__key || hashDocument(e);\n    a = u.get(r) || e;\n  }\n  if (!a.loc) {\n    stringifyDocument(a);\n  }\n  a.__key = r;\n  u.set(r, a);\n  return a;\n};\n\nvar createRequest = (e, r, t) => {\n  var a = r || {};\n  var n = keyDocument(e);\n  var o = stringifyVariables(a, !0);\n  var i = n.__key;\n  if (\"{}\" !== o) {\n    i = phash(o, i);\n  }\n  return {\n    key: i,\n    query: n,\n    variables: a,\n    extensions: t\n  };\n};\n\nvar getOperationName = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.name ? n.name.value : void 0;\n    }\n  }\n};\n\nvar getOperationType = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.operation;\n    }\n  }\n};\n\nvar makeResult = (e, r, t) => {\n  if (!(\"data\" in r || \"errors\" in r && Array.isArray(r.errors))) {\n    throw new Error(\"No Content\");\n  }\n  var a = \"subscription\" === e.kind;\n  return {\n    operation: e,\n    data: r.data,\n    error: Array.isArray(r.errors) ? new CombinedError({\n      graphQLErrors: r.errors,\n      response: t\n    }) : void 0,\n    extensions: r.extensions ? {\n      ...r.extensions\n    } : void 0,\n    hasNext: null == r.hasNext ? a : r.hasNext,\n    stale: !1\n  };\n};\n\nvar deepMerge = (e, r) => {\n  if (\"object\" == typeof e && null != e) {\n    if (Array.isArray(e)) {\n      e = [ ...e ];\n      for (var t = 0, a = r.length; t < a; t++) {\n        e[t] = deepMerge(e[t], r[t]);\n      }\n      return e;\n    }\n    if (!e.constructor || e.constructor === Object) {\n      e = {\n        ...e\n      };\n      for (var n in r) {\n        e[n] = deepMerge(e[n], r[n]);\n      }\n      return e;\n    }\n  }\n  return r;\n};\n\nvar mergeResultPatch = (e, r, t, a) => {\n  var n = e.error ? e.error.graphQLErrors : [];\n  var o = !!e.extensions || !!(r.payload || r).extensions;\n  var i = {\n    ...e.extensions,\n    ...(r.payload || r).extensions\n  };\n  var s = r.incremental;\n  if (\"path\" in r) {\n    s = [ r ];\n  }\n  var f = {\n    data: e.data\n  };\n  if (s) {\n    var _loop = function() {\n      var e = s[l];\n      if (Array.isArray(e.errors)) {\n        n.push(...e.errors);\n      }\n      if (e.extensions) {\n        Object.assign(i, e.extensions);\n        o = !0;\n      }\n      var r = \"data\";\n      var t = f;\n      var d = [];\n      if (e.path) {\n        d = e.path;\n      } else if (a) {\n        var c = a.find((r => r.id === e.id));\n        if (e.subPath) {\n          d = [ ...c.path, ...e.subPath ];\n        } else {\n          d = c.path;\n        }\n      }\n      for (var v = 0, p = d.length; v < p; r = d[v++]) {\n        t = t[r] = Array.isArray(t[r]) ? [ ...t[r] ] : {\n          ...t[r]\n        };\n      }\n      if (e.items) {\n        var u = +r >= 0 ? r : 0;\n        for (var y = 0, h = e.items.length; y < h; y++) {\n          t[u + y] = deepMerge(t[u + y], e.items[y]);\n        }\n      } else if (void 0 !== e.data) {\n        t[r] = deepMerge(t[r], e.data);\n      }\n    };\n    for (var l = 0, d = s.length; l < d; l++) {\n      _loop();\n    }\n  } else {\n    f.data = (r.payload || r).data || e.data;\n    n = r.errors || r.payload && r.payload.errors || n;\n  }\n  return {\n    operation: e.operation,\n    data: f.data,\n    error: n.length ? new CombinedError({\n      graphQLErrors: n,\n      response: t\n    }) : void 0,\n    extensions: o ? i : void 0,\n    hasNext: null != r.hasNext ? r.hasNext : e.hasNext,\n    stale: !1\n  };\n};\n\nvar makeErrorResult = (e, r, t) => ({\n  operation: e,\n  data: void 0,\n  error: new CombinedError({\n    networkError: r,\n    response: t\n  }),\n  extensions: void 0,\n  hasNext: !1,\n  stale: !1\n});\n\nfunction makeFetchBody(e) {\n  var r = {\n    query: void 0,\n    documentId: void 0,\n    operationName: getOperationName(e.query),\n    variables: e.variables || void 0,\n    extensions: e.extensions\n  };\n  if (\"documentId\" in e.query && e.query.documentId && (!e.query.definitions || !e.query.definitions.length)) {\n    r.documentId = e.query.documentId;\n  } else if (!e.extensions || !e.extensions.persistedQuery || e.extensions.persistedQuery.miss) {\n    r.query = stringifyDocument(e.query);\n  }\n  return r;\n}\n\nvar makeFetchURL = (e, r) => {\n  var t = \"query\" === e.kind && e.context.preferGetMethod;\n  if (!t || !r) {\n    return e.context.url;\n  }\n  var a = splitOutSearchParams(e.context.url);\n  for (var n in r) {\n    var o = r[n];\n    if (o) {\n      a[1].set(n, \"object\" == typeof o ? stringifyVariables(o) : o);\n    }\n  }\n  var i = a.join(\"?\");\n  if (i.length > 2047 && \"force\" !== t) {\n    e.context.preferGetMethod = !1;\n    return e.context.url;\n  }\n  return i;\n};\n\nvar splitOutSearchParams = e => {\n  var r = e.indexOf(\"?\");\n  return r > -1 ? [ e.slice(0, r), new URLSearchParams(e.slice(r + 1)) ] : [ e, new URLSearchParams ];\n};\n\nvar serializeBody = (e, r) => {\n  if (r && !(\"query\" === e.kind && !!e.context.preferGetMethod)) {\n    var t = stringifyVariables(r);\n    var a = (e => {\n      var r = new Map;\n      if (l !== NoopConstructor || d !== NoopConstructor) {\n        s.clear();\n        extract(r, \"variables\", e);\n      }\n      return r;\n    })(r.variables);\n    if (a.size) {\n      var n = new FormData;\n      n.append(\"operations\", t);\n      n.append(\"map\", stringifyVariables({\n        ...[ ...a.keys() ].map((e => [ e ]))\n      }));\n      var o = 0;\n      for (var i of a.values()) {\n        n.append(\"\" + o++, i);\n      }\n      return n;\n    }\n    return t;\n  }\n};\n\nvar makeFetchOptions = (e, r) => {\n  var t = {\n    accept: \"subscription\" === e.kind ? \"text/event-stream, multipart/mixed\" : \"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed\"\n  };\n  var a = (\"function\" == typeof e.context.fetchOptions ? e.context.fetchOptions() : e.context.fetchOptions) || {};\n  if (a.headers) {\n    if ((e => \"has\" in e && !Object.keys(e).length)(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        t[r] = e;\n      }));\n    } else if (Array.isArray(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        if (Array.isArray(e)) {\n          if (t[e[0]]) {\n            t[e[0]] = `${t[e[0]]},${e[1]}`;\n          } else {\n            t[e[0]] = e[1];\n          }\n        } else {\n          t[r] = e;\n        }\n      }));\n    } else {\n      for (var n in a.headers) {\n        t[n.toLowerCase()] = a.headers[n];\n      }\n    }\n  }\n  var o = serializeBody(e, r);\n  if (\"string\" == typeof o && !t[\"content-type\"]) {\n    t[\"content-type\"] = \"application/json\";\n  }\n  return {\n    ...a,\n    method: o ? \"POST\" : \"GET\",\n    body: o,\n    headers: t\n  };\n};\n\nvar y = \"undefined\" != typeof TextDecoder ? new TextDecoder : null;\n\nvar h = /boundary=\"?([^=\";]+)\"?/i;\n\nvar m = /data: ?([^\\n]+)/;\n\nvar toString = e => \"Buffer\" === e.constructor.name ? e.toString() : y.decode(e);\n\nasync function* streamBody(e) {\n  if (e.body[Symbol.asyncIterator]) {\n    for await (var r of e.body) {\n      yield toString(r);\n    }\n  } else {\n    var t = e.body.getReader();\n    var a;\n    try {\n      while (!(a = await t.read()).done) {\n        yield toString(a.value);\n      }\n    } finally {\n      t.cancel();\n    }\n  }\n}\n\nasync function* split(e, r) {\n  var t = \"\";\n  var a;\n  for await (var n of e) {\n    t += n;\n    while ((a = t.indexOf(r)) > -1) {\n      yield t.slice(0, a);\n      t = t.slice(a + r.length);\n    }\n  }\n}\n\nasync function* fetchOperation(e, r, t) {\n  var a = !0;\n  var n = null;\n  var o;\n  try {\n    yield await Promise.resolve();\n    var i = (o = await (e.context.fetch || fetch)(r, t)).headers.get(\"Content-Type\") || \"\";\n    var s;\n    if (/multipart\\/mixed/i.test(i)) {\n      s = async function* parseMultipartMixed(e, r) {\n        var t = e.match(h);\n        var a = \"--\" + (t ? t[1] : \"-\");\n        var n = !0;\n        var o;\n        for await (var i of split(streamBody(r), \"\\r\\n\" + a)) {\n          if (n) {\n            n = !1;\n            var s = i.indexOf(a);\n            if (s > -1) {\n              i = i.slice(s + a.length);\n            } else {\n              continue;\n            }\n          }\n          try {\n            yield o = JSON.parse(i.slice(i.indexOf(\"\\r\\n\\r\\n\") + 4));\n          } catch (e) {\n            if (!o) {\n              throw e;\n            }\n          }\n          if (o && !1 === o.hasNext) {\n            break;\n          }\n        }\n        if (o && !1 !== o.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(i, o);\n    } else if (/text\\/event-stream/i.test(i)) {\n      s = async function* parseEventStream(e) {\n        var r;\n        for await (var t of split(streamBody(e), \"\\n\\n\")) {\n          var a = t.match(m);\n          if (a) {\n            var n = a[1];\n            try {\n              yield r = JSON.parse(n);\n            } catch (e) {\n              if (!r) {\n                throw e;\n              }\n            }\n            if (r && !1 === r.hasNext) {\n              break;\n            }\n          }\n        }\n        if (r && !1 !== r.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(o);\n    } else if (!/text\\//i.test(i)) {\n      s = async function* parseJSON(e) {\n        yield JSON.parse(await e.text());\n      }(o);\n    } else {\n      s = async function* parseMaybeJSON(e) {\n        var r = await e.text();\n        try {\n          var t = JSON.parse(r);\n          if (true) {\n            console.warn('Found response with content-type \"text/plain\" but it had a valid \"application/json\" response.');\n          }\n          yield t;\n        } catch (e) {\n          throw new Error(r);\n        }\n      }(o);\n    }\n    var f;\n    for await (var l of s) {\n      if (l.pending && !n) {\n        f = l.pending;\n      } else if (l.pending) {\n        f = [ ...f, ...l.pending ];\n      }\n      n = n ? mergeResultPatch(n, l, o, f) : makeResult(e, l, o);\n      a = !1;\n      yield n;\n      a = !0;\n    }\n    if (!n) {\n      yield n = makeResult(e, {}, o);\n    }\n  } catch (r) {\n    if (!a) {\n      throw r;\n    }\n    yield makeErrorResult(e, o && (o.status < 200 || o.status >= 300) && o.statusText ? new Error(o.statusText) : r, o);\n  }\n}\n\nfunction makeFetchSource(e, r, t) {\n  var a;\n  if (\"undefined\" != typeof AbortController) {\n    t.signal = (a = new AbortController).signal;\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.onEnd)((() => {\n    if (a) {\n      a.abort();\n    }\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((e => !!e))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.fromAsyncIterable)(fetchOperation(e, r, t))));\n}\n\n\n//# sourceMappingURL=urql-core-chunk.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL2Rpc3QvdXJxbC1jb3JlLWNodW5rLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkY7O0FBRW5COztBQUV4RTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZUFBZSw2REFBQyx5RUFBeUU7QUFDekYsSUFBSTtBQUNKLGVBQWUsNkRBQUM7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QztBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLGtDQUFrQyxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0Esb0VBQW9FO0FBQ3BFLGtDQUFrQyxPQUFPO0FBQ3pDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtBQUMzQjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxZQUFZLEVBQUUsU0FBUyxFQUFFOztBQUV6Qjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSixxQ0FBcUMsMERBQUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLEVBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBEQUFDO0FBQ3JCO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0EsbUJBQW1CLHFEQUFDO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQ7QUFDQSxtQkFBbUIscURBQUM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQ7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFFBQVEsR0FBRyxLQUFLO0FBQ3pDLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDBCQUEwQjs7QUFFMUI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLElBQXFDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcsNkNBQUMsYUFBYSx3REFBQztBQUNyQjs7QUFFOFI7QUFDOVIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhRTEVycm9yIGFzIGUsIHByaW50IGFzIHIsIHBhcnNlIGFzIHQsIEtpbmQgYXMgYSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IG9uRW5kIGFzIG4sIGZpbHRlciBhcyBvLCBmcm9tQXN5bmNJdGVyYWJsZSBhcyBpIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciByZWh5ZHJhdGVHcmFwaFFsRXJyb3IgPSByID0+IHtcbiAgaWYgKHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlICYmIChyLmV4dGVuc2lvbnMgfHwgXCJHcmFwaFFMRXJyb3JcIiA9PT0gci5uYW1lKSkge1xuICAgIHJldHVybiByO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIHIgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBlKHIubWVzc2FnZSwgci5ub2Rlcywgci5zb3VyY2UsIHIucG9zaXRpb25zLCByLnBhdGgsIHIsIHIuZXh0ZW5zaW9ucyB8fCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBlKHIpO1xuICB9XG59O1xuXG5jbGFzcyBDb21iaW5lZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHIgPSAoZS5ncmFwaFFMRXJyb3JzIHx8IFtdKS5tYXAocmVoeWRyYXRlR3JhcGhRbEVycm9yKTtcbiAgICB2YXIgdCA9ICgoZSwgcikgPT4ge1xuICAgICAgdmFyIHQgPSBcIlwiO1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgcmV0dXJuIGBbTmV0d29ya10gJHtlLm1lc3NhZ2V9YDtcbiAgICAgIH1cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGZvciAodmFyIGEgPSAwLCBuID0gci5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgdCArPSBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ICs9IGBbR3JhcGhRTF0gJHtyW2FdLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkoZS5uZXR3b3JrRXJyb3IsIHIpO1xuICAgIHN1cGVyKHQpO1xuICAgIHRoaXMubmFtZSA9IFwiQ29tYmluZWRFcnJvclwiO1xuICAgIHRoaXMubWVzc2FnZSA9IHQ7XG4gICAgdGhpcy5ncmFwaFFMRXJyb3JzID0gcjtcbiAgICB0aGlzLm5ldHdvcmtFcnJvciA9IGUubmV0d29ya0Vycm9yO1xuICAgIHRoaXMucmVzcG9uc2UgPSBlLnJlc3BvbnNlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gIH1cbn1cblxudmFyIHBoYXNoID0gKGUsIHIpID0+IHtcbiAgdmFyIHQgPSAwIHwgKHIgfHwgNTM4MSk7XG4gIGZvciAodmFyIGEgPSAwLCBuID0gMCB8IGUubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgdCA9ICh0IDw8IDUpICsgdCArIGUuY2hhckNvZGVBdChhKTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5cbnZhciBzID0gbmV3IFNldDtcblxudmFyIGYgPSBuZXcgV2Vha01hcDtcblxudmFyIHN0cmluZ2lmeSA9IChlLCByKSA9PiB7XG4gIGlmIChudWxsID09PSBlIHx8IHMuaGFzKGUpKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkgfHwgXCJcIjtcbiAgfSBlbHNlIGlmIChlLnRvSlNPTikge1xuICAgIHJldHVybiBzdHJpbmdpZnkoZS50b0pTT04oKSwgcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIHZhciB0ID0gXCJbXCI7XG4gICAgZm9yICh2YXIgYSA9IDAsIG4gPSBlLmxlbmd0aDsgYSA8IG47IGErKykge1xuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICB0ICs9IFwiLFwiO1xuICAgICAgfVxuICAgICAgdCArPSBzdHJpbmdpZnkoZVthXSwgcikgfHwgXCJudWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB0ICs9IFwiXVwiO1xuICB9IGVsc2UgaWYgKCFyICYmIChsICE9PSBOb29wQ29uc3RydWN0b3IgJiYgZSBpbnN0YW5jZW9mIGwgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yICYmIGUgaW5zdGFuY2VvZiBkKSkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICB2YXIgbyA9IE9iamVjdC5rZXlzKGUpLnNvcnQoKTtcbiAgaWYgKCFvLmxlbmd0aCAmJiBlLmNvbnN0cnVjdG9yICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgIHZhciBpID0gZi5nZXQoZSkgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgZi5zZXQoZSwgaSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh7XG4gICAgICBfX2tleTogaVxuICAgIH0sIHIpO1xuICB9XG4gIHMuYWRkKGUpO1xuICB2YXIgYyA9IFwie1wiO1xuICBmb3IgKHZhciB2ID0gMCwgcCA9IG8ubGVuZ3RoOyB2IDwgcDsgdisrKSB7XG4gICAgdmFyIHUgPSBzdHJpbmdpZnkoZVtvW3ZdXSwgcik7XG4gICAgaWYgKHUpIHtcbiAgICAgIGlmIChjLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYyArPSBcIixcIjtcbiAgICAgIH1cbiAgICAgIGMgKz0gc3RyaW5naWZ5KG9bdl0sIHIpICsgXCI6XCIgKyB1O1xuICAgIH1cbiAgfVxuICBzLmRlbGV0ZShlKTtcbiAgcmV0dXJuIGMgKz0gXCJ9XCI7XG59O1xuXG52YXIgZXh0cmFjdCA9IChlLCByLCB0KSA9PiB7XG4gIGlmIChudWxsID09IHQgfHwgXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCB0LnRvSlNPTiB8fCBzLmhhcyh0KSkge30gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgIGZvciAodmFyIGEgPSAwLCBuID0gdC5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgIGV4dHJhY3QoZSwgYCR7cn0uJHthfWAsIHRbYV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0IGluc3RhbmNlb2YgbCB8fCB0IGluc3RhbmNlb2YgZCkge1xuICAgIGUuc2V0KHIsIHQpO1xuICB9IGVsc2Uge1xuICAgIHMuYWRkKHQpO1xuICAgIGZvciAodmFyIG8gaW4gdCkge1xuICAgICAgZXh0cmFjdChlLCBgJHtyfS4ke299YCwgdFtvXSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgc3RyaW5naWZ5VmFyaWFibGVzID0gKGUsIHIpID0+IHtcbiAgcy5jbGVhcigpO1xuICByZXR1cm4gc3RyaW5naWZ5KGUsIHIgfHwgITEpO1xufTtcblxuY2xhc3MgTm9vcENvbnN0cnVjdG9yIHt9XG5cbnZhciBsID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgRmlsZSA/IEZpbGUgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBkID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQmxvYiA/IEJsb2IgOiBOb29wQ29uc3RydWN0b3I7XG5cbnZhciBjID0gLyhcInszfVtcXHNcXFNdKlwiezN9fFwiKD86XFxcXC58W15cIl0pKlwiKS9nO1xuXG52YXIgdiA9IC8oPzojW15cXG5cXHJdKyk/KD86W1xcclxcbl0rfCQpL2c7XG5cbnZhciByZXBsYWNlT3V0c2lkZVN0cmluZ3MgPSAoZSwgcikgPT4gciAlIDIgPT0gMCA/IGUucmVwbGFjZSh2LCBcIlxcblwiKSA6IGU7XG5cbnZhciBzYW5pdGl6ZURvY3VtZW50ID0gZSA9PiBlLnNwbGl0KGMpLm1hcChyZXBsYWNlT3V0c2lkZVN0cmluZ3MpLmpvaW4oXCJcIikudHJpbSgpO1xuXG52YXIgcCA9IG5ldyBNYXA7XG5cbnZhciB1ID0gbmV3IE1hcDtcblxudmFyIHN0cmluZ2lmeURvY3VtZW50ID0gZSA9PiB7XG4gIHZhciB0O1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHQgPSBzYW5pdGl6ZURvY3VtZW50KGUpO1xuICB9IGVsc2UgaWYgKGUubG9jICYmIHUuZ2V0KGUuX19rZXkpID09PSBlKSB7XG4gICAgdCA9IGUubG9jLnNvdXJjZS5ib2R5O1xuICB9IGVsc2Uge1xuICAgIHQgPSBwLmdldChlKSB8fCBzYW5pdGl6ZURvY3VtZW50KHIoZSkpO1xuICAgIHAuc2V0KGUsIHQpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlICYmICFlLmxvYykge1xuICAgIGUubG9jID0ge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IHQubGVuZ3RoLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGJvZHk6IHQsXG4gICAgICAgIG5hbWU6IFwiZ3FsXCIsXG4gICAgICAgIGxvY2F0aW9uT2Zmc2V0OiB7XG4gICAgICAgICAgbGluZTogMSxcbiAgICAgICAgICBjb2x1bW46IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgaGFzaERvY3VtZW50ID0gZSA9PiB7XG4gIHZhciByO1xuICBpZiAoZS5kb2N1bWVudElkKSB7XG4gICAgciA9IHBoYXNoKGUuZG9jdW1lbnRJZCk7XG4gIH0gZWxzZSB7XG4gICAgciA9IHBoYXNoKHN0cmluZ2lmeURvY3VtZW50KGUpKTtcbiAgICBpZiAoZS5kZWZpbml0aW9ucykge1xuICAgICAgdmFyIHQgPSBnZXRPcGVyYXRpb25OYW1lKGUpO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgciA9IHBoYXNoKGBcXG4jICR7dH1gLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIga2V5RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHI7XG4gIHZhciBhO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgIHIgPSBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IHQoZSwge1xuICAgICAgbm9Mb2NhdGlvbjogITBcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByID0gZS5fX2tleSB8fCBoYXNoRG9jdW1lbnQoZSk7XG4gICAgYSA9IHUuZ2V0KHIpIHx8IGU7XG4gIH1cbiAgaWYgKCFhLmxvYykge1xuICAgIHN0cmluZ2lmeURvY3VtZW50KGEpO1xuICB9XG4gIGEuX19rZXkgPSByO1xuICB1LnNldChyLCBhKTtcbiAgcmV0dXJuIGE7XG59O1xuXG52YXIgY3JlYXRlUmVxdWVzdCA9IChlLCByLCB0KSA9PiB7XG4gIHZhciBhID0gciB8fCB7fTtcbiAgdmFyIG4gPSBrZXlEb2N1bWVudChlKTtcbiAgdmFyIG8gPSBzdHJpbmdpZnlWYXJpYWJsZXMoYSwgITApO1xuICB2YXIgaSA9IG4uX19rZXk7XG4gIGlmIChcInt9XCIgIT09IG8pIHtcbiAgICBpID0gcGhhc2gobywgaSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGksXG4gICAgcXVlcnk6IG4sXG4gICAgdmFyaWFibGVzOiBhLFxuICAgIGV4dGVuc2lvbnM6IHRcbiAgfTtcbn07XG5cbnZhciBnZXRPcGVyYXRpb25OYW1lID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ubmFtZSA/IG4ubmFtZS52YWx1ZSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBnZXRPcGVyYXRpb25UeXBlID0gZSA9PiB7XG4gIGZvciAodmFyIHIgPSAwLCB0ID0gZS5kZWZpbml0aW9ucy5sZW5ndGg7IHIgPCB0OyByKyspIHtcbiAgICB2YXIgbiA9IGUuZGVmaW5pdGlvbnNbcl07XG4gICAgaWYgKG4ua2luZCA9PT0gYS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIG4ub3BlcmF0aW9uO1xuICAgIH1cbiAgfVxufTtcblxudmFyIG1ha2VSZXN1bHQgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAoIShcImRhdGFcIiBpbiByIHx8IFwiZXJyb3JzXCIgaW4gciAmJiBBcnJheS5pc0FycmF5KHIuZXJyb3JzKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBDb250ZW50XCIpO1xuICB9XG4gIHZhciBhID0gXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kO1xuICByZXR1cm4ge1xuICAgIG9wZXJhdGlvbjogZSxcbiAgICBkYXRhOiByLmRhdGEsXG4gICAgZXJyb3I6IEFycmF5LmlzQXJyYXkoci5lcnJvcnMpID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogci5lcnJvcnMsXG4gICAgICByZXNwb25zZTogdFxuICAgIH0pIDogdm9pZCAwLFxuICAgIGV4dGVuc2lvbnM6IHIuZXh0ZW5zaW9ucyA/IHtcbiAgICAgIC4uLnIuZXh0ZW5zaW9uc1xuICAgIH0gOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCA9PSByLmhhc05leHQgPyBhIDogci5oYXNOZXh0LFxuICAgIHN0YWxlOiAhMVxuICB9O1xufTtcblxudmFyIGRlZXBNZXJnZSA9IChlLCByKSA9PiB7XG4gIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT0gZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBlID0gWyAuLi5lIF07XG4gICAgICBmb3IgKHZhciB0ID0gMCwgYSA9IHIubGVuZ3RoOyB0IDwgYTsgdCsrKSB7XG4gICAgICAgIGVbdF0gPSBkZWVwTWVyZ2UoZVt0XSwgclt0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgaWYgKCFlLmNvbnN0cnVjdG9yIHx8IGUuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgZSA9IHtcbiAgICAgICAgLi4uZVxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIG4gaW4gcikge1xuICAgICAgICBlW25dID0gZGVlcE1lcmdlKGVbbl0sIHJbbl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIG1lcmdlUmVzdWx0UGF0Y2ggPSAoZSwgciwgdCwgYSkgPT4ge1xuICB2YXIgbiA9IGUuZXJyb3IgPyBlLmVycm9yLmdyYXBoUUxFcnJvcnMgOiBbXTtcbiAgdmFyIG8gPSAhIWUuZXh0ZW5zaW9ucyB8fCAhIShyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9ucztcbiAgdmFyIGkgPSB7XG4gICAgLi4uZS5leHRlbnNpb25zLFxuICAgIC4uLihyLnBheWxvYWQgfHwgcikuZXh0ZW5zaW9uc1xuICB9O1xuICB2YXIgcyA9IHIuaW5jcmVtZW50YWw7XG4gIGlmIChcInBhdGhcIiBpbiByKSB7XG4gICAgcyA9IFsgciBdO1xuICB9XG4gIHZhciBmID0ge1xuICAgIGRhdGE6IGUuZGF0YVxuICB9O1xuICBpZiAocykge1xuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUgPSBzW2xdO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5lcnJvcnMpKSB7XG4gICAgICAgIG4ucHVzaCguLi5lLmVycm9ycyk7XG4gICAgICB9XG4gICAgICBpZiAoZS5leHRlbnNpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaSwgZS5leHRlbnNpb25zKTtcbiAgICAgICAgbyA9ICEwO1xuICAgICAgfVxuICAgICAgdmFyIHIgPSBcImRhdGFcIjtcbiAgICAgIHZhciB0ID0gZjtcbiAgICAgIHZhciBkID0gW107XG4gICAgICBpZiAoZS5wYXRoKSB7XG4gICAgICAgIGQgPSBlLnBhdGg7XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgdmFyIGMgPSBhLmZpbmQoKHIgPT4gci5pZCA9PT0gZS5pZCkpO1xuICAgICAgICBpZiAoZS5zdWJQYXRoKSB7XG4gICAgICAgICAgZCA9IFsgLi4uYy5wYXRoLCAuLi5lLnN1YlBhdGggXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkID0gYy5wYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB2ID0gMCwgcCA9IGQubGVuZ3RoOyB2IDwgcDsgciA9IGRbdisrXSkge1xuICAgICAgICB0ID0gdFtyXSA9IEFycmF5LmlzQXJyYXkodFtyXSkgPyBbIC4uLnRbcl0gXSA6IHtcbiAgICAgICAgICAuLi50W3JdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZS5pdGVtcykge1xuICAgICAgICB2YXIgdSA9ICtyID49IDAgPyByIDogMDtcbiAgICAgICAgZm9yICh2YXIgeSA9IDAsIGggPSBlLml0ZW1zLmxlbmd0aDsgeSA8IGg7IHkrKykge1xuICAgICAgICAgIHRbdSArIHldID0gZGVlcE1lcmdlKHRbdSArIHldLCBlLml0ZW1zW3ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICB0W3JdID0gZGVlcE1lcmdlKHRbcl0sIGUuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKHZhciBsID0gMCwgZCA9IHMubGVuZ3RoOyBsIDwgZDsgbCsrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmLmRhdGEgPSAoci5wYXlsb2FkIHx8IHIpLmRhdGEgfHwgZS5kYXRhO1xuICAgIG4gPSByLmVycm9ycyB8fCByLnBheWxvYWQgJiYgci5wYXlsb2FkLmVycm9ycyB8fCBuO1xuICB9XG4gIHJldHVybiB7XG4gICAgb3BlcmF0aW9uOiBlLm9wZXJhdGlvbixcbiAgICBkYXRhOiBmLmRhdGEsXG4gICAgZXJyb3I6IG4ubGVuZ3RoID8gbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgICAgZ3JhcGhRTEVycm9yczogbixcbiAgICAgIHJlc3BvbnNlOiB0XG4gICAgfSkgOiB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogbyA/IGkgOiB2b2lkIDAsXG4gICAgaGFzTmV4dDogbnVsbCAhPSByLmhhc05leHQgPyByLmhhc05leHQgOiBlLmhhc05leHQsXG4gICAgc3RhbGU6ICExXG4gIH07XG59O1xuXG52YXIgbWFrZUVycm9yUmVzdWx0ID0gKGUsIHIsIHQpID0+ICh7XG4gIG9wZXJhdGlvbjogZSxcbiAgZGF0YTogdm9pZCAwLFxuICBlcnJvcjogbmV3IENvbWJpbmVkRXJyb3Ioe1xuICAgIG5ldHdvcmtFcnJvcjogcixcbiAgICByZXNwb25zZTogdFxuICB9KSxcbiAgZXh0ZW5zaW9uczogdm9pZCAwLFxuICBoYXNOZXh0OiAhMSxcbiAgc3RhbGU6ICExXG59KTtcblxuZnVuY3Rpb24gbWFrZUZldGNoQm9keShlKSB7XG4gIHZhciByID0ge1xuICAgIHF1ZXJ5OiB2b2lkIDAsXG4gICAgZG9jdW1lbnRJZDogdm9pZCAwLFxuICAgIG9wZXJhdGlvbk5hbWU6IGdldE9wZXJhdGlvbk5hbWUoZS5xdWVyeSksXG4gICAgdmFyaWFibGVzOiBlLnZhcmlhYmxlcyB8fCB2b2lkIDAsXG4gICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gIH07XG4gIGlmIChcImRvY3VtZW50SWRcIiBpbiBlLnF1ZXJ5ICYmIGUucXVlcnkuZG9jdW1lbnRJZCAmJiAoIWUucXVlcnkuZGVmaW5pdGlvbnMgfHwgIWUucXVlcnkuZGVmaW5pdGlvbnMubGVuZ3RoKSkge1xuICAgIHIuZG9jdW1lbnRJZCA9IGUucXVlcnkuZG9jdW1lbnRJZDtcbiAgfSBlbHNlIGlmICghZS5leHRlbnNpb25zIHx8ICFlLmV4dGVuc2lvbnMucGVyc2lzdGVkUXVlcnkgfHwgZS5leHRlbnNpb25zLnBlcnNpc3RlZFF1ZXJ5Lm1pc3MpIHtcbiAgICByLnF1ZXJ5ID0gc3RyaW5naWZ5RG9jdW1lbnQoZS5xdWVyeSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbnZhciBtYWtlRmV0Y2hVUkwgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IFwicXVlcnlcIiA9PT0gZS5raW5kICYmIGUuY29udGV4dC5wcmVmZXJHZXRNZXRob2Q7XG4gIGlmICghdCB8fCAhcikge1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHZhciBhID0gc3BsaXRPdXRTZWFyY2hQYXJhbXMoZS5jb250ZXh0LnVybCk7XG4gIGZvciAodmFyIG4gaW4gcikge1xuICAgIHZhciBvID0gcltuXTtcbiAgICBpZiAobykge1xuICAgICAgYVsxXS5zZXQobiwgXCJvYmplY3RcIiA9PSB0eXBlb2YgbyA/IHN0cmluZ2lmeVZhcmlhYmxlcyhvKSA6IG8pO1xuICAgIH1cbiAgfVxuICB2YXIgaSA9IGEuam9pbihcIj9cIik7XG4gIGlmIChpLmxlbmd0aCA+IDIwNDcgJiYgXCJmb3JjZVwiICE9PSB0KSB7XG4gICAgZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCA9ICExO1xuICAgIHJldHVybiBlLmNvbnRleHQudXJsO1xuICB9XG4gIHJldHVybiBpO1xufTtcblxudmFyIHNwbGl0T3V0U2VhcmNoUGFyYW1zID0gZSA9PiB7XG4gIHZhciByID0gZS5pbmRleE9mKFwiP1wiKTtcbiAgcmV0dXJuIHIgPiAtMSA/IFsgZS5zbGljZSgwLCByKSwgbmV3IFVSTFNlYXJjaFBhcmFtcyhlLnNsaWNlKHIgKyAxKSkgXSA6IFsgZSwgbmV3IFVSTFNlYXJjaFBhcmFtcyBdO1xufTtcblxudmFyIHNlcmlhbGl6ZUJvZHkgPSAoZSwgcikgPT4ge1xuICBpZiAociAmJiAhKFwicXVlcnlcIiA9PT0gZS5raW5kICYmICEhZS5jb250ZXh0LnByZWZlckdldE1ldGhvZCkpIHtcbiAgICB2YXIgdCA9IHN0cmluZ2lmeVZhcmlhYmxlcyhyKTtcbiAgICB2YXIgYSA9IChlID0+IHtcbiAgICAgIHZhciByID0gbmV3IE1hcDtcbiAgICAgIGlmIChsICE9PSBOb29wQ29uc3RydWN0b3IgfHwgZCAhPT0gTm9vcENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHMuY2xlYXIoKTtcbiAgICAgICAgZXh0cmFjdChyLCBcInZhcmlhYmxlc1wiLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH0pKHIudmFyaWFibGVzKTtcbiAgICBpZiAoYS5zaXplKSB7XG4gICAgICB2YXIgbiA9IG5ldyBGb3JtRGF0YTtcbiAgICAgIG4uYXBwZW5kKFwib3BlcmF0aW9uc1wiLCB0KTtcbiAgICAgIG4uYXBwZW5kKFwibWFwXCIsIHN0cmluZ2lmeVZhcmlhYmxlcyh7XG4gICAgICAgIC4uLlsgLi4uYS5rZXlzKCkgXS5tYXAoKGUgPT4gWyBlIF0pKVxuICAgICAgfSkpO1xuICAgICAgdmFyIG8gPSAwO1xuICAgICAgZm9yICh2YXIgaSBvZiBhLnZhbHVlcygpKSB7XG4gICAgICAgIG4uYXBwZW5kKFwiXCIgKyBvKyssIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG59O1xuXG52YXIgbWFrZUZldGNoT3B0aW9ucyA9IChlLCByKSA9PiB7XG4gIHZhciB0ID0ge1xuICAgIGFjY2VwdDogXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kID8gXCJ0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCIgOiBcImFwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbiwgYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uLCBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2V2ZW50LXN0cmVhbSwgbXVsdGlwYXJ0L21peGVkXCJcbiAgfTtcbiAgdmFyIGEgPSAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmNvbnRleHQuZmV0Y2hPcHRpb25zID8gZS5jb250ZXh0LmZldGNoT3B0aW9ucygpIDogZS5jb250ZXh0LmZldGNoT3B0aW9ucykgfHwge307XG4gIGlmIChhLmhlYWRlcnMpIHtcbiAgICBpZiAoKGUgPT4gXCJoYXNcIiBpbiBlICYmICFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKGEuaGVhZGVycykpIHtcbiAgICAgIGEuaGVhZGVycy5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICB0W3JdID0gZTtcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYS5oZWFkZXJzKSkge1xuICAgICAgYS5oZWFkZXJzLmZvckVhY2goKChlLCByKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgaWYgKHRbZVswXV0pIHtcbiAgICAgICAgICAgIHRbZVswXV0gPSBgJHt0W2VbMF1dfSwke2VbMV19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdFtlWzBdXSA9IGVbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRbcl0gPSBlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIG4gaW4gYS5oZWFkZXJzKSB7XG4gICAgICAgIHRbbi50b0xvd2VyQ2FzZSgpXSA9IGEuaGVhZGVyc1tuXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIG8gPSBzZXJpYWxpemVCb2R5KGUsIHIpO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyAmJiAhdFtcImNvbnRlbnQtdHlwZVwiXSkge1xuICAgIHRbXCJjb250ZW50LXR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmEsXG4gICAgbWV0aG9kOiBvID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgIGJvZHk6IG8sXG4gICAgaGVhZGVyczogdFxuICB9O1xufTtcblxudmFyIHkgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBUZXh0RGVjb2RlciA/IG5ldyBUZXh0RGVjb2RlciA6IG51bGw7XG5cbnZhciBoID0gL2JvdW5kYXJ5PVwiPyhbXj1cIjtdKylcIj8vaTtcblxudmFyIG0gPSAvZGF0YTogPyhbXlxcbl0rKS87XG5cbnZhciB0b1N0cmluZyA9IGUgPT4gXCJCdWZmZXJcIiA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lID8gZS50b1N0cmluZygpIDogeS5kZWNvZGUoZSk7XG5cbmFzeW5jIGZ1bmN0aW9uKiBzdHJlYW1Cb2R5KGUpIHtcbiAgaWYgKGUuYm9keVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIHtcbiAgICBmb3IgYXdhaXQgKHZhciByIG9mIGUuYm9keSkge1xuICAgICAgeWllbGQgdG9TdHJpbmcocik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciB0ID0gZS5ib2R5LmdldFJlYWRlcigpO1xuICAgIHZhciBhO1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAoIShhID0gYXdhaXQgdC5yZWFkKCkpLmRvbmUpIHtcbiAgICAgICAgeWllbGQgdG9TdHJpbmcoYS52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHQuY2FuY2VsKCk7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uKiBzcGxpdChlLCByKSB7XG4gIHZhciB0ID0gXCJcIjtcbiAgdmFyIGE7XG4gIGZvciBhd2FpdCAodmFyIG4gb2YgZSkge1xuICAgIHQgKz0gbjtcbiAgICB3aGlsZSAoKGEgPSB0LmluZGV4T2YocikpID4gLTEpIHtcbiAgICAgIHlpZWxkIHQuc2xpY2UoMCwgYSk7XG4gICAgICB0ID0gdC5zbGljZShhICsgci5sZW5ndGgpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiogZmV0Y2hPcGVyYXRpb24oZSwgciwgdCkge1xuICB2YXIgYSA9ICEwO1xuICB2YXIgbiA9IG51bGw7XG4gIHZhciBvO1xuICB0cnkge1xuICAgIHlpZWxkIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHZhciBpID0gKG8gPSBhd2FpdCAoZS5jb250ZXh0LmZldGNoIHx8IGZldGNoKShyLCB0KSkuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIjtcbiAgICB2YXIgcztcbiAgICBpZiAoL211bHRpcGFydFxcL21peGVkL2kudGVzdChpKSkge1xuICAgICAgcyA9IGFzeW5jIGZ1bmN0aW9uKiBwYXJzZU11bHRpcGFydE1peGVkKGUsIHIpIHtcbiAgICAgICAgdmFyIHQgPSBlLm1hdGNoKGgpO1xuICAgICAgICB2YXIgYSA9IFwiLS1cIiArICh0ID8gdFsxXSA6IFwiLVwiKTtcbiAgICAgICAgdmFyIG4gPSAhMDtcbiAgICAgICAgdmFyIG87XG4gICAgICAgIGZvciBhd2FpdCAodmFyIGkgb2Ygc3BsaXQoc3RyZWFtQm9keShyKSwgXCJcXHJcXG5cIiArIGEpKSB7XG4gICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgICAgIHZhciBzID0gaS5pbmRleE9mKGEpO1xuICAgICAgICAgICAgaWYgKHMgPiAtMSkge1xuICAgICAgICAgICAgICBpID0gaS5zbGljZShzICsgYS5sZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB5aWVsZCBvID0gSlNPTi5wYXJzZShpLnNsaWNlKGkuaW5kZXhPZihcIlxcclxcblxcclxcblwiKSArIDQpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoIW8pIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG8gJiYgITEgPT09IG8uaGFzTmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvICYmICExICE9PSBvLmhhc05leHQpIHtcbiAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0oaSwgbyk7XG4gICAgfSBlbHNlIGlmICgvdGV4dFxcL2V2ZW50LXN0cmVhbS9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VFdmVudFN0cmVhbShlKSB7XG4gICAgICAgIHZhciByO1xuICAgICAgICBmb3IgYXdhaXQgKHZhciB0IG9mIHNwbGl0KHN0cmVhbUJvZHkoZSksIFwiXFxuXFxuXCIpKSB7XG4gICAgICAgICAgdmFyIGEgPSB0Lm1hdGNoKG0pO1xuICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGFbMV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB5aWVsZCByID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgITEgPT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIgJiYgITEgIT09IHIuaGFzTmV4dCkge1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIGhhc05leHQ6ICExXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfShvKTtcbiAgICB9IGVsc2UgaWYgKCEvdGV4dFxcLy9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VKU09OKGUpIHtcbiAgICAgICAgeWllbGQgSlNPTi5wYXJzZShhd2FpdCBlLnRleHQoKSk7XG4gICAgICB9KG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gYXN5bmMgZnVuY3Rpb24qIHBhcnNlTWF5YmVKU09OKGUpIHtcbiAgICAgICAgdmFyIHIgPSBhd2FpdCBlLnRleHQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdCA9IEpTT04ucGFyc2Uocik7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb3VuZCByZXNwb25zZSB3aXRoIGNvbnRlbnQtdHlwZSBcInRleHQvcGxhaW5cIiBidXQgaXQgaGFkIGEgdmFsaWQgXCJhcHBsaWNhdGlvbi9qc29uXCIgcmVzcG9uc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHlpZWxkIHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocik7XG4gICAgICAgIH1cbiAgICAgIH0obyk7XG4gICAgfVxuICAgIHZhciBmO1xuICAgIGZvciBhd2FpdCAodmFyIGwgb2Ygcykge1xuICAgICAgaWYgKGwucGVuZGluZyAmJiAhbikge1xuICAgICAgICBmID0gbC5wZW5kaW5nO1xuICAgICAgfSBlbHNlIGlmIChsLnBlbmRpbmcpIHtcbiAgICAgICAgZiA9IFsgLi4uZiwgLi4ubC5wZW5kaW5nIF07XG4gICAgICB9XG4gICAgICBuID0gbiA/IG1lcmdlUmVzdWx0UGF0Y2gobiwgbCwgbywgZikgOiBtYWtlUmVzdWx0KGUsIGwsIG8pO1xuICAgICAgYSA9ICExO1xuICAgICAgeWllbGQgbjtcbiAgICAgIGEgPSAhMDtcbiAgICB9XG4gICAgaWYgKCFuKSB7XG4gICAgICB5aWVsZCBuID0gbWFrZVJlc3VsdChlLCB7fSwgbyk7XG4gICAgfVxuICB9IGNhdGNoIChyKSB7XG4gICAgaWYgKCFhKSB7XG4gICAgICB0aHJvdyByO1xuICAgIH1cbiAgICB5aWVsZCBtYWtlRXJyb3JSZXN1bHQoZSwgbyAmJiAoby5zdGF0dXMgPCAyMDAgfHwgby5zdGF0dXMgPj0gMzAwKSAmJiBvLnN0YXR1c1RleHQgPyBuZXcgRXJyb3Ioby5zdGF0dXNUZXh0KSA6IHIsIG8pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaFNvdXJjZShlLCByLCB0KSB7XG4gIHZhciBhO1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQWJvcnRDb250cm9sbGVyKSB7XG4gICAgdC5zaWduYWwgPSAoYSA9IG5ldyBBYm9ydENvbnRyb2xsZXIpLnNpZ25hbDtcbiAgfVxuICByZXR1cm4gbigoKCkgPT4ge1xuICAgIGlmIChhKSB7XG4gICAgICBhLmFib3J0KCk7XG4gICAgfVxuICB9KSkobygoZSA9PiAhIWUpKShpKGZldGNoT3BlcmF0aW9uKGUsIHIsIHQpKSkpO1xufVxuXG5leHBvcnQgeyBDb21iaW5lZEVycm9yIGFzIEMsIG1ha2VGZXRjaEJvZHkgYXMgYSwgbWFrZUVycm9yUmVzdWx0IGFzIGIsIG1lcmdlUmVzdWx0UGF0Y2ggYXMgYywgbWFrZUZldGNoVVJMIGFzIGQsIG1ha2VGZXRjaE9wdGlvbnMgYXMgZSwgbWFrZUZldGNoU291cmNlIGFzIGYsIGdldE9wZXJhdGlvblR5cGUgYXMgZywgY3JlYXRlUmVxdWVzdCBhcyBoLCBzdHJpbmdpZnlWYXJpYWJsZXMgYXMgaSwga2V5RG9jdW1lbnQgYXMgaywgbWFrZVJlc3VsdCBhcyBtLCBzdHJpbmdpZnlEb2N1bWVudCBhcyBzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWNvcmUtY2h1bmsubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@urql/core/dist/urql-core.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ C),\n/* harmony export */   CombinedError: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   cacheExchange: () => (/* binding */ cacheExchange),\n/* harmony export */   composeExchanges: () => (/* binding */ composeExchanges),\n/* harmony export */   createClient: () => (/* binding */ Q),\n/* harmony export */   createRequest: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   debugExchange: () => (/* binding */ debugExchange),\n/* harmony export */   errorExchange: () => (/* binding */ mapExchange),\n/* harmony export */   fetchExchange: () => (/* binding */ fetchExchange),\n/* harmony export */   formatDocument: () => (/* binding */ formatDocument),\n/* harmony export */   gql: () => (/* binding */ gql),\n/* harmony export */   makeErrorResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   makeOperation: () => (/* binding */ makeOperation),\n/* harmony export */   makeResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapExchange: () => (/* binding */ mapExchange),\n/* harmony export */   mergeResultPatch: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   ssrExchange: () => (/* binding */ ssrExchange),\n/* harmony export */   stringifyDocument: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   stringifyVariables: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   subscriptionExchange: () => (/* binding */ subscriptionExchange)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(app-pages-browser)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urql-core-chunk.mjs */ \"(app-pages-browser)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wonka */ \"(app-pages-browser)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\n\n\n\n\nvar collectTypes = (e, r) => {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = e.length; t < n; t++) {\n      collectTypes(e[t], r);\n    }\n  } else if (\"object\" == typeof e && null !== e) {\n    for (var a in e) {\n      if (\"__typename\" === a && \"string\" == typeof e[a]) {\n        r.add(e[a]);\n      } else {\n        collectTypes(e[a], r);\n      }\n    }\n  }\n  return r;\n};\n\nvar formatNode = r => {\n  if (\"definitions\" in r) {\n    var t = [];\n    for (var n = 0, a = r.definitions.length; n < a; n++) {\n      var i = formatNode(r.definitions[n]);\n      t.push(i);\n    }\n    return {\n      ...r,\n      definitions: t\n    };\n  }\n  if (\"directives\" in r && r.directives && r.directives.length) {\n    var o = [];\n    var s = {};\n    for (var c = 0, u = r.directives.length; c < u; c++) {\n      var p = r.directives[c];\n      var d = p.name.value;\n      if (\"_\" !== d[0]) {\n        o.push(p);\n      } else {\n        d = d.slice(1);\n      }\n      s[d] = p;\n    }\n    r = {\n      ...r,\n      directives: o,\n      _directives: s\n    };\n  }\n  if (\"selectionSet\" in r) {\n    var l = [];\n    var v = r.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.OPERATION_DEFINITION;\n    if (r.selectionSet) {\n      for (var f = 0, h = r.selectionSet.selections.length; f < h; f++) {\n        var k = r.selectionSet.selections[f];\n        v = v || k.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD && \"__typename\" === k.name.value && !k.alias;\n        var y = formatNode(k);\n        l.push(y);\n      }\n      if (!v) {\n        l.push({\n          kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD,\n          name: {\n            kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.NAME,\n            value: \"__typename\"\n          },\n          _generated: !0\n        });\n      }\n      return {\n        ...r,\n        selectionSet: {\n          ...r.selectionSet,\n          selections: l\n        }\n      };\n    }\n  }\n  return r;\n};\n\nvar I = new Map;\n\nvar formatDocument = e => {\n  var t = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(e);\n  var n = I.get(t.__key);\n  if (!n) {\n    I.set(t.__key, n = formatNode(t));\n    Object.defineProperty(n, \"__key\", {\n      value: t.__key,\n      enumerable: !1\n    });\n  }\n  return n;\n};\n\nfunction withPromise(e) {\n  var source$ = r => e(r);\n  source$.toPromise = () => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !e.stale && !e.hasNext))(source$)));\n  source$.then = (e, r) => source$.toPromise().then(e, r);\n  source$.subscribe = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(source$);\n  return source$;\n}\n\nfunction makeOperation(e, r, t) {\n  return {\n    ...r,\n    kind: e,\n    context: r.context ? {\n      ...r.context,\n      ...t\n    } : t || r.context\n  };\n}\n\nvar addMetadata = (e, r) => makeOperation(e.kind, e, {\n  meta: {\n    ...e.context.meta,\n    ...r\n  }\n});\n\nvar noop = () => {};\n\nfunction gql(n) {\n  var a = new Map;\n  var i = [];\n  var o = [];\n  var s = Array.isArray(n) ? n[0] : n || \"\";\n  for (var c = 1; c < arguments.length; c++) {\n    var u = arguments[c];\n    if (u && u.definitions) {\n      o.push(u);\n    } else {\n      s += u;\n    }\n    s += arguments[0][c];\n  }\n  o.unshift((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(s));\n  for (var p = 0; p < o.length; p++) {\n    for (var d = 0; d < o[p].definitions.length; d++) {\n      var l = o[p].definitions[d];\n      if (l.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FRAGMENT_DEFINITION) {\n        var v = l.name.value;\n        var f = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(l);\n        if (!a.has(v)) {\n          a.set(v, f);\n          i.push(l);\n        } else if ( true && a.get(v) !== f) {\n          console.warn(\"[WARNING: Duplicate Fragment] A fragment with name `\" + v + \"` already exists in this document.\\nWhile fragment names may not be unique across your source, each name must be unique per document.\");\n        }\n      } else {\n        i.push(l);\n      }\n    }\n  }\n  return (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)({\n    kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.DOCUMENT,\n    definitions: i\n  });\n}\n\nvar shouldSkip = ({kind: e}) => \"mutation\" !== e && \"query\" !== e;\n\nvar mapTypeNames = e => {\n  var r = formatDocument(e.query);\n  if (r !== e.query) {\n    var t = makeOperation(e.kind, e);\n    t.query = r;\n    return t;\n  } else {\n    return e;\n  }\n};\n\nvar cacheExchange = ({forward: e, client: r, dispatchDebug: t}) => {\n  var a = new Map;\n  var i = new Map;\n  var isOperationCached = e => \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy && (\"cache-only\" === e.context.requestPolicy || a.has(e.key));\n  return o => {\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var i = a.get(e.key);\n       true && t({\n        operation: e,\n        ...i ? {\n          type: \"cacheHit\",\n          message: \"The result was successfully retried from the cache\"\n        } : {\n          type: \"cacheMiss\",\n          message: \"The result could not be retrieved from the cache\"\n        },\n        source: \"cacheExchange\"\n      });\n      var o = i || (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(e, {\n        data: null\n      });\n      o = {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: i ? \"hit\" : \"miss\"\n        })\n      };\n      if (\"cache-and-network\" === e.context.requestPolicy) {\n        o.stale = !0;\n        reexecuteOperation(r, e);\n      }\n      return o;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && isOperationCached(e)))(o));\n    var c = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n      var {operation: n} = e;\n      if (!n) {\n        return;\n      }\n      var o = n.context.additionalTypenames || [];\n      if (\"subscription\" !== e.operation.kind) {\n        o = (e => [ ...collectTypes(e, new Set) ])(e.data).concat(o);\n      }\n      if (\"mutation\" === e.operation.kind || \"subscription\" === e.operation.kind) {\n        var s = new Set;\n         true && t({\n          type: \"cacheInvalidation\",\n          message: `The following typenames have been invalidated: ${o}`,\n          operation: n,\n          data: {\n            typenames: o,\n            response: e\n          },\n          source: \"cacheExchange\"\n        });\n        for (var c = 0; c < o.length; c++) {\n          var u = o[c];\n          var p = i.get(u);\n          if (!p) {\n            i.set(u, p = new Set);\n          }\n          for (var d of p.values()) {\n            s.add(d);\n          }\n          p.clear();\n        }\n        for (var l of s.values()) {\n          if (a.has(l)) {\n            n = a.get(l).operation;\n            a.delete(l);\n            reexecuteOperation(r, n);\n          }\n        }\n      } else if (\"query\" === n.kind && e.data) {\n        a.set(n.key, e);\n        for (var v = 0; v < o.length; v++) {\n          var f = o[v];\n          var h = i.get(f);\n          if (!h) {\n            i.set(f, h = new Set);\n          }\n          h.add(n.key);\n        }\n      }\n    }))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" !== e.kind || \"cache-only\" !== e.context.requestPolicy))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => addMetadata(e, {\n      cacheOutcome: \"miss\"\n    })))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && !isOperationCached(e)))(o)), (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => shouldSkip(e)))(o) ])))));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ s, c ]);\n  };\n};\n\nvar reexecuteOperation = (e, r) => e.reexecuteOperation(makeOperation(r.kind, r, {\n  requestPolicy: \"network-only\"\n}));\n\nvar T = new Set;\n\nvar ssrExchange = (e = {}) => {\n  var r = !!e.staleWhileRevalidate;\n  var t = !!e.includeExtensions;\n  var n = {};\n  var i = [];\n  var invalidate = e => {\n    i.push(e.operation.key);\n    if (1 === i.length) {\n      Promise.resolve().then((() => {\n        var e;\n        while (e = i.shift()) {\n          n[e] = null;\n        }\n      }));\n    }\n  };\n  var ssr = ({client: i, forward: o}) => s => {\n    var c = e && \"boolean\" == typeof e.isClient ? !!e.isClient : !i.suspense;\n    var u = o((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !n[e.key] || !!n[e.key].hasNext || \"network-only\" === e.context.requestPolicy))(s)));\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var o = ((e, r, t) => ({\n        operation: e,\n        data: r.data ? JSON.parse(r.data) : void 0,\n        extensions: t && r.extensions ? JSON.parse(r.extensions) : void 0,\n        error: r.error ? new _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C({\n          networkError: r.error.networkError ? new Error(r.error.networkError) : void 0,\n          graphQLErrors: r.error.graphQLErrors\n        }) : void 0,\n        stale: !1,\n        hasNext: !!r.hasNext\n      }))(e, n[e.key], t);\n      if (r && !T.has(e.key)) {\n        o.stale = !0;\n        T.add(e.key);\n        reexecuteOperation(i, e);\n      }\n      return {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: \"hit\"\n        })\n      };\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && !!n[e.key] && \"network-only\" !== e.context.requestPolicy))(s));\n    if (!c) {\n      u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n        var {operation: r} = e;\n        if (\"mutation\" !== r.kind) {\n          var a = ((e, r) => {\n            var t = {\n              hasNext: e.hasNext\n            };\n            if (void 0 !== e.data) {\n              t.data = JSON.stringify(e.data);\n            }\n            if (r && void 0 !== e.extensions) {\n              t.extensions = JSON.stringify(e.extensions);\n            }\n            if (e.error) {\n              t.error = {\n                graphQLErrors: e.error.graphQLErrors.map((e => {\n                  if (!e.path && !e.extensions) {\n                    return e.message;\n                  }\n                  return {\n                    message: e.message,\n                    path: e.path,\n                    extensions: e.extensions\n                  };\n                }))\n              };\n              if (e.error.networkError) {\n                t.error.networkError = \"\" + e.error.networkError;\n              }\n            }\n            return t;\n          })(e, t);\n          n[r.key] = a;\n        }\n      }))(u);\n    } else {\n      p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)(invalidate)(p);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ u, p ]);\n  };\n  ssr.restoreData = e => {\n    for (var r in e) {\n      if (null !== n[r]) {\n        n[r] = e[r];\n      }\n    }\n  };\n  ssr.extractData = () => {\n    var e = {};\n    for (var r in n) {\n      if (null != n[r]) {\n        e[r] = n[r];\n      }\n    }\n    return e;\n  };\n  if (e && e.initialState) {\n    ssr.restoreData(e.initialState);\n  }\n  return ssr;\n};\n\nvar subscriptionExchange = ({forwardSubscription: e, enableAllOperations: r, isSubscriptionOperation: t}) => ({client: a, forward: i}) => {\n  var u = t || (e => \"subscription\" === e.kind || !!r && (\"query\" === e.kind || \"mutation\" === e.kind));\n  return r => {\n    var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((t => {\n      var {key: i} = t;\n      var u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind && e.key === i))(r);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)(u)((r => {\n        var t = e((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(r), r);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.make)((e => {\n          var i = !1;\n          var o;\n          var u;\n          function nextResult(t) {\n            e.next(u = u ? (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(u, t) : (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(r, t));\n          }\n          Promise.resolve().then((() => {\n            if (i) {\n              return;\n            }\n            o = t.subscribe({\n              next: nextResult,\n              error(t) {\n                if (Array.isArray(t)) {\n                  nextResult({\n                    errors: t\n                  });\n                } else {\n                  e.next((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(r, t));\n                }\n                e.complete();\n              },\n              complete() {\n                if (!i) {\n                  i = !0;\n                  if (\"subscription\" === r.kind) {\n                    a.reexecuteOperation(makeOperation(\"teardown\", r, r.context));\n                  }\n                  if (u && u.hasNext) {\n                    nextResult({\n                      hasNext: !1\n                    });\n                  }\n                  e.complete();\n                }\n              }\n            });\n          }));\n          return () => {\n            i = !0;\n            if (o) {\n              o.unsubscribe();\n            }\n          };\n        }));\n      })(t));\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && u(e)))(r));\n    var p = i((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !u(e)))(r));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, p ]);\n  };\n};\n\nvar debugExchange = ({forward: e}) => {\n  if (false) {} else {\n    return r => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Completed operation: \", e)))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Incoming operation: \", e)))(r)));\n  }\n};\n\nvar fetchExchange = ({forward: e, dispatchDebug: r}) => t => {\n  var n = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n    var n = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(e);\n    var a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(e, n);\n    var i = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(e, n);\n     true && r({\n      type: \"fetchRequest\",\n      message: \"A fetch request is being executed.\",\n      operation: e,\n      data: {\n        url: a,\n        fetchOptions: i\n      },\n      source: \"fetchExchange\"\n    });\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(t))((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(e, a, i));\n    if (true) {\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((t => {\n        var n = !t.data ? t.error : void 0;\n         true && r({\n          type: n ? \"fetchError\" : \"fetchSuccess\",\n          message: `A ${n ? \"failed\" : \"successful\"} fetch response has been returned.`,\n          operation: e,\n          data: {\n            url: a,\n            fetchOptions: i,\n            value: n || t\n          },\n          source: \"fetchExchange\"\n        });\n      }))(s);\n    }\n    return s;\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && (\"subscription\" !== e.kind || !!e.context.fetchSubscriptions)))(t));\n  var a = e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || \"subscription\" === e.kind && !e.context.fetchSubscriptions))(t));\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ n, a ]);\n};\n\nvar composeExchanges = e => ({client: r, forward: t, dispatchDebug: n}) => e.reduceRight(((e, t) => {\n  var a = !1;\n  return t({\n    client: r,\n    forward(r) {\n      if (true) {\n        if (a) {\n          throw new Error(\"forward() must only be called once in each Exchange.\");\n        }\n        a = !0;\n      }\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r)));\n    },\n    dispatchDebug(e) {\n       true && n({\n        timestamp: Date.now(),\n        source: t.name,\n        ...e\n      });\n    }\n  });\n}), t);\n\nvar mapExchange = ({onOperation: e, onResult: r, onError: t}) => ({forward: n}) => a => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n  if (t && e.error) {\n    t(e.error, e.operation);\n  }\n  var n = r && r(e) || e;\n  return \"then\" in n ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(n) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(n);\n}))(n((0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((r => {\n  var t = e && e(r) || r;\n  return \"then\" in t ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(t) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(t);\n}))(a)));\n\nvar fallbackExchange = ({dispatchDebug: e}) => r => {\n  if (true) {\n    r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((r => {\n      if (\"teardown\" !== r.kind && \"production\" !== \"development\") {\n        var t = `No exchange has handled operations of kind \"${r.kind}\". Check whether you've added an exchange responsible for these operations.`;\n         true && e({\n          type: \"fallbackCatch\",\n          message: t,\n          operation: r,\n          source: \"fallbackExchange\"\n        });\n        console.warn(t);\n      }\n    }))(r);\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !1))(r);\n};\n\nvar C = function Client(e) {\n  if ( true && !e.url) {\n    throw new Error(\"You are creating an urql-client without a url.\");\n  }\n  var r = 0;\n  var t = new Map;\n  var n = new Map;\n  var a = new Set;\n  var i = [];\n  var o = {\n    url: e.url,\n    fetchSubscriptions: e.fetchSubscriptions,\n    fetchOptions: e.fetchOptions,\n    fetch: e.fetch,\n    preferGetMethod: e.preferGetMethod,\n    requestPolicy: e.requestPolicy || \"cache-first\"\n  };\n  var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n  function nextOperation(e) {\n    if (\"mutation\" === e.kind || \"teardown\" === e.kind || !a.has(e.key)) {\n      if (\"teardown\" === e.kind) {\n        a.delete(e.key);\n      } else if (\"mutation\" !== e.kind) {\n        a.add(e.key);\n      }\n      s.next(e);\n    }\n  }\n  var c = !1;\n  function dispatchOperation(e) {\n    if (e) {\n      nextOperation(e);\n    }\n    if (!c) {\n      c = !0;\n      while (c && (e = i.shift())) {\n        nextOperation(e);\n      }\n      c = !1;\n    }\n  }\n  var makeResultSource = e => {\n    var r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(s.source))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.operation.kind === e.kind && r.operation.key === e.key && (!r.operation.context._instance || r.operation.context._instance === e.context._instance)))(E));\n    if (\"query\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeWhile)((e => !!e.hasNext), !0)(r);\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)((r => {\n        var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(r);\n        return r.stale || r.hasNext ? t : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((() => {\n          r.stale = !0;\n          return r;\n        }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.key === e.key))(s.source))) ]);\n      }))(r);\n    }\n    if (\"mutation\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onEnd)((() => {\n        a.delete(e.key);\n        t.delete(e.key);\n        n.delete(e.key);\n        c = !1;\n        for (var r = i.length - 1; r >= 0; r--) {\n          if (i[r].key === e.key) {\n            i.splice(r, 1);\n          }\n        }\n        nextOperation(makeOperation(\"teardown\", e, e.context));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((r => {\n        if (r.stale) {\n          if (!r.hasNext) {\n            a.delete(e.key);\n          } else {\n            for (var n = 0; n < i.length; n++) {\n              var o = i[n];\n              if (o.key === r.operation.key) {\n                a.delete(o.key);\n                break;\n              }\n            }\n          }\n        } else if (!r.hasNext) {\n          a.delete(e.key);\n        }\n        t.set(e.key, r);\n      }))(r));\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n        nextOperation(e);\n      }))(r);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r);\n  };\n  var u = this instanceof Client ? this : Object.create(Client.prototype);\n  var p = Object.assign(u, {\n    suspense: !!e.suspense,\n    operations$: s.source,\n    reexecuteOperation(e) {\n      if (\"teardown\" === e.kind) {\n        dispatchOperation(e);\n      } else if (\"mutation\" === e.kind) {\n        i.push(e);\n        Promise.resolve().then(dispatchOperation);\n      } else if (n.has(e.key)) {\n        var r = !1;\n        for (var t = 0; t < i.length; t++) {\n          if (i[t].key === e.key) {\n            i[t] = e;\n            r = !0;\n          }\n        }\n        if (!(r || a.has(e.key) && \"network-only\" !== e.context.requestPolicy)) {\n          i.push(e);\n          Promise.resolve().then(dispatchOperation);\n        } else {\n          a.delete(e.key);\n          Promise.resolve().then(dispatchOperation);\n        }\n      }\n    },\n    createRequestOperation(e, t, n) {\n      if (!n) {\n        n = {};\n      }\n      var a;\n      if ( true && \"teardown\" !== e && (a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(t.query)) !== e) {\n        throw new Error(`Expected operation of type \"${e}\" but found \"${a}\"`);\n      }\n      return makeOperation(e, t, {\n        _instance: \"mutation\" === e ? r = r + 1 | 0 : void 0,\n        ...o,\n        ...n,\n        requestPolicy: n.requestPolicy || o.requestPolicy,\n        suspense: n.suspense || !1 !== n.suspense && p.suspense\n      });\n    },\n    executeRequestOperation(e) {\n      if (\"mutation\" === e.kind) {\n        return withPromise(makeResultSource(e));\n      }\n      return withPromise((0,wonka__WEBPACK_IMPORTED_MODULE_2__.lazy)((() => {\n        var r = n.get(e.key);\n        if (!r) {\n          n.set(e.key, r = makeResultSource(e));\n        }\n        r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n          dispatchOperation(e);\n        }))(r);\n        var a = t.get(e.key);\n        if (\"query\" === e.kind && a && (a.stale || a.hasNext)) {\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)(wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ r, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r === t.get(e.key)))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(a)) ]));\n        } else {\n          return r;\n        }\n      })));\n    },\n    executeQuery(e, r) {\n      var t = p.createRequestOperation(\"query\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeSubscription(e, r) {\n      var t = p.createRequestOperation(\"subscription\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeMutation(e, r) {\n      var t = p.createRequestOperation(\"mutation\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    readQuery(e, r, t) {\n      var n = null;\n      (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)((e => {\n        n = e;\n      }))(p.query(e, r, t)).unsubscribe();\n      return n;\n    },\n    query: (e, r, t) => p.executeQuery((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    subscription: (e, r, t) => p.executeSubscription((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    mutation: (e, r, t) => p.executeMutation((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t)\n  });\n  var d = noop;\n  if (true) {\n    var {next: f, source: x} = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n    p.subscribeToDebugTarget = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(x);\n    d = f;\n  }\n  var w = composeExchanges(e.exchanges);\n  var E = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(w({\n    client: p,\n    dispatchDebug: d,\n    forward: fallbackExchange({\n      dispatchDebug: d\n    })\n  })(s.source));\n  (0,wonka__WEBPACK_IMPORTED_MODULE_2__.publish)(E);\n  return p;\n};\n\nvar Q = C;\n\n\n//# sourceMappingURL=urql-core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL2Rpc3QvdXJxbC1jb3JlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDs7QUFFa0Y7O0FBRWxFOztBQUV5UDs7QUFFelQ7QUFDQTtBQUNBLGtDQUFrQyxPQUFPO0FBQ3pDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsT0FBTztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFDO0FBQ3hCO0FBQ0EsNERBQTRELE9BQU87QUFDbkU7QUFDQSw0QkFBNEIscURBQUM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBQztBQUNqQjtBQUNBLGtCQUFrQixxREFBQztBQUNuQjtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxVQUFVLHVEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFDLENBQUMsMkNBQUMsSUFBSSw2Q0FBQztBQUNwQztBQUNBLDJCQUEyQixnREFBQztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1REFBQztBQUNiLGtCQUFrQixjQUFjO0FBQ2hDLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQSxxQkFBcUIscURBQUM7QUFDdEI7QUFDQSxnQkFBZ0IsdURBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0EsVUFBVSxTQUFTLEtBQXFDO0FBQ3hEO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFDO0FBQ1YsVUFBVSxxREFBQztBQUNYO0FBQ0EsR0FBRztBQUNIOztBQUVBLG1CQUFtQixRQUFROztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLHNCQUFzQix3Q0FBd0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBDQUFDO0FBQ2I7QUFDQSxNQUFNLEtBQXFDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsbUJBQW1CLHVEQUFDO0FBQ3BCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyw2Q0FBQztBQUNULFlBQVksMENBQUM7QUFDYixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUFxQztBQUM3QztBQUNBLHFFQUFxRSxFQUFFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNULHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLDZDQUFDLHdFQUF3RSwwQ0FBQztBQUNwRjtBQUNBLEtBQUssSUFBSSw0Q0FBQyxHQUFHLDBDQUFDLGVBQWUsNkNBQUMsc0RBQXNELDZDQUFDO0FBQ3JGLFdBQVcsNENBQUM7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0EsY0FBYywwQ0FBQyxlQUFlLDZDQUFDO0FBQy9CLFlBQVksMENBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtREFBQztBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSyxHQUFHLDZDQUFDO0FBQ1Q7QUFDQSxVQUFVLDBDQUFDO0FBQ1gsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixVQUFVLDBDQUFDO0FBQ1g7QUFDQSxXQUFXLDRDQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLDJFQUEyRSxPQUFPLHNCQUFzQjtBQUNySTtBQUNBO0FBQ0EsWUFBWSwrQ0FBQztBQUNiLFdBQVcsUUFBUTtBQUNuQixjQUFjLDZDQUFDO0FBQ2YsYUFBYSxnREFBQztBQUNkLGtCQUFrQix1REFBQztBQUNuQixlQUFlLDJDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFDLFNBQVMsdURBQUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEIseUJBQXlCLHVEQUFDO0FBQzFCO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUssR0FBRyw2Q0FBQztBQUNULGNBQWMsNkNBQUM7QUFDZixXQUFXLDRDQUFDO0FBQ1o7QUFDQTs7QUFFQSxzQkFBc0IsV0FBVztBQUNqQyxNQUFNLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNKLGdCQUFnQiwwQ0FBQyxxRUFBcUUsMENBQUM7QUFDdkY7QUFDQTs7QUFFQSxzQkFBc0IsNkJBQTZCO0FBQ25ELFVBQVUsK0NBQUM7QUFDWCxZQUFZLHVEQUFDO0FBQ2IsWUFBWSx1REFBQztBQUNiLFlBQVksdURBQUM7QUFDYixJQUFJLEtBQXFDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxZQUFZLGdEQUFDLENBQUMsNkNBQUMsc0RBQXNELHVEQUFDO0FBQ3RFLFFBQVEsSUFBcUM7QUFDN0MsYUFBYSw2Q0FBQztBQUNkO0FBQ0EsUUFBUSxLQUFxQztBQUM3QztBQUNBLHdCQUF3Qiw2QkFBNkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUcsR0FBRyw2Q0FBQztBQUNQLFlBQVksNkNBQUM7QUFDYixTQUFTLDRDQUFDO0FBQ1Y7O0FBRUEsOEJBQThCLHdDQUF3QztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNENBQUMsR0FBRyw0Q0FBQztBQUNsQixLQUFLO0FBQ0w7QUFDQSxNQUFNLEtBQXFDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVELG9CQUFvQix3Q0FBd0MsT0FBTyxXQUFXLFVBQVUsK0NBQUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQUMsTUFBTSxnREFBQztBQUMvQixDQUFDLEtBQUssK0NBQUM7QUFDUDtBQUNBLHVCQUF1QixrREFBQyxNQUFNLGdEQUFDO0FBQy9CLENBQUM7O0FBRUQseUJBQXlCLGlCQUFpQjtBQUMxQyxNQUFNLElBQXFDO0FBQzNDLFFBQVEsMENBQUM7QUFDVCxvREFBb0QsYUFBb0I7QUFDeEUsK0RBQStELE9BQU87QUFDdEUsUUFBUSxLQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsU0FBUyw2Q0FBQztBQUNWOztBQUVBO0FBQ0EsTUFBTSxLQUFxQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFDLENBQUMsNkNBQUMsNkRBQTZELDZDQUFDO0FBQzdFO0FBQ0EsVUFBVSxnREFBQztBQUNYLE1BQU07QUFDTixVQUFVLGdEQUFDO0FBQ1gsZ0JBQWdCLGdEQUFDO0FBQ2pCLDBDQUEwQyw0Q0FBQyxNQUFNLDBDQUFDO0FBQ2xEO0FBQ0E7QUFDQSxTQUFTLEdBQUcsMkNBQUMsSUFBSSw2Q0FBQztBQUNsQixPQUFPO0FBQ1A7QUFDQTtBQUNBLFVBQVUsNENBQUM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEdBQUcsNkNBQUM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osNEJBQTRCLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixVQUFVLDhDQUFDO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxXQUFXLDRDQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFxQyw2QkFBNkIsdURBQUM7QUFDN0UsdURBQXVELEVBQUUsZUFBZSxFQUFFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQ0FBQztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQUM7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFDLENBQUMsNENBQUMsRUFBRSw0Q0FBQyxNQUFNLDZDQUFDLDRCQUE0QixnREFBQztBQUMzRCxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU0sZ0RBQUM7QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCx1Q0FBdUMsdURBQUM7QUFDeEMscURBQXFELHVEQUFDO0FBQ3RELDZDQUE2Qyx1REFBQztBQUM5QyxHQUFHO0FBQ0g7QUFDQSxNQUFNLElBQXFDO0FBQzNDLFNBQVMsb0JBQW9CLEVBQUUsa0RBQUM7QUFDaEMsb0NBQW9DLGdEQUFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNENBQUM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsRUFBRSw4Q0FBQztBQUNIO0FBQ0E7O0FBRUE7O0FBRXlWO0FBQ3pWIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvZGlzdC91cnFsLWNvcmUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtpbmQgYXMgZSB9IGZyb20gXCJAMG5vLWNvL2dyYXBocWwud2ViXCI7XG5cbmltcG9ydCB7IGsgYXMgciwgcyBhcyB0LCBtIGFzIG4sIEMgYXMgYSwgYSBhcyBvLCBiIGFzIHMsIGMsIGQgYXMgdSwgZSBhcyBwLCBmIGFzIGQsIGcgYXMgbCwgaCBhcyB2IH0gZnJvbSBcIi4vdXJxbC1jb3JlLWNodW5rLm1qc1wiO1xuXG5leHBvcnQgeyBpIGFzIHN0cmluZ2lmeVZhcmlhYmxlcyB9IGZyb20gXCIuL3VycWwtY29yZS1jaHVuay5tanNcIjtcblxuaW1wb3J0IHsgdG9Qcm9taXNlIGFzIGYsIHRha2UgYXMgaCwgZmlsdGVyIGFzIGssIHN1YnNjcmliZSBhcyB5LCBtYXAgYXMgbSwgdGFwIGFzIHgsIG1lcmdlIGFzIGcsIG1lcmdlTWFwIGFzIHcsIHRha2VVbnRpbCBhcyBPLCBtYWtlIGFzIEUsIG9uUHVzaCBhcyBiLCBzaGFyZSBhcyBOLCBmcm9tUHJvbWlzZSBhcyBxLCBmcm9tVmFsdWUgYXMgXywgbWFrZVN1YmplY3QgYXMgRCwgbGF6eSBhcyBTLCBvblN0YXJ0IGFzIFAsIHN3aXRjaE1hcCBhcyBSLCBwdWJsaXNoIGFzIFYsIHRha2VXaGlsZSBhcyBBLCBvbkVuZCBhcyBNIH0gZnJvbSBcIndvbmthXCI7XG5cbnZhciBjb2xsZWN0VHlwZXMgPSAoZSwgcikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgIGZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGg7IHQgPCBuOyB0KyspIHtcbiAgICAgIGNvbGxlY3RUeXBlcyhlW3RdLCByKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB7XG4gICAgZm9yICh2YXIgYSBpbiBlKSB7XG4gICAgICBpZiAoXCJfX3R5cGVuYW1lXCIgPT09IGEgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVthXSkge1xuICAgICAgICByLmFkZChlW2FdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbGxlY3RUeXBlcyhlW2FdLCByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIgZm9ybWF0Tm9kZSA9IHIgPT4ge1xuICBpZiAoXCJkZWZpbml0aW9uc1wiIGluIHIpIHtcbiAgICB2YXIgdCA9IFtdO1xuICAgIGZvciAodmFyIG4gPSAwLCBhID0gci5kZWZpbml0aW9ucy5sZW5ndGg7IG4gPCBhOyBuKyspIHtcbiAgICAgIHZhciBpID0gZm9ybWF0Tm9kZShyLmRlZmluaXRpb25zW25dKTtcbiAgICAgIHQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnIsXG4gICAgICBkZWZpbml0aW9uczogdFxuICAgIH07XG4gIH1cbiAgaWYgKFwiZGlyZWN0aXZlc1wiIGluIHIgJiYgci5kaXJlY3RpdmVzICYmIHIuZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICB2YXIgbyA9IFtdO1xuICAgIHZhciBzID0ge307XG4gICAgZm9yICh2YXIgYyA9IDAsIHUgPSByLmRpcmVjdGl2ZXMubGVuZ3RoOyBjIDwgdTsgYysrKSB7XG4gICAgICB2YXIgcCA9IHIuZGlyZWN0aXZlc1tjXTtcbiAgICAgIHZhciBkID0gcC5uYW1lLnZhbHVlO1xuICAgICAgaWYgKFwiX1wiICE9PSBkWzBdKSB7XG4gICAgICAgIG8ucHVzaChwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGQgPSBkLnNsaWNlKDEpO1xuICAgICAgfVxuICAgICAgc1tkXSA9IHA7XG4gICAgfVxuICAgIHIgPSB7XG4gICAgICAuLi5yLFxuICAgICAgZGlyZWN0aXZlczogbyxcbiAgICAgIF9kaXJlY3RpdmVzOiBzXG4gICAgfTtcbiAgfVxuICBpZiAoXCJzZWxlY3Rpb25TZXRcIiBpbiByKSB7XG4gICAgdmFyIGwgPSBbXTtcbiAgICB2YXIgdiA9IHIua2luZCA9PT0gZS5PUEVSQVRJT05fREVGSU5JVElPTjtcbiAgICBpZiAoci5zZWxlY3Rpb25TZXQpIHtcbiAgICAgIGZvciAodmFyIGYgPSAwLCBoID0gci5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucy5sZW5ndGg7IGYgPCBoOyBmKyspIHtcbiAgICAgICAgdmFyIGsgPSByLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zW2ZdO1xuICAgICAgICB2ID0gdiB8fCBrLmtpbmQgPT09IGUuRklFTEQgJiYgXCJfX3R5cGVuYW1lXCIgPT09IGsubmFtZS52YWx1ZSAmJiAhay5hbGlhcztcbiAgICAgICAgdmFyIHkgPSBmb3JtYXROb2RlKGspO1xuICAgICAgICBsLnB1c2goeSk7XG4gICAgICB9XG4gICAgICBpZiAoIXYpIHtcbiAgICAgICAgbC5wdXNoKHtcbiAgICAgICAgICBraW5kOiBlLkZJRUxELFxuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGtpbmQ6IGUuTkFNRSxcbiAgICAgICAgICAgIHZhbHVlOiBcIl9fdHlwZW5hbWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgX2dlbmVyYXRlZDogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yLFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAgICAuLi5yLnNlbGVjdGlvblNldCxcbiAgICAgICAgICBzZWxlY3Rpb25zOiBsXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIEkgPSBuZXcgTWFwO1xuXG52YXIgZm9ybWF0RG9jdW1lbnQgPSBlID0+IHtcbiAgdmFyIHQgPSByKGUpO1xuICB2YXIgbiA9IEkuZ2V0KHQuX19rZXkpO1xuICBpZiAoIW4pIHtcbiAgICBJLnNldCh0Ll9fa2V5LCBuID0gZm9ybWF0Tm9kZSh0KSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19rZXlcIiwge1xuICAgICAgdmFsdWU6IHQuX19rZXksXG4gICAgICBlbnVtZXJhYmxlOiAhMVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBuO1xufTtcblxuZnVuY3Rpb24gd2l0aFByb21pc2UoZSkge1xuICB2YXIgc291cmNlJCA9IHIgPT4gZShyKTtcbiAgc291cmNlJC50b1Byb21pc2UgPSAoKSA9PiBmKGgoMSkoaygoZSA9PiAhZS5zdGFsZSAmJiAhZS5oYXNOZXh0KSkoc291cmNlJCkpKTtcbiAgc291cmNlJC50aGVuID0gKGUsIHIpID0+IHNvdXJjZSQudG9Qcm9taXNlKCkudGhlbihlLCByKTtcbiAgc291cmNlJC5zdWJzY3JpYmUgPSBlID0+IHkoZSkoc291cmNlJCk7XG4gIHJldHVybiBzb3VyY2UkO1xufVxuXG5mdW5jdGlvbiBtYWtlT3BlcmF0aW9uKGUsIHIsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5yLFxuICAgIGtpbmQ6IGUsXG4gICAgY29udGV4dDogci5jb250ZXh0ID8ge1xuICAgICAgLi4uci5jb250ZXh0LFxuICAgICAgLi4udFxuICAgIH0gOiB0IHx8IHIuY29udGV4dFxuICB9O1xufVxuXG52YXIgYWRkTWV0YWRhdGEgPSAoZSwgcikgPT4gbWFrZU9wZXJhdGlvbihlLmtpbmQsIGUsIHtcbiAgbWV0YToge1xuICAgIC4uLmUuY29udGV4dC5tZXRhLFxuICAgIC4uLnJcbiAgfVxufSk7XG5cbnZhciBub29wID0gKCkgPT4ge307XG5cbmZ1bmN0aW9uIGdxbChuKSB7XG4gIHZhciBhID0gbmV3IE1hcDtcbiAgdmFyIGkgPSBbXTtcbiAgdmFyIG8gPSBbXTtcbiAgdmFyIHMgPSBBcnJheS5pc0FycmF5KG4pID8gblswXSA6IG4gfHwgXCJcIjtcbiAgZm9yICh2YXIgYyA9IDE7IGMgPCBhcmd1bWVudHMubGVuZ3RoOyBjKyspIHtcbiAgICB2YXIgdSA9IGFyZ3VtZW50c1tjXTtcbiAgICBpZiAodSAmJiB1LmRlZmluaXRpb25zKSB7XG4gICAgICBvLnB1c2godSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgKz0gdTtcbiAgICB9XG4gICAgcyArPSBhcmd1bWVudHNbMF1bY107XG4gIH1cbiAgby51bnNoaWZ0KHIocykpO1xuICBmb3IgKHZhciBwID0gMDsgcCA8IG8ubGVuZ3RoOyBwKyspIHtcbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG9bcF0uZGVmaW5pdGlvbnMubGVuZ3RoOyBkKyspIHtcbiAgICAgIHZhciBsID0gb1twXS5kZWZpbml0aW9uc1tkXTtcbiAgICAgIGlmIChsLmtpbmQgPT09IGUuRlJBR01FTlRfREVGSU5JVElPTikge1xuICAgICAgICB2YXIgdiA9IGwubmFtZS52YWx1ZTtcbiAgICAgICAgdmFyIGYgPSB0KGwpO1xuICAgICAgICBpZiAoIWEuaGFzKHYpKSB7XG4gICAgICAgICAgYS5zZXQodiwgZik7XG4gICAgICAgICAgaS5wdXNoKGwpO1xuICAgICAgICB9IGVsc2UgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBhLmdldCh2KSAhPT0gZikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltXQVJOSU5HOiBEdXBsaWNhdGUgRnJhZ21lbnRdIEEgZnJhZ21lbnQgd2l0aCBuYW1lIGBcIiArIHYgKyBcImAgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBkb2N1bWVudC5cXG5XaGlsZSBmcmFnbWVudCBuYW1lcyBtYXkgbm90IGJlIHVuaXF1ZSBhY3Jvc3MgeW91ciBzb3VyY2UsIGVhY2ggbmFtZSBtdXN0IGJlIHVuaXF1ZSBwZXIgZG9jdW1lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpLnB1c2gobCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByKHtcbiAgICBraW5kOiBlLkRPQ1VNRU5ULFxuICAgIGRlZmluaXRpb25zOiBpXG4gIH0pO1xufVxuXG52YXIgc2hvdWxkU2tpcCA9ICh7a2luZDogZX0pID0+IFwibXV0YXRpb25cIiAhPT0gZSAmJiBcInF1ZXJ5XCIgIT09IGU7XG5cbnZhciBtYXBUeXBlTmFtZXMgPSBlID0+IHtcbiAgdmFyIHIgPSBmb3JtYXREb2N1bWVudChlLnF1ZXJ5KTtcbiAgaWYgKHIgIT09IGUucXVlcnkpIHtcbiAgICB2YXIgdCA9IG1ha2VPcGVyYXRpb24oZS5raW5kLCBlKTtcbiAgICB0LnF1ZXJ5ID0gcjtcbiAgICByZXR1cm4gdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufTtcblxudmFyIGNhY2hlRXhjaGFuZ2UgPSAoe2ZvcndhcmQ6IGUsIGNsaWVudDogciwgZGlzcGF0Y2hEZWJ1ZzogdH0pID0+IHtcbiAgdmFyIGEgPSBuZXcgTWFwO1xuICB2YXIgaSA9IG5ldyBNYXA7XG4gIHZhciBpc09wZXJhdGlvbkNhY2hlZCA9IGUgPT4gXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kgJiYgKFwiY2FjaGUtb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSB8fCBhLmhhcyhlLmtleSkpO1xuICByZXR1cm4gbyA9PiB7XG4gICAgdmFyIHMgPSBtKChlID0+IHtcbiAgICAgIHZhciBpID0gYS5nZXQoZS5rZXkpO1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHQoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIC4uLmkgPyB7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUhpdFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHJlc3VsdCB3YXMgc3VjY2Vzc2Z1bGx5IHJldHJpZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9IDoge1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVNaXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJUaGUgcmVzdWx0IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGVcIlxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6IFwiY2FjaGVFeGNoYW5nZVwiXG4gICAgICB9KTtcbiAgICAgIHZhciBvID0gaSB8fCBuKGUsIHtcbiAgICAgICAgZGF0YTogbnVsbFxuICAgICAgfSk7XG4gICAgICBvID0ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBvcGVyYXRpb246IGFkZE1ldGFkYXRhKGUsIHtcbiAgICAgICAgICBjYWNoZU91dGNvbWU6IGkgPyBcImhpdFwiIDogXCJtaXNzXCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICBpZiAoXCJjYWNoZS1hbmQtbmV0d29ya1wiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkge1xuICAgICAgICBvLnN0YWxlID0gITA7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0pKShrKChlID0+ICFzaG91bGRTa2lwKGUpICYmIGlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpO1xuICAgIHZhciBjID0geCgoZSA9PiB7XG4gICAgICB2YXIge29wZXJhdGlvbjogbn0gPSBlO1xuICAgICAgaWYgKCFuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBvID0gbi5jb250ZXh0LmFkZGl0aW9uYWxUeXBlbmFtZXMgfHwgW107XG4gICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiAhPT0gZS5vcGVyYXRpb24ua2luZCkge1xuICAgICAgICBvID0gKGUgPT4gWyAuLi5jb2xsZWN0VHlwZXMoZSwgbmV3IFNldCkgXSkoZS5kYXRhKS5jb25jYXQobyk7XG4gICAgICB9XG4gICAgICBpZiAoXCJtdXRhdGlvblwiID09PSBlLm9wZXJhdGlvbi5raW5kIHx8IFwic3Vic2NyaXB0aW9uXCIgPT09IGUub3BlcmF0aW9uLmtpbmQpIHtcbiAgICAgICAgdmFyIHMgPSBuZXcgU2V0O1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgdCh7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZUludmFsaWRhdGlvblwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgZm9sbG93aW5nIHR5cGVuYW1lcyBoYXZlIGJlZW4gaW52YWxpZGF0ZWQ6ICR7b31gLFxuICAgICAgICAgIG9wZXJhdGlvbjogbixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlbmFtZXM6IG8sXG4gICAgICAgICAgICByZXNwb25zZTogZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBvLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgdmFyIHUgPSBvW2NdO1xuICAgICAgICAgIHZhciBwID0gaS5nZXQodSk7XG4gICAgICAgICAgaWYgKCFwKSB7XG4gICAgICAgICAgICBpLnNldCh1LCBwID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGQgb2YgcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcy5hZGQoZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsIG9mIHMudmFsdWVzKCkpIHtcbiAgICAgICAgICBpZiAoYS5oYXMobCkpIHtcbiAgICAgICAgICAgIG4gPSBhLmdldChsKS5vcGVyYXRpb247XG4gICAgICAgICAgICBhLmRlbGV0ZShsKTtcbiAgICAgICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihyLCBuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXCJxdWVyeVwiID09PSBuLmtpbmQgJiYgZS5kYXRhKSB7XG4gICAgICAgIGEuc2V0KG4ua2V5LCBlKTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBvLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgdmFyIGYgPSBvW3ZdO1xuICAgICAgICAgIHZhciBoID0gaS5nZXQoZik7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBpLnNldChmLCBoID0gbmV3IFNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGguYWRkKG4ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKShlKGsoKGUgPT4gXCJxdWVyeVwiICE9PSBlLmtpbmQgfHwgXCJjYWNoZS1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkobSgoZSA9PiBhZGRNZXRhZGF0YShlLCB7XG4gICAgICBjYWNoZU91dGNvbWU6IFwibWlzc1wiXG4gICAgfSkpKShnKFsgbShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gIXNob3VsZFNraXAoZSkgJiYgIWlzT3BlcmF0aW9uQ2FjaGVkKGUpKSkobykpLCBrKChlID0+IHNob3VsZFNraXAoZSkpKShvKSBdKSkpKSk7XG4gICAgcmV0dXJuIGcoWyBzLCBjIF0pO1xuICB9O1xufTtcblxudmFyIHJlZXhlY3V0ZU9wZXJhdGlvbiA9IChlLCByKSA9PiBlLnJlZXhlY3V0ZU9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKHIua2luZCwgciwge1xuICByZXF1ZXN0UG9saWN5OiBcIm5ldHdvcmstb25seVwiXG59KSk7XG5cbnZhciBUID0gbmV3IFNldDtcblxudmFyIHNzckV4Y2hhbmdlID0gKGUgPSB7fSkgPT4ge1xuICB2YXIgciA9ICEhZS5zdGFsZVdoaWxlUmV2YWxpZGF0ZTtcbiAgdmFyIHQgPSAhIWUuaW5jbHVkZUV4dGVuc2lvbnM7XG4gIHZhciBuID0ge307XG4gIHZhciBpID0gW107XG4gIHZhciBpbnZhbGlkYXRlID0gZSA9PiB7XG4gICAgaS5wdXNoKGUub3BlcmF0aW9uLmtleSk7XG4gICAgaWYgKDEgPT09IGkubGVuZ3RoKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICB3aGlsZSAoZSA9IGkuc2hpZnQoKSkge1xuICAgICAgICAgIG5bZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuICB2YXIgc3NyID0gKHtjbGllbnQ6IGksIGZvcndhcmQ6IG99KSA9PiBzID0+IHtcbiAgICB2YXIgYyA9IGUgJiYgXCJib29sZWFuXCIgPT0gdHlwZW9mIGUuaXNDbGllbnQgPyAhIWUuaXNDbGllbnQgOiAhaS5zdXNwZW5zZTtcbiAgICB2YXIgdSA9IG8obShtYXBUeXBlTmFtZXMpKGsoKGUgPT4gXCJ0ZWFyZG93blwiID09PSBlLmtpbmQgfHwgIW5bZS5rZXldIHx8ICEhbltlLmtleV0uaGFzTmV4dCB8fCBcIm5ldHdvcmstb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKHMpKSk7XG4gICAgdmFyIHAgPSBtKChlID0+IHtcbiAgICAgIHZhciBvID0gKChlLCByLCB0KSA9PiAoe1xuICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgIGRhdGE6IHIuZGF0YSA/IEpTT04ucGFyc2Uoci5kYXRhKSA6IHZvaWQgMCxcbiAgICAgICAgZXh0ZW5zaW9uczogdCAmJiByLmV4dGVuc2lvbnMgPyBKU09OLnBhcnNlKHIuZXh0ZW5zaW9ucykgOiB2b2lkIDAsXG4gICAgICAgIGVycm9yOiByLmVycm9yID8gbmV3IGEoe1xuICAgICAgICAgIG5ldHdvcmtFcnJvcjogci5lcnJvci5uZXR3b3JrRXJyb3IgPyBuZXcgRXJyb3Ioci5lcnJvci5uZXR3b3JrRXJyb3IpIDogdm9pZCAwLFxuICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IHIuZXJyb3IuZ3JhcGhRTEVycm9yc1xuICAgICAgICB9KSA6IHZvaWQgMCxcbiAgICAgICAgc3RhbGU6ICExLFxuICAgICAgICBoYXNOZXh0OiAhIXIuaGFzTmV4dFxuICAgICAgfSkpKGUsIG5bZS5rZXldLCB0KTtcbiAgICAgIGlmIChyICYmICFULmhhcyhlLmtleSkpIHtcbiAgICAgICAgby5zdGFsZSA9ICEwO1xuICAgICAgICBULmFkZChlLmtleSk7XG4gICAgICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihpLCBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm8sXG4gICAgICAgIG9wZXJhdGlvbjogYWRkTWV0YWRhdGEoZSwge1xuICAgICAgICAgIGNhY2hlT3V0Y29tZTogXCJoaXRcIlxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiAhIW5bZS5rZXldICYmIFwibmV0d29yay1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSkocykpO1xuICAgIGlmICghYykge1xuICAgICAgdSA9IHgoKGUgPT4ge1xuICAgICAgICB2YXIge29wZXJhdGlvbjogcn0gPSBlO1xuICAgICAgICBpZiAoXCJtdXRhdGlvblwiICE9PSByLmtpbmQpIHtcbiAgICAgICAgICB2YXIgYSA9ICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgdmFyIHQgPSB7XG4gICAgICAgICAgICAgIGhhc05leHQ6IGUuaGFzTmV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUuZGF0YSkge1xuICAgICAgICAgICAgICB0LmRhdGEgPSBKU09OLnN0cmluZ2lmeShlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgJiYgdm9pZCAwICE9PSBlLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgdC5leHRlbnNpb25zID0gSlNPTi5zdHJpbmdpZnkoZS5leHRlbnNpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmVycm9yKSB7XG4gICAgICAgICAgICAgIHQuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhRTEVycm9yczogZS5lcnJvci5ncmFwaFFMRXJyb3JzLm1hcCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWUucGF0aCAmJiAhZS5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogZS5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZS5lcnJvci5uZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0LmVycm9yLm5ldHdvcmtFcnJvciA9IFwiXCIgKyBlLmVycm9yLm5ldHdvcmtFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgfSkoZSwgdCk7XG4gICAgICAgICAgbltyLmtleV0gPSBhO1xuICAgICAgICB9XG4gICAgICB9KSkodSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSB4KGludmFsaWRhdGUpKHApO1xuICAgIH1cbiAgICByZXR1cm4gZyhbIHUsIHAgXSk7XG4gIH07XG4gIHNzci5yZXN0b3JlRGF0YSA9IGUgPT4ge1xuICAgIGZvciAodmFyIHIgaW4gZSkge1xuICAgICAgaWYgKG51bGwgIT09IG5bcl0pIHtcbiAgICAgICAgbltyXSA9IGVbcl07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzc3IuZXh0cmFjdERhdGEgPSAoKSA9PiB7XG4gICAgdmFyIGUgPSB7fTtcbiAgICBmb3IgKHZhciByIGluIG4pIHtcbiAgICAgIGlmIChudWxsICE9IG5bcl0pIHtcbiAgICAgICAgZVtyXSA9IG5bcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9O1xuICBpZiAoZSAmJiBlLmluaXRpYWxTdGF0ZSkge1xuICAgIHNzci5yZXN0b3JlRGF0YShlLmluaXRpYWxTdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHNzcjtcbn07XG5cbnZhciBzdWJzY3JpcHRpb25FeGNoYW5nZSA9ICh7Zm9yd2FyZFN1YnNjcmlwdGlvbjogZSwgZW5hYmxlQWxsT3BlcmF0aW9uczogciwgaXNTdWJzY3JpcHRpb25PcGVyYXRpb246IHR9KSA9PiAoe2NsaWVudDogYSwgZm9yd2FyZDogaX0pID0+IHtcbiAgdmFyIHUgPSB0IHx8IChlID0+IFwic3Vic2NyaXB0aW9uXCIgPT09IGUua2luZCB8fCAhIXIgJiYgKFwicXVlcnlcIiA9PT0gZS5raW5kIHx8IFwibXV0YXRpb25cIiA9PT0gZS5raW5kKSk7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IHcoKHQgPT4ge1xuICAgICAgdmFyIHtrZXk6IGl9ID0gdDtcbiAgICAgIHZhciB1ID0gaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCAmJiBlLmtleSA9PT0gaSkpKHIpO1xuICAgICAgcmV0dXJuIE8odSkoKHIgPT4ge1xuICAgICAgICB2YXIgdCA9IGUobyhyKSwgcik7XG4gICAgICAgIHJldHVybiBFKChlID0+IHtcbiAgICAgICAgICB2YXIgaSA9ICExO1xuICAgICAgICAgIHZhciBvO1xuICAgICAgICAgIHZhciB1O1xuICAgICAgICAgIGZ1bmN0aW9uIG5leHRSZXN1bHQodCkge1xuICAgICAgICAgICAgZS5uZXh0KHUgPSB1ID8gYyh1LCB0KSA6IG4ociwgdCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvID0gdC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBuZXh0UmVzdWx0LFxuICAgICAgICAgICAgICBlcnJvcih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IHRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBlLm5leHQocyhyLCB0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJzdWJzY3JpcHRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucmVleGVjdXRlT3BlcmF0aW9uKG1ha2VPcGVyYXRpb24oXCJ0ZWFyZG93blwiLCByLCByLmNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICh1ICYmIHUuaGFzTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0UmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGUuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgby51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKHQpKTtcbiAgICB9KSkoaygoZSA9PiBcInRlYXJkb3duXCIgIT09IGUua2luZCAmJiB1KGUpKSkocikpO1xuICAgIHZhciBwID0gaShrKChlID0+IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICF1KGUpKSkocikpO1xuICAgIHJldHVybiBnKFsgdCwgcCBdKTtcbiAgfTtcbn07XG5cbnZhciBkZWJ1Z0V4Y2hhbmdlID0gKHtmb3J3YXJkOiBlfSkgPT4ge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgPT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcmV0dXJuIHIgPT4gZShyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gciA9PiB4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogQ29tcGxldGVkIG9wZXJhdGlvbjogXCIsIGUpKSkoZSh4KChlID0+IGNvbnNvbGUubG9nKFwiW0V4Y2hhbmdlIGRlYnVnXTogSW5jb21pbmcgb3BlcmF0aW9uOiBcIiwgZSkpKShyKSkpO1xuICB9XG59O1xuXG52YXIgZmV0Y2hFeGNoYW5nZSA9ICh7Zm9yd2FyZDogZSwgZGlzcGF0Y2hEZWJ1Zzogcn0pID0+IHQgPT4ge1xuICB2YXIgbiA9IHcoKGUgPT4ge1xuICAgIHZhciBuID0gbyhlKTtcbiAgICB2YXIgYSA9IHUoZSwgbik7XG4gICAgdmFyIGkgPSBwKGUsIG4pO1xuICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiByKHtcbiAgICAgIHR5cGU6IFwiZmV0Y2hSZXF1ZXN0XCIsXG4gICAgICBtZXNzYWdlOiBcIkEgZmV0Y2ggcmVxdWVzdCBpcyBiZWluZyBleGVjdXRlZC5cIixcbiAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXJsOiBhLFxuICAgICAgICBmZXRjaE9wdGlvbnM6IGlcbiAgICAgIH0sXG4gICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgfSk7XG4gICAgdmFyIHMgPSBPKGsoKHIgPT4gXCJ0ZWFyZG93blwiID09PSByLmtpbmQgJiYgci5rZXkgPT09IGUua2V5KSkodCkpKGQoZSwgYSwgaSkpO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHJldHVybiBiKCh0ID0+IHtcbiAgICAgICAgdmFyIG4gPSAhdC5kYXRhID8gdC5lcnJvciA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHIoe1xuICAgICAgICAgIHR5cGU6IG4gPyBcImZldGNoRXJyb3JcIiA6IFwiZmV0Y2hTdWNjZXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogYEEgJHtuID8gXCJmYWlsZWRcIiA6IFwic3VjY2Vzc2Z1bFwifSBmZXRjaCByZXNwb25zZSBoYXMgYmVlbiByZXR1cm5lZC5gLFxuICAgICAgICAgIG9wZXJhdGlvbjogZSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1cmw6IGEsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnM6IGksXG4gICAgICAgICAgICB2YWx1ZTogbiB8fCB0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb3VyY2U6IFwiZmV0Y2hFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgfSkpKHMpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfSkpKGsoKGUgPT4gXCJ0ZWFyZG93blwiICE9PSBlLmtpbmQgJiYgKFwic3Vic2NyaXB0aW9uXCIgIT09IGUua2luZCB8fCAhIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSkodCkpO1xuICB2YXIgYSA9IGUoaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCB8fCBcInN1YnNjcmlwdGlvblwiID09PSBlLmtpbmQgJiYgIWUuY29udGV4dC5mZXRjaFN1YnNjcmlwdGlvbnMpKSh0KSk7XG4gIHJldHVybiBnKFsgbiwgYSBdKTtcbn07XG5cbnZhciBjb21wb3NlRXhjaGFuZ2VzID0gZSA9PiAoe2NsaWVudDogciwgZm9yd2FyZDogdCwgZGlzcGF0Y2hEZWJ1Zzogbn0pID0+IGUucmVkdWNlUmlnaHQoKChlLCB0KSA9PiB7XG4gIHZhciBhID0gITE7XG4gIHJldHVybiB0KHtcbiAgICBjbGllbnQ6IHIsXG4gICAgZm9yd2FyZChyKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZm9yd2FyZCgpIG11c3Qgb25seSBiZSBjYWxsZWQgb25jZSBpbiBlYWNoIEV4Y2hhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gTihlKE4ocikpKTtcbiAgICB9LFxuICAgIGRpc3BhdGNoRGVidWcoZSkge1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIG4oe1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHNvdXJjZTogdC5uYW1lLFxuICAgICAgICAuLi5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSksIHQpO1xuXG52YXIgbWFwRXhjaGFuZ2UgPSAoe29uT3BlcmF0aW9uOiBlLCBvblJlc3VsdDogciwgb25FcnJvcjogdH0pID0+ICh7Zm9yd2FyZDogbn0pID0+IGEgPT4gdygoZSA9PiB7XG4gIGlmICh0ICYmIGUuZXJyb3IpIHtcbiAgICB0KGUuZXJyb3IsIGUub3BlcmF0aW9uKTtcbiAgfVxuICB2YXIgbiA9IHIgJiYgcihlKSB8fCBlO1xuICByZXR1cm4gXCJ0aGVuXCIgaW4gbiA/IHEobikgOiBfKG4pO1xufSkpKG4odygociA9PiB7XG4gIHZhciB0ID0gZSAmJiBlKHIpIHx8IHI7XG4gIHJldHVybiBcInRoZW5cIiBpbiB0ID8gcSh0KSA6IF8odCk7XG59KSkoYSkpKTtcblxudmFyIGZhbGxiYWNrRXhjaGFuZ2UgPSAoe2Rpc3BhdGNoRGVidWc6IGV9KSA9PiByID0+IHtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHIgPSB4KChyID0+IHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgIT09IHIua2luZCAmJiBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgdmFyIHQgPSBgTm8gZXhjaGFuZ2UgaGFzIGhhbmRsZWQgb3BlcmF0aW9ucyBvZiBraW5kIFwiJHtyLmtpbmR9XCIuIENoZWNrIHdoZXRoZXIgeW91J3ZlIGFkZGVkIGFuIGV4Y2hhbmdlIHJlc3BvbnNpYmxlIGZvciB0aGVzZSBvcGVyYXRpb25zLmA7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBlKHtcbiAgICAgICAgICB0eXBlOiBcImZhbGxiYWNrQ2F0Y2hcIixcbiAgICAgICAgICBtZXNzYWdlOiB0LFxuICAgICAgICAgIG9wZXJhdGlvbjogcixcbiAgICAgICAgICBzb3VyY2U6IFwiZmFsbGJhY2tFeGNoYW5nZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLndhcm4odCk7XG4gICAgICB9XG4gICAgfSkpKHIpO1xuICB9XG4gIHJldHVybiBrKChlID0+ICExKSkocik7XG59O1xuXG52YXIgQyA9IGZ1bmN0aW9uIENsaWVudChlKSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgIWUudXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBjcmVhdGluZyBhbiB1cnFsLWNsaWVudCB3aXRob3V0IGEgdXJsLlwiKTtcbiAgfVxuICB2YXIgciA9IDA7XG4gIHZhciB0ID0gbmV3IE1hcDtcbiAgdmFyIG4gPSBuZXcgTWFwO1xuICB2YXIgYSA9IG5ldyBTZXQ7XG4gIHZhciBpID0gW107XG4gIHZhciBvID0ge1xuICAgIHVybDogZS51cmwsXG4gICAgZmV0Y2hTdWJzY3JpcHRpb25zOiBlLmZldGNoU3Vic2NyaXB0aW9ucyxcbiAgICBmZXRjaE9wdGlvbnM6IGUuZmV0Y2hPcHRpb25zLFxuICAgIGZldGNoOiBlLmZldGNoLFxuICAgIHByZWZlckdldE1ldGhvZDogZS5wcmVmZXJHZXRNZXRob2QsXG4gICAgcmVxdWVzdFBvbGljeTogZS5yZXF1ZXN0UG9saWN5IHx8IFwiY2FjaGUtZmlyc3RcIlxuICB9O1xuICB2YXIgcyA9IEQoKTtcbiAgZnVuY3Rpb24gbmV4dE9wZXJhdGlvbihlKSB7XG4gICAgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5raW5kIHx8IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICFhLmhhcyhlLmtleSkpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICB9IGVsc2UgaWYgKFwibXV0YXRpb25cIiAhPT0gZS5raW5kKSB7XG4gICAgICAgIGEuYWRkKGUua2V5KTtcbiAgICAgIH1cbiAgICAgIHMubmV4dChlKTtcbiAgICB9XG4gIH1cbiAgdmFyIGMgPSAhMTtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hPcGVyYXRpb24oZSkge1xuICAgIGlmIChlKSB7XG4gICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgIH1cbiAgICBpZiAoIWMpIHtcbiAgICAgIGMgPSAhMDtcbiAgICAgIHdoaWxlIChjICYmIChlID0gaS5zaGlmdCgpKSkge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfVxuICAgICAgYyA9ICExO1xuICAgIH1cbiAgfVxuICB2YXIgbWFrZVJlc3VsdFNvdXJjZSA9IGUgPT4ge1xuICAgIHZhciByID0gTyhrKChyID0+IFwidGVhcmRvd25cIiA9PT0gci5raW5kICYmIHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkoaygociA9PiByLm9wZXJhdGlvbi5raW5kID09PSBlLmtpbmQgJiYgci5vcGVyYXRpb24ua2V5ID09PSBlLmtleSAmJiAoIXIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlIHx8IHIub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlID09PSBlLmNvbnRleHQuX2luc3RhbmNlKSkpKEUpKTtcbiAgICBpZiAoXCJxdWVyeVwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBBKChlID0+ICEhZS5oYXNOZXh0KSwgITApKHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUigociA9PiB7XG4gICAgICAgIHZhciB0ID0gXyhyKTtcbiAgICAgICAgcmV0dXJuIHIuc3RhbGUgfHwgci5oYXNOZXh0ID8gdCA6IGcoWyB0LCBtKCgoKSA9PiB7XG4gICAgICAgICAgci5zdGFsZSA9ICEwO1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KSkoaCgxKShrKChyID0+IHIua2V5ID09PSBlLmtleSkpKHMuc291cmNlKSkpIF0pO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICBpZiAoXCJtdXRhdGlvblwiICE9PSBlLmtpbmQpIHtcbiAgICAgIHIgPSBNKCgoKSA9PiB7XG4gICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgdC5kZWxldGUoZS5rZXkpO1xuICAgICAgICBuLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIGMgPSAhMTtcbiAgICAgICAgZm9yICh2YXIgciA9IGkubGVuZ3RoIC0gMTsgciA+PSAwOyByLS0pIHtcbiAgICAgICAgICBpZiAoaVtyXS5rZXkgPT09IGUua2V5KSB7XG4gICAgICAgICAgICBpLnNwbGljZShyLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dE9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKFwidGVhcmRvd25cIiwgZSwgZS5jb250ZXh0KSk7XG4gICAgICB9KSkoYigociA9PiB7XG4gICAgICAgIGlmIChyLnN0YWxlKSB7XG4gICAgICAgICAgaWYgKCFyLmhhc05leHQpIHtcbiAgICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBpLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgIHZhciBvID0gaVtuXTtcbiAgICAgICAgICAgICAgaWYgKG8ua2V5ID09PSByLm9wZXJhdGlvbi5rZXkpIHtcbiAgICAgICAgICAgICAgICBhLmRlbGV0ZShvLmtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXIuaGFzTmV4dCkge1xuICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0LnNldChlLmtleSwgcik7XG4gICAgICB9KSkocikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICBuZXh0T3BlcmF0aW9uKGUpO1xuICAgICAgfSkpKHIpO1xuICAgIH1cbiAgICByZXR1cm4gTihyKTtcbiAgfTtcbiAgdmFyIHUgPSB0aGlzIGluc3RhbmNlb2YgQ2xpZW50ID8gdGhpcyA6IE9iamVjdC5jcmVhdGUoQ2xpZW50LnByb3RvdHlwZSk7XG4gIHZhciBwID0gT2JqZWN0LmFzc2lnbih1LCB7XG4gICAgc3VzcGVuc2U6ICEhZS5zdXNwZW5zZSxcbiAgICBvcGVyYXRpb25zJDogcy5zb3VyY2UsXG4gICAgcmVleGVjdXRlT3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IGUua2luZCkge1xuICAgICAgICBkaXNwYXRjaE9wZXJhdGlvbihlKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJtdXRhdGlvblwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgaS5wdXNoKGUpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGRpc3BhdGNoT3BlcmF0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobi5oYXMoZS5rZXkpKSB7XG4gICAgICAgIHZhciByID0gITE7XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgaS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIGlmIChpW3RdLmtleSA9PT0gZS5rZXkpIHtcbiAgICAgICAgICAgIGlbdF0gPSBlO1xuICAgICAgICAgICAgciA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShyIHx8IGEuaGFzKGUua2V5KSAmJiBcIm5ldHdvcmstb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpIHtcbiAgICAgICAgICBpLnB1c2goZSk7XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihkaXNwYXRjaE9wZXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYS5kZWxldGUoZS5rZXkpO1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZGlzcGF0Y2hPcGVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKGUsIHQsIG4pIHtcbiAgICAgIGlmICghbikge1xuICAgICAgICBuID0ge307XG4gICAgICB9XG4gICAgICB2YXIgYTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgXCJ0ZWFyZG93blwiICE9PSBlICYmIChhID0gbCh0LnF1ZXJ5KSkgIT09IGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBvcGVyYXRpb24gb2YgdHlwZSBcIiR7ZX1cIiBidXQgZm91bmQgXCIke2F9XCJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlT3BlcmF0aW9uKGUsIHQsIHtcbiAgICAgICAgX2luc3RhbmNlOiBcIm11dGF0aW9uXCIgPT09IGUgPyByID0gciArIDEgfCAwIDogdm9pZCAwLFxuICAgICAgICAuLi5vLFxuICAgICAgICAuLi5uLFxuICAgICAgICByZXF1ZXN0UG9saWN5OiBuLnJlcXVlc3RQb2xpY3kgfHwgby5yZXF1ZXN0UG9saWN5LFxuICAgICAgICBzdXNwZW5zZTogbi5zdXNwZW5zZSB8fCAhMSAhPT0gbi5zdXNwZW5zZSAmJiBwLnN1c3BlbnNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVSZXF1ZXN0T3BlcmF0aW9uKGUpIHtcbiAgICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUua2luZCkge1xuICAgICAgICByZXR1cm4gd2l0aFByb21pc2UobWFrZVJlc3VsdFNvdXJjZShlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2l0aFByb21pc2UoUygoKCkgPT4ge1xuICAgICAgICB2YXIgciA9IG4uZ2V0KGUua2V5KTtcbiAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgbi5zZXQoZS5rZXksIHIgPSBtYWtlUmVzdWx0U291cmNlKGUpKTtcbiAgICAgICAgfVxuICAgICAgICByID0gUCgoKCkgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoT3BlcmF0aW9uKGUpO1xuICAgICAgICB9KSkocik7XG4gICAgICAgIHZhciBhID0gdC5nZXQoZS5rZXkpO1xuICAgICAgICBpZiAoXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgYSAmJiAoYS5zdGFsZSB8fCBhLmhhc05leHQpKSB7XG4gICAgICAgICAgcmV0dXJuIFIoXykoZyhbIHIsIGsoKHIgPT4gciA9PT0gdC5nZXQoZS5rZXkpKSkoXyhhKSkgXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAgZXhlY3V0ZVF1ZXJ5KGUsIHIpIHtcbiAgICAgIHZhciB0ID0gcC5jcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKFwicXVlcnlcIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVTdWJzY3JpcHRpb24oZSwgcikge1xuICAgICAgdmFyIHQgPSBwLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJzdWJzY3JpcHRpb25cIiwgZSwgcik7XG4gICAgICByZXR1cm4gcC5leGVjdXRlUmVxdWVzdE9wZXJhdGlvbih0KTtcbiAgICB9LFxuICAgIGV4ZWN1dGVNdXRhdGlvbihlLCByKSB7XG4gICAgICB2YXIgdCA9IHAuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcIm11dGF0aW9uXCIsIGUsIHIpO1xuICAgICAgcmV0dXJuIHAuZXhlY3V0ZVJlcXVlc3RPcGVyYXRpb24odCk7XG4gICAgfSxcbiAgICByZWFkUXVlcnkoZSwgciwgdCkge1xuICAgICAgdmFyIG4gPSBudWxsO1xuICAgICAgeSgoZSA9PiB7XG4gICAgICAgIG4gPSBlO1xuICAgICAgfSkpKHAucXVlcnkoZSwgciwgdCkpLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXR1cm4gbjtcbiAgICB9LFxuICAgIHF1ZXJ5OiAoZSwgciwgdCkgPT4gcC5leGVjdXRlUXVlcnkodihlLCByKSwgdCksXG4gICAgc3Vic2NyaXB0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlU3Vic2NyaXB0aW9uKHYoZSwgciksIHQpLFxuICAgIG11dGF0aW9uOiAoZSwgciwgdCkgPT4gcC5leGVjdXRlTXV0YXRpb24odihlLCByKSwgdClcbiAgfSk7XG4gIHZhciBkID0gbm9vcDtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHZhciB7bmV4dDogZiwgc291cmNlOiB4fSA9IEQoKTtcbiAgICBwLnN1YnNjcmliZVRvRGVidWdUYXJnZXQgPSBlID0+IHkoZSkoeCk7XG4gICAgZCA9IGY7XG4gIH1cbiAgdmFyIHcgPSBjb21wb3NlRXhjaGFuZ2VzKGUuZXhjaGFuZ2VzKTtcbiAgdmFyIEUgPSBOKHcoe1xuICAgIGNsaWVudDogcCxcbiAgICBkaXNwYXRjaERlYnVnOiBkLFxuICAgIGZvcndhcmQ6IGZhbGxiYWNrRXhjaGFuZ2Uoe1xuICAgICAgZGlzcGF0Y2hEZWJ1ZzogZFxuICAgIH0pXG4gIH0pKHMuc291cmNlKSk7XG4gIFYoRSk7XG4gIHJldHVybiBwO1xufTtcblxudmFyIFEgPSBDO1xuXG5leHBvcnQgeyBDIGFzIENsaWVudCwgYSBhcyBDb21iaW5lZEVycm9yLCBjYWNoZUV4Y2hhbmdlLCBjb21wb3NlRXhjaGFuZ2VzLCBRIGFzIGNyZWF0ZUNsaWVudCwgdiBhcyBjcmVhdGVSZXF1ZXN0LCBkZWJ1Z0V4Y2hhbmdlLCBtYXBFeGNoYW5nZSBhcyBlcnJvckV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlLCBmb3JtYXREb2N1bWVudCwgZ3FsLCBzIGFzIG1ha2VFcnJvclJlc3VsdCwgbWFrZU9wZXJhdGlvbiwgbiBhcyBtYWtlUmVzdWx0LCBtYXBFeGNoYW5nZSwgYyBhcyBtZXJnZVJlc3VsdFBhdGNoLCBzc3JFeGNoYW5nZSwgdCBhcyBzdHJpbmdpZnlEb2N1bWVudCwgc3Vic2NyaXB0aW9uRXhjaGFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtY29yZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@urql/core/dist/urql-core.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/wonka/dist/wonka.mjs":
/*!*******************************************!*\
  !*** ./node_modules/wonka/dist/wonka.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buffer: () => (/* binding */ buffer),\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   concatAll: () => (/* binding */ concatAll),\n/* harmony export */   concatMap: () => (/* binding */ concatMap),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   flatten: () => (/* binding */ mergeAll),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromArray: () => (/* binding */ r),\n/* harmony export */   fromAsyncIterable: () => (/* binding */ fromAsyncIterable),\n/* harmony export */   fromCallbag: () => (/* binding */ fromCallbag),\n/* harmony export */   fromDomEvent: () => (/* binding */ fromDomEvent),\n/* harmony export */   fromIterable: () => (/* binding */ fromIterable),\n/* harmony export */   fromObservable: () => (/* binding */ fromObservable),\n/* harmony export */   fromPromise: () => (/* binding */ fromPromise),\n/* harmony export */   fromValue: () => (/* binding */ fromValue),\n/* harmony export */   interval: () => (/* binding */ interval),\n/* harmony export */   lazy: () => (/* binding */ lazy),\n/* harmony export */   make: () => (/* binding */ make),\n/* harmony export */   makeSubject: () => (/* binding */ makeSubject),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   mergeAll: () => (/* binding */ mergeAll),\n/* harmony export */   mergeMap: () => (/* binding */ mergeMap),\n/* harmony export */   never: () => (/* binding */ never),\n/* harmony export */   onEnd: () => (/* binding */ onEnd),\n/* harmony export */   onPush: () => (/* binding */ onPush),\n/* harmony export */   onStart: () => (/* binding */ onStart),\n/* harmony export */   pipe: () => (/* binding */ pipe),\n/* harmony export */   publish: () => (/* binding */ publish),\n/* harmony export */   sample: () => (/* binding */ sample),\n/* harmony export */   scan: () => (/* binding */ scan),\n/* harmony export */   share: () => (/* binding */ share),\n/* harmony export */   skip: () => (/* binding */ skip),\n/* harmony export */   skipUntil: () => (/* binding */ skipUntil),\n/* harmony export */   skipWhile: () => (/* binding */ skipWhile),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   switchAll: () => (/* binding */ switchAll),\n/* harmony export */   switchMap: () => (/* binding */ switchMap),\n/* harmony export */   take: () => (/* binding */ take),\n/* harmony export */   takeLast: () => (/* binding */ takeLast),\n/* harmony export */   takeUntil: () => (/* binding */ takeUntil),\n/* harmony export */   takeWhile: () => (/* binding */ takeWhile),\n/* harmony export */   tap: () => (/* binding */ onPush),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   toAsyncIterable: () => (/* binding */ toAsyncIterable),\n/* harmony export */   toCallbag: () => (/* binding */ toCallbag),\n/* harmony export */   toObservable: () => (/* binding */ toObservable),\n/* harmony export */   toPromise: () => (/* binding */ toPromise),\n/* harmony export */   zip: () => (/* binding */ zip)\n/* harmony export */ });\nvar teardownPlaceholder = () => {};\n\nvar e = teardownPlaceholder;\n\nfunction start(e) {\n  return {\n    tag: 0,\n    0: e\n  };\n}\n\nfunction push(e) {\n  return {\n    tag: 1,\n    0: e\n  };\n}\n\nvar asyncIteratorSymbol = () => \"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\";\n\nvar observableSymbol = () => \"function\" == typeof Symbol && Symbol.observable || \"@@observable\";\n\nvar identity = e => e;\n\nfunction buffer(r) {\n  return t => i => {\n    var a = [];\n    var f = e;\n    var n = e;\n    var s = !1;\n    var l = !1;\n    t((e => {\n      if (l) {} else if (0 === e) {\n        l = !0;\n        n(1);\n        if (a.length) {\n          i(push(a));\n        }\n        i(0);\n      } else if (0 === e.tag) {\n        f = e[0];\n        r((e => {\n          if (l) {} else if (0 === e) {\n            l = !0;\n            f(1);\n            if (a.length) {\n              i(push(a));\n            }\n            i(0);\n          } else if (0 === e.tag) {\n            n = e[0];\n          } else if (a.length) {\n            var r = push(a);\n            a = [];\n            i(r);\n          }\n        }));\n      } else {\n        a.push(e[0]);\n        if (!s) {\n          s = !0;\n          f(0);\n          n(0);\n        } else {\n          s = !1;\n        }\n      }\n    }));\n    i(start((e => {\n      if (1 === e && !l) {\n        l = !0;\n        f(1);\n        n(1);\n      } else if (!l && !s) {\n        s = !0;\n        f(0);\n        n(0);\n      }\n    })));\n  };\n}\n\nfunction concatMap(r) {\n  return t => i => {\n    var a = [];\n    var f = e;\n    var n = e;\n    var s = !1;\n    var l = !1;\n    var u = !1;\n    var o = !1;\n    function applyInnerSource(e) {\n      u = !0;\n      e((e => {\n        if (0 === e) {\n          if (u) {\n            u = !1;\n            if (a.length) {\n              applyInnerSource(r(a.shift()));\n            } else if (o) {\n              i(0);\n            } else if (!s) {\n              s = !0;\n              f(0);\n            }\n          }\n        } else if (0 === e.tag) {\n          l = !1;\n          (n = e[0])(0);\n        } else if (u) {\n          i(e);\n          if (l) {\n            l = !1;\n          } else {\n            n(0);\n          }\n        }\n      }));\n    }\n    t((e => {\n      if (o) {} else if (0 === e) {\n        o = !0;\n        if (!u && !a.length) {\n          i(0);\n        }\n      } else if (0 === e.tag) {\n        f = e[0];\n      } else {\n        s = !1;\n        if (u) {\n          a.push(e[0]);\n        } else {\n          applyInnerSource(r(e[0]));\n        }\n      }\n    }));\n    i(start((e => {\n      if (1 === e) {\n        if (!o) {\n          o = !0;\n          f(1);\n        }\n        if (u) {\n          u = !1;\n          n(1);\n        }\n      } else {\n        if (!o && !s) {\n          s = !0;\n          f(0);\n        }\n        if (u && !l) {\n          l = !0;\n          n(0);\n        }\n      }\n    })));\n  };\n}\n\nfunction concatAll(e) {\n  return concatMap(identity)(e);\n}\n\nfunction concat(e) {\n  return concatAll(r(e));\n}\n\nfunction filter(r) {\n  return t => i => {\n    var a = e;\n    t((e => {\n      if (0 === e) {\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n        i(e);\n      } else if (!r(e[0])) {\n        a(0);\n      } else {\n        i(e);\n      }\n    }));\n  };\n}\n\nfunction map(e) {\n  return r => t => r((r => {\n    if (0 === r || 0 === r.tag) {\n      t(r);\n    } else {\n      t(push(e(r[0])));\n    }\n  }));\n}\n\nfunction mergeMap(r) {\n  return t => i => {\n    var a = [];\n    var f = e;\n    var n = !1;\n    var s = !1;\n    t((t => {\n      if (s) {} else if (0 === t) {\n        s = !0;\n        if (!a.length) {\n          i(0);\n        }\n      } else if (0 === t.tag) {\n        f = t[0];\n      } else {\n        n = !1;\n        !function applyInnerSource(r) {\n          var t = e;\n          r((e => {\n            if (0 === e) {\n              if (a.length) {\n                var r = a.indexOf(t);\n                if (r > -1) {\n                  (a = a.slice()).splice(r, 1);\n                }\n                if (!a.length) {\n                  if (s) {\n                    i(0);\n                  } else if (!n) {\n                    n = !0;\n                    f(0);\n                  }\n                }\n              }\n            } else if (0 === e.tag) {\n              a.push(t = e[0]);\n              t(0);\n            } else if (a.length) {\n              i(e);\n              t(0);\n            }\n          }));\n        }(r(t[0]));\n        if (!n) {\n          n = !0;\n          f(0);\n        }\n      }\n    }));\n    i(start((e => {\n      if (1 === e) {\n        if (!s) {\n          s = !0;\n          f(1);\n        }\n        for (var r = 0, t = a, i = a.length; r < i; r++) {\n          t[r](1);\n        }\n        a.length = 0;\n      } else {\n        if (!s && !n) {\n          n = !0;\n          f(0);\n        } else {\n          n = !1;\n        }\n        for (var l = 0, u = a, o = a.length; l < o; l++) {\n          u[l](0);\n        }\n      }\n    })));\n  };\n}\n\nfunction mergeAll(e) {\n  return mergeMap(identity)(e);\n}\n\nfunction merge(e) {\n  return mergeAll(r(e));\n}\n\nfunction onEnd(e) {\n  return r => t => {\n    var i = !1;\n    r((r => {\n      if (i) {} else if (0 === r) {\n        i = !0;\n        t(0);\n        e();\n      } else if (0 === r.tag) {\n        var a = r[0];\n        t(start((r => {\n          if (1 === r) {\n            i = !0;\n            a(1);\n            e();\n          } else {\n            a(r);\n          }\n        })));\n      } else {\n        t(r);\n      }\n    }));\n  };\n}\n\nfunction onPush(e) {\n  return r => t => {\n    var i = !1;\n    r((r => {\n      if (i) {} else if (0 === r) {\n        i = !0;\n        t(0);\n      } else if (0 === r.tag) {\n        var a = r[0];\n        t(start((e => {\n          if (1 === e) {\n            i = !0;\n          }\n          a(e);\n        })));\n      } else {\n        e(r[0]);\n        t(r);\n      }\n    }));\n  };\n}\n\nfunction onStart(e) {\n  return r => t => r((r => {\n    if (0 === r) {\n      t(0);\n    } else if (0 === r.tag) {\n      t(r);\n      e();\n    } else {\n      t(r);\n    }\n  }));\n}\n\nfunction sample(r) {\n  return t => i => {\n    var a = e;\n    var f = e;\n    var n;\n    var s = !1;\n    var l = !1;\n    t((e => {\n      if (l) {} else if (0 === e) {\n        l = !0;\n        f(1);\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n      } else {\n        n = e[0];\n        if (!s) {\n          s = !0;\n          f(0);\n          a(0);\n        } else {\n          s = !1;\n        }\n      }\n    }));\n    r((e => {\n      if (l) {} else if (0 === e) {\n        l = !0;\n        a(1);\n        i(0);\n      } else if (0 === e.tag) {\n        f = e[0];\n      } else if (void 0 !== n) {\n        var r = push(n);\n        n = void 0;\n        i(r);\n      }\n    }));\n    i(start((e => {\n      if (1 === e && !l) {\n        l = !0;\n        a(1);\n        f(1);\n      } else if (!l && !s) {\n        s = !0;\n        a(0);\n        f(0);\n      }\n    })));\n  };\n}\n\nfunction scan(e, r) {\n  return t => i => {\n    var a = r;\n    t((r => {\n      if (0 === r) {\n        i(0);\n      } else if (0 === r.tag) {\n        i(r);\n      } else {\n        i(push(a = e(a, r[0])));\n      }\n    }));\n  };\n}\n\nfunction share(r) {\n  var t = [];\n  var i = e;\n  var a = !1;\n  return e => {\n    t.push(e);\n    if (1 === t.length) {\n      r((e => {\n        if (0 === e) {\n          for (var r = 0, f = t, n = t.length; r < n; r++) {\n            f[r](0);\n          }\n          t.length = 0;\n        } else if (0 === e.tag) {\n          i = e[0];\n        } else {\n          a = !1;\n          for (var s = 0, l = t, u = t.length; s < u; s++) {\n            l[s](e);\n          }\n        }\n      }));\n    }\n    e(start((r => {\n      if (1 === r) {\n        var f = t.indexOf(e);\n        if (f > -1) {\n          (t = t.slice()).splice(f, 1);\n        }\n        if (!t.length) {\n          i(1);\n        }\n      } else if (!a) {\n        a = !0;\n        i(0);\n      }\n    })));\n  };\n}\n\nfunction skip(r) {\n  return t => i => {\n    var a = e;\n    var f = r;\n    t((e => {\n      if (0 === e) {\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n        i(e);\n      } else if (f-- > 0) {\n        a(0);\n      } else {\n        i(e);\n      }\n    }));\n  };\n}\n\nfunction skipUntil(r) {\n  return t => i => {\n    var a = e;\n    var f = e;\n    var n = !0;\n    var s = !1;\n    var l = !1;\n    t((e => {\n      if (l) {} else if (0 === e) {\n        l = !0;\n        if (n) {\n          f(1);\n        }\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n        r((e => {\n          if (0 === e) {\n            if (n) {\n              l = !0;\n              a(1);\n            }\n          } else if (0 === e.tag) {\n            (f = e[0])(0);\n          } else {\n            n = !1;\n            f(1);\n          }\n        }));\n      } else if (!n) {\n        s = !1;\n        i(e);\n      } else if (!s) {\n        s = !0;\n        a(0);\n        f(0);\n      } else {\n        s = !1;\n      }\n    }));\n    i(start((e => {\n      if (1 === e && !l) {\n        l = !0;\n        a(1);\n        if (n) {\n          f(1);\n        }\n      } else if (!l && !s) {\n        s = !0;\n        if (n) {\n          f(0);\n        }\n        a(0);\n      }\n    })));\n  };\n}\n\nfunction skipWhile(r) {\n  return t => i => {\n    var a = e;\n    var f = !0;\n    t((e => {\n      if (0 === e) {\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n        i(e);\n      } else if (f) {\n        if (r(e[0])) {\n          a(0);\n        } else {\n          f = !1;\n          i(e);\n        }\n      } else {\n        i(e);\n      }\n    }));\n  };\n}\n\nfunction switchMap(r) {\n  return t => i => {\n    var a = e;\n    var f = e;\n    var n = !1;\n    var s = !1;\n    var l = !1;\n    var u = !1;\n    t((t => {\n      if (u) {} else if (0 === t) {\n        u = !0;\n        if (!l) {\n          i(0);\n        }\n      } else if (0 === t.tag) {\n        a = t[0];\n      } else {\n        if (l) {\n          f(1);\n          f = e;\n        }\n        if (!n) {\n          n = !0;\n          a(0);\n        } else {\n          n = !1;\n        }\n        !function applyInnerSource(e) {\n          l = !0;\n          e((e => {\n            if (!l) {} else if (0 === e) {\n              l = !1;\n              if (u) {\n                i(0);\n              } else if (!n) {\n                n = !0;\n                a(0);\n              }\n            } else if (0 === e.tag) {\n              s = !1;\n              (f = e[0])(0);\n            } else {\n              i(e);\n              if (!s) {\n                f(0);\n              } else {\n                s = !1;\n              }\n            }\n          }));\n        }(r(t[0]));\n      }\n    }));\n    i(start((e => {\n      if (1 === e) {\n        if (!u) {\n          u = !0;\n          a(1);\n        }\n        if (l) {\n          l = !1;\n          f(1);\n        }\n      } else {\n        if (!u && !n) {\n          n = !0;\n          a(0);\n        }\n        if (l && !s) {\n          s = !0;\n          f(0);\n        }\n      }\n    })));\n  };\n}\n\nfunction switchAll(e) {\n  return switchMap(identity)(e);\n}\n\nfunction take(r) {\n  return t => i => {\n    var a = e;\n    var f = !1;\n    var n = 0;\n    t((e => {\n      if (f) {} else if (0 === e) {\n        f = !0;\n        i(0);\n      } else if (0 === e.tag) {\n        if (r <= 0) {\n          f = !0;\n          i(0);\n          e[0](1);\n        } else {\n          a = e[0];\n        }\n      } else if (n++ < r) {\n        i(e);\n        if (!f && n >= r) {\n          f = !0;\n          i(0);\n          a(1);\n        }\n      } else {\n        i(e);\n      }\n    }));\n    i(start((e => {\n      if (1 === e && !f) {\n        f = !0;\n        a(1);\n      } else if (0 === e && !f && n < r) {\n        a(0);\n      }\n    })));\n  };\n}\n\nfunction takeLast(t) {\n  return i => a => {\n    var f = [];\n    var n = e;\n    i((e => {\n      if (0 === e) {\n        r(f)(a);\n      } else if (0 === e.tag) {\n        if (t <= 0) {\n          e[0](1);\n          r(f)(a);\n        } else {\n          (n = e[0])(0);\n        }\n      } else {\n        if (f.length >= t && t) {\n          f.shift();\n        }\n        f.push(e[0]);\n        n(0);\n      }\n    }));\n  };\n}\n\nfunction takeUntil(r) {\n  return t => i => {\n    var a = e;\n    var f = e;\n    var n = !1;\n    t((e => {\n      if (n) {} else if (0 === e) {\n        n = !0;\n        f(1);\n        i(0);\n      } else if (0 === e.tag) {\n        a = e[0];\n        r((e => {\n          if (0 === e) {} else if (0 === e.tag) {\n            (f = e[0])(0);\n          } else {\n            n = !0;\n            f(1);\n            a(1);\n            i(0);\n          }\n        }));\n      } else {\n        i(e);\n      }\n    }));\n    i(start((e => {\n      if (1 === e && !n) {\n        n = !0;\n        a(1);\n        f(1);\n      } else if (!n) {\n        a(0);\n      }\n    })));\n  };\n}\n\nfunction takeWhile(r, t) {\n  return i => a => {\n    var f = e;\n    var n = !1;\n    i((e => {\n      if (n) {} else if (0 === e) {\n        n = !0;\n        a(0);\n      } else if (0 === e.tag) {\n        f = e[0];\n        a(e);\n      } else if (!r(e[0])) {\n        n = !0;\n        if (t) {\n          a(e);\n        }\n        a(0);\n        f(1);\n      } else {\n        a(e);\n      }\n    }));\n  };\n}\n\nfunction debounce(e) {\n  return r => t => {\n    var i;\n    var a = !1;\n    var f = !1;\n    r((r => {\n      if (f) {} else if (0 === r) {\n        f = !0;\n        if (i) {\n          a = !0;\n        } else {\n          t(0);\n        }\n      } else if (0 === r.tag) {\n        var n = r[0];\n        t(start((e => {\n          if (1 === e && !f) {\n            f = !0;\n            a = !1;\n            if (i) {\n              clearTimeout(i);\n            }\n            n(1);\n          } else if (!f) {\n            n(0);\n          }\n        })));\n      } else {\n        if (i) {\n          clearTimeout(i);\n        }\n        i = setTimeout((() => {\n          i = void 0;\n          t(r);\n          if (a) {\n            t(0);\n          }\n        }), e(r[0]));\n      }\n    }));\n  };\n}\n\nfunction delay(e) {\n  return r => t => {\n    var i = 0;\n    r((r => {\n      if (0 !== r && 0 === r.tag) {\n        t(r);\n      } else {\n        i++;\n        setTimeout((() => {\n          if (i) {\n            i--;\n            t(r);\n          }\n        }), e);\n      }\n    }));\n  };\n}\n\nfunction throttle(e) {\n  return r => t => {\n    var i = !1;\n    var a;\n    r((r => {\n      if (0 === r) {\n        if (a) {\n          clearTimeout(a);\n        }\n        t(0);\n      } else if (0 === r.tag) {\n        var f = r[0];\n        t(start((e => {\n          if (1 === e) {\n            if (a) {\n              clearTimeout(a);\n            }\n            f(1);\n          } else {\n            f(0);\n          }\n        })));\n      } else if (!i) {\n        i = !0;\n        if (a) {\n          clearTimeout(a);\n        }\n        a = setTimeout((() => {\n          a = void 0;\n          i = !1;\n        }), e(r[0]));\n        t(r);\n      }\n    }));\n  };\n}\n\nfunction lazy(e) {\n  return r => e()(r);\n}\n\nfunction fromAsyncIterable(e) {\n  return r => {\n    var t = e[asyncIteratorSymbol()] && e[asyncIteratorSymbol()]() || e;\n    var i = !1;\n    var a = !1;\n    var f = !1;\n    var n;\n    r(start((async e => {\n      if (1 === e) {\n        i = !0;\n        if (t.return) {\n          t.return();\n        }\n      } else if (a) {\n        f = !0;\n      } else {\n        for (f = a = !0; f && !i; ) {\n          if ((n = await t.next()).done) {\n            i = !0;\n            if (t.return) {\n              await t.return();\n            }\n            r(0);\n          } else {\n            try {\n              f = !1;\n              r(push(n.value));\n            } catch (e) {\n              if (t.throw) {\n                if (i = !!(await t.throw(e)).done) {\n                  r(0);\n                }\n              } else {\n                throw e;\n              }\n            }\n          }\n        }\n        a = !1;\n      }\n    })));\n  };\n}\n\nfunction fromIterable(e) {\n  if (e[Symbol.asyncIterator]) {\n    return fromAsyncIterable(e);\n  }\n  return r => {\n    var t = e[Symbol.iterator]();\n    var i = !1;\n    var a = !1;\n    var f = !1;\n    var n;\n    r(start((e => {\n      if (1 === e) {\n        i = !0;\n        if (t.return) {\n          t.return();\n        }\n      } else if (a) {\n        f = !0;\n      } else {\n        for (f = a = !0; f && !i; ) {\n          if ((n = t.next()).done) {\n            i = !0;\n            if (t.return) {\n              t.return();\n            }\n            r(0);\n          } else {\n            try {\n              f = !1;\n              r(push(n.value));\n            } catch (e) {\n              if (t.throw) {\n                if (i = !!t.throw(e).done) {\n                  r(0);\n                }\n              } else {\n                throw e;\n              }\n            }\n          }\n        }\n        a = !1;\n      }\n    })));\n  };\n}\n\nvar r = fromIterable;\n\nfunction fromValue(e) {\n  return r => {\n    var t = !1;\n    r(start((i => {\n      if (1 === i) {\n        t = !0;\n      } else if (!t) {\n        t = !0;\n        r(push(e));\n        r(0);\n      }\n    })));\n  };\n}\n\nfunction make(e) {\n  return r => {\n    var t = !1;\n    var i = e({\n      next(e) {\n        if (!t) {\n          r(push(e));\n        }\n      },\n      complete() {\n        if (!t) {\n          t = !0;\n          r(0);\n        }\n      }\n    });\n    r(start((e => {\n      if (1 === e && !t) {\n        t = !0;\n        i();\n      }\n    })));\n  };\n}\n\nfunction makeSubject() {\n  var e;\n  var r;\n  return {\n    source: share(make((t => {\n      e = t.next;\n      r = t.complete;\n      return teardownPlaceholder;\n    }))),\n    next(r) {\n      if (e) {\n        e(r);\n      }\n    },\n    complete() {\n      if (r) {\n        r();\n      }\n    }\n  };\n}\n\nvar empty = e => {\n  var r = !1;\n  e(start((t => {\n    if (1 === t) {\n      r = !0;\n    } else if (!r) {\n      r = !0;\n      e(0);\n    }\n  })));\n};\n\nvar never = r => {\n  r(start(e));\n};\n\nfunction interval(e) {\n  return make((r => {\n    var t = 0;\n    var i = setInterval((() => r.next(t++)), e);\n    return () => clearInterval(i);\n  }));\n}\n\nfunction fromDomEvent(e, r) {\n  return make((t => {\n    e.addEventListener(r, t.next);\n    return () => e.removeEventListener(r, t.next);\n  }));\n}\n\nfunction fromPromise(e) {\n  return make((r => {\n    e.then((e => {\n      Promise.resolve(e).then((() => {\n        r.next(e);\n        r.complete();\n      }));\n    }));\n    return teardownPlaceholder;\n  }));\n}\n\nfunction subscribe(r) {\n  return t => {\n    var i = e;\n    var a = !1;\n    t((e => {\n      if (0 === e) {\n        a = !0;\n      } else if (0 === e.tag) {\n        (i = e[0])(0);\n      } else if (!a) {\n        r(e[0]);\n        i(0);\n      }\n    }));\n    return {\n      unsubscribe() {\n        if (!a) {\n          a = !0;\n          i(1);\n        }\n      }\n    };\n  };\n}\n\nfunction forEach(e) {\n  return r => {\n    subscribe(e)(r);\n  };\n}\n\nfunction publish(e) {\n  subscribe((e => {}))(e);\n}\n\nvar t = {\n  done: !0\n};\n\nvar toAsyncIterable = r => {\n  var i = [];\n  var a = !1;\n  var f = !1;\n  var n = !1;\n  var s = e;\n  var l;\n  return {\n    async next() {\n      if (!f) {\n        f = !0;\n        r((e => {\n          if (a) {} else if (0 === e) {\n            if (l) {\n              l = l(t);\n            }\n            a = !0;\n          } else if (0 === e.tag) {\n            n = !0;\n            (s = e[0])(0);\n          } else {\n            n = !1;\n            if (l) {\n              l = l({\n                value: e[0],\n                done: !1\n              });\n            } else {\n              i.push(e[0]);\n            }\n          }\n        }));\n      }\n      if (a && !i.length) {\n        return t;\n      } else if (!a && !n && i.length <= 1) {\n        n = !0;\n        s(0);\n      }\n      return i.length ? {\n        value: i.shift(),\n        done: !1\n      } : new Promise((e => l = e));\n    },\n    async return() {\n      if (!a) {\n        l = s(1);\n      }\n      a = !0;\n      return t;\n    },\n    [asyncIteratorSymbol()]() {\n      return this;\n    }\n  };\n};\n\nfunction toArray(r) {\n  var t = [];\n  var i = e;\n  var a = !1;\n  r((e => {\n    if (0 === e) {\n      a = !0;\n    } else if (0 === e.tag) {\n      (i = e[0])(0);\n    } else {\n      t.push(e[0]);\n      i(0);\n    }\n  }));\n  if (!a) {\n    i(1);\n  }\n  return t;\n}\n\nfunction toPromise(r) {\n  return new Promise((t => {\n    var i = e;\n    var a;\n    r((e => {\n      if (0 === e) {\n        Promise.resolve(a).then(t);\n      } else if (0 === e.tag) {\n        (i = e[0])(0);\n      } else {\n        a = e[0];\n        i(0);\n      }\n    }));\n  }));\n}\n\nfunction zip(r) {\n  var t = Object.keys(r).length;\n  return i => {\n    var a = new Set;\n    var f = Array.isArray(r) ? new Array(t).fill(e) : {};\n    var n = Array.isArray(r) ? new Array(t) : {};\n    var s = !1;\n    var l = !1;\n    var u = !1;\n    var o = 0;\n    var loop = function(v) {\n      r[v]((c => {\n        if (0 === c) {\n          if (o >= t - 1) {\n            u = !0;\n            i(0);\n          } else {\n            o++;\n          }\n        } else if (0 === c.tag) {\n          f[v] = c[0];\n        } else if (!u) {\n          n[v] = c[0];\n          a.add(v);\n          if (!s && a.size < t) {\n            if (!l) {\n              for (var h in r) {\n                if (!a.has(h)) {\n                  (f[h] || e)(0);\n                }\n              }\n            } else {\n              l = !1;\n            }\n          } else {\n            s = !0;\n            l = !1;\n            i(push(Array.isArray(n) ? n.slice() : {\n              ...n\n            }));\n          }\n        }\n      }));\n    };\n    for (var v in r) {\n      loop(v);\n    }\n    i(start((e => {\n      if (u) {} else if (1 === e) {\n        u = !0;\n        for (var r in f) {\n          f[r](1);\n        }\n      } else if (!l) {\n        l = !0;\n        for (var t in f) {\n          f[t](0);\n        }\n      }\n    })));\n  };\n}\n\nfunction combine(...e) {\n  return zip(e);\n}\n\nfunction fromObservable(e) {\n  return r => {\n    var t = (e[observableSymbol()] ? e[observableSymbol()]() : e).subscribe({\n      next(e) {\n        r(push(e));\n      },\n      complete() {\n        r(0);\n      },\n      error(e) {\n        throw e;\n      }\n    });\n    r(start((e => {\n      if (1 === e) {\n        t.unsubscribe();\n      }\n    })));\n  };\n}\n\nfunction toObservable(r) {\n  return {\n    subscribe(t, i, a) {\n      var f = \"object\" == typeof t ? t : {\n        next: t,\n        error: i,\n        complete: a\n      };\n      var n = e;\n      var s = !1;\n      r((e => {\n        if (s) {} else if (0 === e) {\n          s = !0;\n          if (f.complete) {\n            f.complete();\n          }\n        } else if (0 === e.tag) {\n          (n = e[0])(0);\n        } else {\n          f.next(e[0]);\n          n(0);\n        }\n      }));\n      var l = {\n        closed: !1,\n        unsubscribe() {\n          l.closed = !0;\n          s = !0;\n          n(1);\n        }\n      };\n      return l;\n    },\n    [observableSymbol()]() {\n      return this;\n    }\n  };\n}\n\nfunction fromCallbag(e) {\n  return r => {\n    e(0, ((e, t) => {\n      if (0 === e) {\n        r(start((e => {\n          t(e + 1);\n        })));\n      } else if (1 === e) {\n        r(push(t));\n      } else {\n        r(0);\n      }\n    }));\n  };\n}\n\nfunction toCallbag(e) {\n  return (r, t) => {\n    if (0 === r) {\n      e((e => {\n        if (0 === e) {\n          t(2);\n        } else if (0 === e.tag) {\n          t(0, (r => {\n            if (r < 3) {\n              e[0](r - 1);\n            }\n          }));\n        } else {\n          t(1, e[0]);\n        }\n      }));\n    }\n  };\n}\n\nvar pipe = (...e) => {\n  var r = e[0];\n  for (var t = 1, i = e.length; t < i; t++) {\n    r = e[t](r);\n  }\n  return r;\n};\n\n\n//# sourceMappingURL=wonka.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93b25rYS9kaXN0L3dvbmthLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSLHlCQUF5QixTQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUix5QkFBeUIsU0FBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRWdqQjtBQUNoakIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcHBsZS9EZXNrdG9wL0FlbGYgUHJvamVjdHMvYWVsZi1jb2RlLWdlbmVyYXRvci9ub2RlX21vZHVsZXMvd29ua2EvZGlzdC93b25rYS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRlYXJkb3duUGxhY2Vob2xkZXIgPSAoKSA9PiB7fTtcblxudmFyIGUgPSB0ZWFyZG93blBsYWNlaG9sZGVyO1xuXG5mdW5jdGlvbiBzdGFydChlKSB7XG4gIHJldHVybiB7XG4gICAgdGFnOiAwLFxuICAgIDA6IGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHVzaChlKSB7XG4gIHJldHVybiB7XG4gICAgdGFnOiAxLFxuICAgIDA6IGVcbiAgfTtcbn1cblxudmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAoKSA9PiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuXG52YXIgb2JzZXJ2YWJsZVN5bWJvbCA9ICgpID0+IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8IFwiQEBvYnNlcnZhYmxlXCI7XG5cbnZhciBpZGVudGl0eSA9IGUgPT4gZTtcblxuZnVuY3Rpb24gYnVmZmVyKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSBlO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgbigxKTtcbiAgICAgICAgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgaShwdXNoKGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBmID0gZVswXTtcbiAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaShwdXNoKGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgbiA9IGVbMF07XG4gICAgICAgICAgfSBlbHNlIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHIgPSBwdXNoKGEpO1xuICAgICAgICAgICAgYSA9IFtdO1xuICAgICAgICAgICAgaShyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEucHVzaChlWzBdKTtcbiAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGYoMSk7XG4gICAgICAgIG4oMSk7XG4gICAgICB9IGVsc2UgaWYgKCFsICYmICFzKSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgZigwKTtcbiAgICAgICAgbigwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb25jYXRNYXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IFtdO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9IGU7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHZhciB1ID0gITE7XG4gICAgdmFyIG8gPSAhMTtcbiAgICBmdW5jdGlvbiBhcHBseUlubmVyU291cmNlKGUpIHtcbiAgICAgIHUgPSAhMDtcbiAgICAgIGUoKGUgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICB1ID0gITE7XG4gICAgICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgYXBwbHlJbm5lclNvdXJjZShyKGEuc2hpZnQoKSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvKSB7XG4gICAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzKSB7XG4gICAgICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgKG4gPSBlWzBdKSgwKTtcbiAgICAgICAgfSBlbHNlIGlmICh1KSB7XG4gICAgICAgICAgaShlKTtcbiAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChvKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIG8gPSAhMDtcbiAgICAgICAgaWYgKCF1ICYmICFhLmxlbmd0aCkge1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gITE7XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgYS5wdXNoKGVbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcGx5SW5uZXJTb3VyY2UocihlWzBdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpZiAoIW8pIHtcbiAgICAgICAgICBvID0gITA7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHUgPSAhMTtcbiAgICAgICAgICBuKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW8gJiYgIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSAmJiAhbCkge1xuICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICBuKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29uY2F0QWxsKGUpIHtcbiAgcmV0dXJuIGNvbmNhdE1hcChpZGVudGl0eSkoZSk7XG59XG5cbmZ1bmN0aW9uIGNvbmNhdChlKSB7XG4gIHJldHVybiBjb25jYXRBbGwocihlKSk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmICghcihlWzBdKSkge1xuICAgICAgICBhKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcChlKSB7XG4gIHJldHVybiByID0+IHQgPT4gcigociA9PiB7XG4gICAgaWYgKDAgPT09IHIgfHwgMCA9PT0gci50YWcpIHtcbiAgICAgIHQocik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQocHVzaChlKHJbMF0pKSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlTWFwKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHQoKHQgPT4ge1xuICAgICAgaWYgKHMpIHt9IGVsc2UgaWYgKDAgPT09IHQpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBpZiAoIWEubGVuZ3RoKSB7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSB0LnRhZykge1xuICAgICAgICBmID0gdFswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAhMTtcbiAgICAgICAgIWZ1bmN0aW9uIGFwcGx5SW5uZXJTb3VyY2Uocikge1xuICAgICAgICAgIHZhciB0ID0gZTtcbiAgICAgICAgICByKChlID0+IHtcbiAgICAgICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICAgIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciByID0gYS5pbmRleE9mKHQpO1xuICAgICAgICAgICAgICAgIGlmIChyID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgIChhID0gYS5zbGljZSgpKS5zcGxpY2UociwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgICAgYS5wdXNoKHQgPSBlWzBdKTtcbiAgICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaShlKTtcbiAgICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0ocih0WzBdKSk7XG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgciA9IDAsIHQgPSBhLCBpID0gYS5sZW5ndGg7IHIgPCBpOyByKyspIHtcbiAgICAgICAgICB0W3JdKDEpO1xuICAgICAgICB9XG4gICAgICAgIGEubGVuZ3RoID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcyAmJiAhbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsID0gMCwgdSA9IGEsIG8gPSBhLmxlbmd0aDsgbCA8IG87IGwrKykge1xuICAgICAgICAgIHVbbF0oMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZUFsbChlKSB7XG4gIHJldHVybiBtZXJnZU1hcChpZGVudGl0eSkoZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlKGUpIHtcbiAgcmV0dXJuIG1lcmdlQWxsKHIoZSkpO1xufVxuXG5mdW5jdGlvbiBvbkVuZChlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpID0gITE7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoaSkge30gZWxzZSBpZiAoMCA9PT0gcikge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIHQoMCk7XG4gICAgICAgIGUoKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGEgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChyID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gcikge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgYSgxKTtcbiAgICAgICAgICAgIGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYShyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0KHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25QdXNoKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAhMTtcbiAgICByKChyID0+IHtcbiAgICAgIGlmIChpKSB7fSBlbHNlIGlmICgwID09PSByKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgdCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGEgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChlID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhKGUpO1xuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZShyWzBdKTtcbiAgICAgICAgdChyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uU3RhcnQoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHIoKHIgPT4ge1xuICAgIGlmICgwID09PSByKSB7XG4gICAgICB0KDApO1xuICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgIHQocik7XG4gICAgICBlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQocik7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZShyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG47XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBmKDEpO1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSBlWzBdO1xuICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgICByKChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gbikge1xuICAgICAgICB2YXIgciA9IHB1c2gobik7XG4gICAgICAgIG4gPSB2b2lkIDA7XG4gICAgICAgIGkocik7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBmKDEpO1xuICAgICAgfSBlbHNlIGlmICghbCAmJiAhcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICAgIGYoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2NhbihlLCByKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gcjtcbiAgICB0KChyID0+IHtcbiAgICAgIGlmICgwID09PSByKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIGkocik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKHB1c2goYSA9IGUoYSwgclswXSkpKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNoYXJlKHIpIHtcbiAgdmFyIHQgPSBbXTtcbiAgdmFyIGkgPSBlO1xuICB2YXIgYSA9ICExO1xuICByZXR1cm4gZSA9PiB7XG4gICAgdC5wdXNoKGUpO1xuICAgIGlmICgxID09PSB0Lmxlbmd0aCkge1xuICAgICAgcigoZSA9PiB7XG4gICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgZm9yICh2YXIgciA9IDAsIGYgPSB0LCBuID0gdC5sZW5ndGg7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIGZbcl0oMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHQubGVuZ3RoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgIGkgPSBlWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGEgPSAhMTtcbiAgICAgICAgICBmb3IgKHZhciBzID0gMCwgbCA9IHQsIHUgPSB0Lmxlbmd0aDsgcyA8IHU7IHMrKykge1xuICAgICAgICAgICAgbFtzXShlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gICAgZShzdGFydCgociA9PiB7XG4gICAgICBpZiAoMSA9PT0gcikge1xuICAgICAgICB2YXIgZiA9IHQuaW5kZXhPZihlKTtcbiAgICAgICAgaWYgKGYgPiAtMSkge1xuICAgICAgICAgICh0ID0gdC5zbGljZSgpKS5zcGxpY2UoZiwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0Lmxlbmd0aCkge1xuICAgICAgICAgIGkoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWEpIHtcbiAgICAgICAgYSA9ICEwO1xuICAgICAgICBpKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNraXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSByO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIGkoZSk7XG4gICAgICB9IGVsc2UgaWYgKGYtLSA+IDApIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBza2lwVW50aWwocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITA7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgICBsID0gITA7XG4gICAgICAgICAgICAgIGEoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICExO1xuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoIW4pIHtcbiAgICAgICAgcyA9ICExO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmICghcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICAgIGYoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gITE7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWwgJiYgIXMpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgICAgYSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBza2lwV2hpbGUocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSAhMDtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmIChmKSB7XG4gICAgICAgIGlmIChyKGVbMF0pKSB7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmID0gITE7XG4gICAgICAgICAgaShlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN3aXRjaE1hcChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdmFyIHUgPSAhMTtcbiAgICB0KCh0ID0+IHtcbiAgICAgIGlmICh1KSB7fSBlbHNlIGlmICgwID09PSB0KSB7XG4gICAgICAgIHUgPSAhMDtcbiAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSB0LnRhZykge1xuICAgICAgICBhID0gdFswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgICBmID0gZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuID0gITE7XG4gICAgICAgIH1cbiAgICAgICAgIWZ1bmN0aW9uIGFwcGx5SW5uZXJTb3VyY2UoZSkge1xuICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICBlKChlID0+IHtcbiAgICAgICAgICAgIGlmICghbCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghbikge1xuICAgICAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgICAgICBhKDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGkoZSk7XG4gICAgICAgICAgICAgIGlmICghcykge1xuICAgICAgICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcyA9ICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KHIodFswXSkpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGlmICghdSkge1xuICAgICAgICAgIHUgPSAhMDtcbiAgICAgICAgICBhKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdSAmJiAhbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsICYmICFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzd2l0Y2hBbGwoZSkge1xuICByZXR1cm4gc3dpdGNoTWFwKGlkZW50aXR5KShlKTtcbn1cblxuZnVuY3Rpb24gdGFrZShyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHZhciBuID0gMDtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChmKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgaWYgKHIgPD0gMCkge1xuICAgICAgICAgIGYgPSAhMDtcbiAgICAgICAgICBpKDApO1xuICAgICAgICAgIGVbMF0oMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobisrIDwgcikge1xuICAgICAgICBpKGUpO1xuICAgICAgICBpZiAoIWYgJiYgbiA+PSByKSB7XG4gICAgICAgICAgZiA9ICEwO1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgYSgxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhZikge1xuICAgICAgICBmID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUgJiYgIWYgJiYgbiA8IHIpIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YWtlTGFzdCh0KSB7XG4gIHJldHVybiBpID0+IGEgPT4ge1xuICAgIHZhciBmID0gW107XG4gICAgdmFyIG4gPSBlO1xuICAgIGkoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgcihmKShhKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgaWYgKHQgPD0gMCkge1xuICAgICAgICAgIGVbMF0oMSk7XG4gICAgICAgICAgcihmKShhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAobiA9IGVbMF0pKDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZi5sZW5ndGggPj0gdCAmJiB0KSB7XG4gICAgICAgICAgZi5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIGYucHVzaChlWzBdKTtcbiAgICAgICAgbigwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRha2VVbnRpbChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChuKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgZigxKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmICgwID09PSBlKSB7fSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICAgIGEoMSk7XG4gICAgICAgICAgICBpKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbikge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICAgIGYoMSk7XG4gICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgIGEoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFrZVdoaWxlKHIsIHQpIHtcbiAgcmV0dXJuIGkgPT4gYSA9PiB7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITE7XG4gICAgaSgoZSA9PiB7XG4gICAgICBpZiAobikge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGYgPSBlWzBdO1xuICAgICAgICBhKGUpO1xuICAgICAgfSBlbHNlIGlmICghcihlWzBdKSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgYShlKTtcbiAgICAgICAgfVxuICAgICAgICBhKDApO1xuICAgICAgICBmKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKGYpIHt9IGVsc2UgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGEgPSAhMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0KDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIHZhciBuID0gclswXTtcbiAgICAgICAgdChzdGFydCgoZSA9PiB7XG4gICAgICAgICAgaWYgKDEgPT09IGUgJiYgIWYpIHtcbiAgICAgICAgICAgIGYgPSAhMDtcbiAgICAgICAgICAgIGEgPSAhMTtcbiAgICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4oMSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghZikge1xuICAgICAgICAgICAgbigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChpKTtcbiAgICAgICAgfVxuICAgICAgICBpID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgIGkgPSB2b2lkIDA7XG4gICAgICAgICAgdChyKTtcbiAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBlKHJbMF0pKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlbGF5KGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKDAgIT09IHIgJiYgMCA9PT0gci50YWcpIHtcbiAgICAgICAgdChyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB0KHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGhyb3R0bGUoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaSA9ICExO1xuICAgIHZhciBhO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgdCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGYgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChlID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2UgaWYgKCFpKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICBhID0gdm9pZCAwO1xuICAgICAgICAgIGkgPSAhMTtcbiAgICAgICAgfSksIGUoclswXSkpO1xuICAgICAgICB0KHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbGF6eShlKSB7XG4gIHJldHVybiByID0+IGUoKShyKTtcbn1cblxuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSBlW2FzeW5jSXRlcmF0b3JTeW1ib2woKV0gJiYgZVthc3luY0l0ZXJhdG9yU3ltYm9sKCldKCkgfHwgZTtcbiAgICB2YXIgaSA9ICExO1xuICAgIHZhciBhID0gITE7XG4gICAgdmFyIGYgPSAhMTtcbiAgICB2YXIgbjtcbiAgICByKHN0YXJ0KChhc3luYyBlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgdC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoZiA9IGEgPSAhMDsgZiAmJiAhaTsgKSB7XG4gICAgICAgICAgaWYgKChuID0gYXdhaXQgdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICAgIGlmICh0LnJldHVybikge1xuICAgICAgICAgICAgICBhd2FpdCB0LnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZiA9ICExO1xuICAgICAgICAgICAgICByKHB1c2gobi52YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBpZiAodC50aHJvdykge1xuICAgICAgICAgICAgICAgIGlmIChpID0gISEoYXdhaXQgdC50aHJvdyhlKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhID0gITE7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGUpIHtcbiAgaWYgKGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGUpO1xuICB9XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIHZhciBpID0gITE7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHZhciBuO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICBpZiAodC5yZXR1cm4pIHtcbiAgICAgICAgICB0LnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChmID0gYSA9ICEwOyBmICYmICFpOyApIHtcbiAgICAgICAgICBpZiAoKG4gPSB0Lm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgICAgIHQucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmID0gITE7XG4gICAgICAgICAgICAgIHIocHVzaChuLnZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGlmICh0LnRocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPSAhIXQudGhyb3coZSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhID0gITE7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxudmFyIHIgPSBmcm9tSXRlcmFibGU7XG5cbmZ1bmN0aW9uIGZyb21WYWx1ZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9ICExO1xuICAgIHIoc3RhcnQoKGkgPT4ge1xuICAgICAgaWYgKDEgPT09IGkpIHtcbiAgICAgICAgdCA9ICEwO1xuICAgICAgfSBlbHNlIGlmICghdCkge1xuICAgICAgICB0ID0gITA7XG4gICAgICAgIHIocHVzaChlKSk7XG4gICAgICAgIHIoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9ICExO1xuICAgIHZhciBpID0gZSh7XG4gICAgICBuZXh0KGUpIHtcbiAgICAgICAgaWYgKCF0KSB7XG4gICAgICAgICAgcihwdXNoKGUpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoIXQpIHtcbiAgICAgICAgICB0ID0gITA7XG4gICAgICAgICAgcigwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIXQpIHtcbiAgICAgICAgdCA9ICEwO1xuICAgICAgICBpKCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVN1YmplY3QoKSB7XG4gIHZhciBlO1xuICB2YXIgcjtcbiAgcmV0dXJuIHtcbiAgICBzb3VyY2U6IHNoYXJlKG1ha2UoKHQgPT4ge1xuICAgICAgZSA9IHQubmV4dDtcbiAgICAgIHIgPSB0LmNvbXBsZXRlO1xuICAgICAgcmV0dXJuIHRlYXJkb3duUGxhY2Vob2xkZXI7XG4gICAgfSkpKSxcbiAgICBuZXh0KHIpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIGUocik7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZSgpIHtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIHIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbnZhciBlbXB0eSA9IGUgPT4ge1xuICB2YXIgciA9ICExO1xuICBlKHN0YXJ0KCh0ID0+IHtcbiAgICBpZiAoMSA9PT0gdCkge1xuICAgICAgciA9ICEwO1xuICAgIH0gZWxzZSBpZiAoIXIpIHtcbiAgICAgIHIgPSAhMDtcbiAgICAgIGUoMCk7XG4gICAgfVxuICB9KSkpO1xufTtcblxudmFyIG5ldmVyID0gciA9PiB7XG4gIHIoc3RhcnQoZSkpO1xufTtcblxuZnVuY3Rpb24gaW50ZXJ2YWwoZSkge1xuICByZXR1cm4gbWFrZSgociA9PiB7XG4gICAgdmFyIHQgPSAwO1xuICAgIHZhciBpID0gc2V0SW50ZXJ2YWwoKCgpID0+IHIubmV4dCh0KyspKSwgZSk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZnJvbURvbUV2ZW50KGUsIHIpIHtcbiAgcmV0dXJuIG1ha2UoKHQgPT4ge1xuICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihyLCB0Lm5leHQpO1xuICAgIHJldHVybiAoKSA9PiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIociwgdC5uZXh0KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBmcm9tUHJvbWlzZShlKSB7XG4gIHJldHVybiBtYWtlKChyID0+IHtcbiAgICBlLnRoZW4oKGUgPT4ge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgci5uZXh0KGUpO1xuICAgICAgICByLmNvbXBsZXRlKCk7XG4gICAgICB9KSk7XG4gICAgfSkpO1xuICAgIHJldHVybiB0ZWFyZG93blBsYWNlaG9sZGVyO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZShyKSB7XG4gIHJldHVybiB0ID0+IHtcbiAgICB2YXIgaSA9IGU7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGEgPSAhMDtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoIWEpIHtcbiAgICAgICAgcihlWzBdKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoIWEpIHtcbiAgICAgICAgICBhID0gITA7XG4gICAgICAgICAgaSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgc3Vic2NyaWJlKGUpKHIpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKGUpIHtcbiAgc3Vic2NyaWJlKChlID0+IHt9KSkoZSk7XG59XG5cbnZhciB0ID0ge1xuICBkb25lOiAhMFxufTtcblxudmFyIHRvQXN5bmNJdGVyYWJsZSA9IHIgPT4ge1xuICB2YXIgaSA9IFtdO1xuICB2YXIgYSA9ICExO1xuICB2YXIgZiA9ICExO1xuICB2YXIgbiA9ICExO1xuICB2YXIgcyA9IGU7XG4gIHZhciBsO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICBpZiAoIWYpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICByKChlID0+IHtcbiAgICAgICAgICBpZiAoYSkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgbCA9IGwodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhID0gITA7XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgKHMgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICExO1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgbCA9IGwoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBlWzBdLFxuICAgICAgICAgICAgICAgIGRvbmU6ICExXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaS5wdXNoKGVbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgaWYgKGEgJiYgIWkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgICAgfSBlbHNlIGlmICghYSAmJiAhbiAmJiBpLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgcygwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLmxlbmd0aCA/IHtcbiAgICAgICAgdmFsdWU6IGkuc2hpZnQoKSxcbiAgICAgICAgZG9uZTogITFcbiAgICAgIH0gOiBuZXcgUHJvbWlzZSgoZSA9PiBsID0gZSkpO1xuICAgIH0sXG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgaWYgKCFhKSB7XG4gICAgICAgIGwgPSBzKDEpO1xuICAgICAgfVxuICAgICAgYSA9ICEwO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSxcbiAgICBbYXN5bmNJdGVyYXRvclN5bWJvbCgpXSgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHRvQXJyYXkocikge1xuICB2YXIgdCA9IFtdO1xuICB2YXIgaSA9IGU7XG4gIHZhciBhID0gITE7XG4gIHIoKGUgPT4ge1xuICAgIGlmICgwID09PSBlKSB7XG4gICAgICBhID0gITA7XG4gICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdC5wdXNoKGVbMF0pO1xuICAgICAgaSgwKTtcbiAgICB9XG4gIH0pKTtcbiAgaWYgKCFhKSB7XG4gICAgaSgxKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gdG9Qcm9taXNlKHIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCh0ID0+IHtcbiAgICB2YXIgaSA9IGU7XG4gICAgdmFyIGE7XG4gICAgcigoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoYSkudGhlbih0KTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKDApO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiB6aXAocikge1xuICB2YXIgdCA9IE9iamVjdC5rZXlzKHIpLmxlbmd0aDtcbiAgcmV0dXJuIGkgPT4ge1xuICAgIHZhciBhID0gbmV3IFNldDtcbiAgICB2YXIgZiA9IEFycmF5LmlzQXJyYXkocikgPyBuZXcgQXJyYXkodCkuZmlsbChlKSA6IHt9O1xuICAgIHZhciBuID0gQXJyYXkuaXNBcnJheShyKSA/IG5ldyBBcnJheSh0KSA6IHt9O1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB2YXIgdSA9ICExO1xuICAgIHZhciBvID0gMDtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJbdl0oKGMgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gYykge1xuICAgICAgICAgIGlmIChvID49IHQgLSAxKSB7XG4gICAgICAgICAgICB1ID0gITA7XG4gICAgICAgICAgICBpKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGMudGFnKSB7XG4gICAgICAgICAgZlt2XSA9IGNbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoIXUpIHtcbiAgICAgICAgICBuW3ZdID0gY1swXTtcbiAgICAgICAgICBhLmFkZCh2KTtcbiAgICAgICAgICBpZiAoIXMgJiYgYS5zaXplIDwgdCkge1xuICAgICAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGggaW4gcikge1xuICAgICAgICAgICAgICAgIGlmICghYS5oYXMoaCkpIHtcbiAgICAgICAgICAgICAgICAgIChmW2hdIHx8IGUpKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgICBpKHB1c2goQXJyYXkuaXNBcnJheShuKSA/IG4uc2xpY2UoKSA6IHtcbiAgICAgICAgICAgICAgLi4ublxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH07XG4gICAgZm9yICh2YXIgdiBpbiByKSB7XG4gICAgICBsb29wKHYpO1xuICAgIH1cbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICh1KSB7fSBlbHNlIGlmICgxID09PSBlKSB7XG4gICAgICAgIHUgPSAhMDtcbiAgICAgICAgZm9yICh2YXIgciBpbiBmKSB7XG4gICAgICAgICAgZltyXSgxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGZvciAodmFyIHQgaW4gZikge1xuICAgICAgICAgIGZbdF0oMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb21iaW5lKC4uLmUpIHtcbiAgcmV0dXJuIHppcChlKTtcbn1cblxuZnVuY3Rpb24gZnJvbU9ic2VydmFibGUoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSAoZVtvYnNlcnZhYmxlU3ltYm9sKCldID8gZVtvYnNlcnZhYmxlU3ltYm9sKCldKCkgOiBlKS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dChlKSB7XG4gICAgICAgIHIocHVzaChlKSk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgIHIoMCk7XG4gICAgICB9LFxuICAgICAgZXJyb3IoZSkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgdC51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvT2JzZXJ2YWJsZShyKSB7XG4gIHJldHVybiB7XG4gICAgc3Vic2NyaWJlKHQsIGksIGEpIHtcbiAgICAgIHZhciBmID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCA/IHQgOiB7XG4gICAgICAgIG5leHQ6IHQsXG4gICAgICAgIGVycm9yOiBpLFxuICAgICAgICBjb21wbGV0ZTogYVxuICAgICAgfTtcbiAgICAgIHZhciBuID0gZTtcbiAgICAgIHZhciBzID0gITE7XG4gICAgICByKChlID0+IHtcbiAgICAgICAgaWYgKHMpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgaWYgKGYuY29tcGxldGUpIHtcbiAgICAgICAgICAgIGYuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAobiA9IGVbMF0pKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGYubmV4dChlWzBdKTtcbiAgICAgICAgICBuKDApO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICB2YXIgbCA9IHtcbiAgICAgICAgY2xvc2VkOiAhMSxcbiAgICAgICAgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgbC5jbG9zZWQgPSAhMDtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgbigxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBsO1xuICAgIH0sXG4gICAgW29ic2VydmFibGVTeW1ib2woKV0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZyb21DYWxsYmFnKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIGUoMCwgKChlLCB0KSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICByKHN0YXJ0KChlID0+IHtcbiAgICAgICAgICB0KGUgKyAxKTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSBpZiAoMSA9PT0gZSkge1xuICAgICAgICByKHB1c2godCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcigwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvQ2FsbGJhZyhlKSB7XG4gIHJldHVybiAociwgdCkgPT4ge1xuICAgIGlmICgwID09PSByKSB7XG4gICAgICBlKChlID0+IHtcbiAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICB0KDIpO1xuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgdCgwLCAociA9PiB7XG4gICAgICAgICAgICBpZiAociA8IDMpIHtcbiAgICAgICAgICAgICAgZVswXShyIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQoMSwgZVswXSk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBwaXBlID0gKC4uLmUpID0+IHtcbiAgdmFyIHIgPSBlWzBdO1xuICBmb3IgKHZhciB0ID0gMSwgaSA9IGUubGVuZ3RoOyB0IDwgaTsgdCsrKSB7XG4gICAgciA9IGVbdF0ocik7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5leHBvcnQgeyBidWZmZXIsIGNvbWJpbmUsIGNvbmNhdCwgY29uY2F0QWxsLCBjb25jYXRNYXAsIGRlYm91bmNlLCBkZWxheSwgZW1wdHksIGZpbHRlciwgbWVyZ2VBbGwgYXMgZmxhdHRlbiwgZm9yRWFjaCwgciBhcyBmcm9tQXJyYXksIGZyb21Bc3luY0l0ZXJhYmxlLCBmcm9tQ2FsbGJhZywgZnJvbURvbUV2ZW50LCBmcm9tSXRlcmFibGUsIGZyb21PYnNlcnZhYmxlLCBmcm9tUHJvbWlzZSwgZnJvbVZhbHVlLCBpbnRlcnZhbCwgbGF6eSwgbWFrZSwgbWFrZVN1YmplY3QsIG1hcCwgbWVyZ2UsIG1lcmdlQWxsLCBtZXJnZU1hcCwgbmV2ZXIsIG9uRW5kLCBvblB1c2gsIG9uU3RhcnQsIHBpcGUsIHB1Ymxpc2gsIHNhbXBsZSwgc2Nhbiwgc2hhcmUsIHNraXAsIHNraXBVbnRpbCwgc2tpcFdoaWxlLCBzdWJzY3JpYmUsIHN3aXRjaEFsbCwgc3dpdGNoTWFwLCB0YWtlLCB0YWtlTGFzdCwgdGFrZVVudGlsLCB0YWtlV2hpbGUsIG9uUHVzaCBhcyB0YXAsIHRocm90dGxlLCB0b0FycmF5LCB0b0FzeW5jSXRlcmFibGUsIHRvQ2FsbGJhZywgdG9PYnNlcnZhYmxlLCB0b1Byb21pc2UsIHppcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29ua2EubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/wonka/dist/wonka.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zod/lib/index.mjs":
/*!****************************************!*\
  !*** ./node_modules/zod/lib/index.mjs ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BRAND: () => (/* binding */ BRAND),\n/* harmony export */   DIRTY: () => (/* binding */ DIRTY),\n/* harmony export */   EMPTY_PATH: () => (/* binding */ EMPTY_PATH),\n/* harmony export */   INVALID: () => (/* binding */ INVALID),\n/* harmony export */   NEVER: () => (/* binding */ NEVER),\n/* harmony export */   OK: () => (/* binding */ OK),\n/* harmony export */   ParseStatus: () => (/* binding */ ParseStatus),\n/* harmony export */   Schema: () => (/* binding */ ZodType),\n/* harmony export */   ZodAny: () => (/* binding */ ZodAny),\n/* harmony export */   ZodArray: () => (/* binding */ ZodArray),\n/* harmony export */   ZodBigInt: () => (/* binding */ ZodBigInt),\n/* harmony export */   ZodBoolean: () => (/* binding */ ZodBoolean),\n/* harmony export */   ZodBranded: () => (/* binding */ ZodBranded),\n/* harmony export */   ZodCatch: () => (/* binding */ ZodCatch),\n/* harmony export */   ZodDate: () => (/* binding */ ZodDate),\n/* harmony export */   ZodDefault: () => (/* binding */ ZodDefault),\n/* harmony export */   ZodDiscriminatedUnion: () => (/* binding */ ZodDiscriminatedUnion),\n/* harmony export */   ZodEffects: () => (/* binding */ ZodEffects),\n/* harmony export */   ZodEnum: () => (/* binding */ ZodEnum),\n/* harmony export */   ZodError: () => (/* binding */ ZodError),\n/* harmony export */   ZodFirstPartyTypeKind: () => (/* binding */ ZodFirstPartyTypeKind),\n/* harmony export */   ZodFunction: () => (/* binding */ ZodFunction),\n/* harmony export */   ZodIntersection: () => (/* binding */ ZodIntersection),\n/* harmony export */   ZodIssueCode: () => (/* binding */ ZodIssueCode),\n/* harmony export */   ZodLazy: () => (/* binding */ ZodLazy),\n/* harmony export */   ZodLiteral: () => (/* binding */ ZodLiteral),\n/* harmony export */   ZodMap: () => (/* binding */ ZodMap),\n/* harmony export */   ZodNaN: () => (/* binding */ ZodNaN),\n/* harmony export */   ZodNativeEnum: () => (/* binding */ ZodNativeEnum),\n/* harmony export */   ZodNever: () => (/* binding */ ZodNever),\n/* harmony export */   ZodNull: () => (/* binding */ ZodNull),\n/* harmony export */   ZodNullable: () => (/* binding */ ZodNullable),\n/* harmony export */   ZodNumber: () => (/* binding */ ZodNumber),\n/* harmony export */   ZodObject: () => (/* binding */ ZodObject),\n/* harmony export */   ZodOptional: () => (/* binding */ ZodOptional),\n/* harmony export */   ZodParsedType: () => (/* binding */ ZodParsedType),\n/* harmony export */   ZodPipeline: () => (/* binding */ ZodPipeline),\n/* harmony export */   ZodPromise: () => (/* binding */ ZodPromise),\n/* harmony export */   ZodReadonly: () => (/* binding */ ZodReadonly),\n/* harmony export */   ZodRecord: () => (/* binding */ ZodRecord),\n/* harmony export */   ZodSchema: () => (/* binding */ ZodType),\n/* harmony export */   ZodSet: () => (/* binding */ ZodSet),\n/* harmony export */   ZodString: () => (/* binding */ ZodString),\n/* harmony export */   ZodSymbol: () => (/* binding */ ZodSymbol),\n/* harmony export */   ZodTransformer: () => (/* binding */ ZodEffects),\n/* harmony export */   ZodTuple: () => (/* binding */ ZodTuple),\n/* harmony export */   ZodType: () => (/* binding */ ZodType),\n/* harmony export */   ZodUndefined: () => (/* binding */ ZodUndefined),\n/* harmony export */   ZodUnion: () => (/* binding */ ZodUnion),\n/* harmony export */   ZodUnknown: () => (/* binding */ ZodUnknown),\n/* harmony export */   ZodVoid: () => (/* binding */ ZodVoid),\n/* harmony export */   addIssueToContext: () => (/* binding */ addIssueToContext),\n/* harmony export */   any: () => (/* binding */ anyType),\n/* harmony export */   array: () => (/* binding */ arrayType),\n/* harmony export */   bigint: () => (/* binding */ bigIntType),\n/* harmony export */   boolean: () => (/* binding */ booleanType),\n/* harmony export */   coerce: () => (/* binding */ coerce),\n/* harmony export */   custom: () => (/* binding */ custom),\n/* harmony export */   date: () => (/* binding */ dateType),\n/* harmony export */   datetimeRegex: () => (/* binding */ datetimeRegex),\n/* harmony export */   \"default\": () => (/* binding */ z),\n/* harmony export */   defaultErrorMap: () => (/* binding */ errorMap),\n/* harmony export */   discriminatedUnion: () => (/* binding */ discriminatedUnionType),\n/* harmony export */   effect: () => (/* binding */ effectsType),\n/* harmony export */   \"enum\": () => (/* binding */ enumType),\n/* harmony export */   \"function\": () => (/* binding */ functionType),\n/* harmony export */   getErrorMap: () => (/* binding */ getErrorMap),\n/* harmony export */   getParsedType: () => (/* binding */ getParsedType),\n/* harmony export */   \"instanceof\": () => (/* binding */ instanceOfType),\n/* harmony export */   intersection: () => (/* binding */ intersectionType),\n/* harmony export */   isAborted: () => (/* binding */ isAborted),\n/* harmony export */   isAsync: () => (/* binding */ isAsync),\n/* harmony export */   isDirty: () => (/* binding */ isDirty),\n/* harmony export */   isValid: () => (/* binding */ isValid),\n/* harmony export */   late: () => (/* binding */ late),\n/* harmony export */   lazy: () => (/* binding */ lazyType),\n/* harmony export */   literal: () => (/* binding */ literalType),\n/* harmony export */   makeIssue: () => (/* binding */ makeIssue),\n/* harmony export */   map: () => (/* binding */ mapType),\n/* harmony export */   nan: () => (/* binding */ nanType),\n/* harmony export */   nativeEnum: () => (/* binding */ nativeEnumType),\n/* harmony export */   never: () => (/* binding */ neverType),\n/* harmony export */   \"null\": () => (/* binding */ nullType),\n/* harmony export */   nullable: () => (/* binding */ nullableType),\n/* harmony export */   number: () => (/* binding */ numberType),\n/* harmony export */   object: () => (/* binding */ objectType),\n/* harmony export */   objectUtil: () => (/* binding */ objectUtil),\n/* harmony export */   oboolean: () => (/* binding */ oboolean),\n/* harmony export */   onumber: () => (/* binding */ onumber),\n/* harmony export */   optional: () => (/* binding */ optionalType),\n/* harmony export */   ostring: () => (/* binding */ ostring),\n/* harmony export */   pipeline: () => (/* binding */ pipelineType),\n/* harmony export */   preprocess: () => (/* binding */ preprocessType),\n/* harmony export */   promise: () => (/* binding */ promiseType),\n/* harmony export */   quotelessJson: () => (/* binding */ quotelessJson),\n/* harmony export */   record: () => (/* binding */ recordType),\n/* harmony export */   set: () => (/* binding */ setType),\n/* harmony export */   setErrorMap: () => (/* binding */ setErrorMap),\n/* harmony export */   strictObject: () => (/* binding */ strictObjectType),\n/* harmony export */   string: () => (/* binding */ stringType),\n/* harmony export */   symbol: () => (/* binding */ symbolType),\n/* harmony export */   transformer: () => (/* binding */ effectsType),\n/* harmony export */   tuple: () => (/* binding */ tupleType),\n/* harmony export */   undefined: () => (/* binding */ undefinedType),\n/* harmony export */   union: () => (/* binding */ unionType),\n/* harmony export */   unknown: () => (/* binding */ unknownType),\n/* harmony export */   util: () => (/* binding */ util),\n/* harmony export */   \"void\": () => (/* binding */ voidType),\n/* harmony export */   z: () => (/* binding */ z)\n/* harmony export */ });\nvar util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        var _a, _b;\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (!decoded.typ || !decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch (_a) {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nfunction custom(check, params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxJQUFJO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBLDBEQUEwRDtBQUMxRCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxlQUFlLGFBQWEsZUFBZTtBQUNqRjtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsMkRBQTJEO0FBQ3BIO0FBQ0E7QUFDQSx3REFBd0Qsa0NBQWtDO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsK0JBQStCO0FBQzlGO0FBQ0E7QUFDQSxzREFBc0QsK0JBQStCLGNBQWMsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwQkFBMEI7QUFDeEY7QUFDQSxxQ0FBcUMsU0FBUyxvREFBb0QsMEJBQTBCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSw0QkFBNEI7QUFDN0Y7QUFDQTtBQUNBLCtEQUErRCwwQkFBMEI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxzRUFBc0UsRUFBRSxlQUFlO0FBQ3ZJO0FBQ0EsaURBQWlELGlFQUFpRSxFQUFFLGVBQWU7QUFDbkk7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLEVBQUUsY0FBYztBQUMxRDtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsRUFBRSxnQ0FBZ0M7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxxRUFBcUUsRUFBRSxlQUFlO0FBQ3RJO0FBQ0EsaURBQWlELGlFQUFpRSxFQUFFLGVBQWU7QUFDbkk7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLEVBQUUsY0FBYztBQUN2RDtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsRUFBRSxjQUFjO0FBQ3ZEO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxFQUFFLGdDQUFnQztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxpQkFBaUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksbUNBQW1DO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxrQ0FBa0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw0QkFBNEIsd0JBQXdCO0FBQ3BELHlCQUF5Qix3QkFBd0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0VBQXNFLFVBQVU7QUFDaEY7QUFDQSxDQUFDLDhCQUE4Qjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUE0RDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1DQUFtQztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsNkJBQTZCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2QkFBNkI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUNBQW1DO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0NBQWdDO0FBQ3RELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4QkFBOEI7QUFDcEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsR0FBRztBQUMvQjtBQUNBLHVDQUF1QyxHQUFHO0FBQzFDO0FBQ0EsaUJBQWlCLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxVQUFVLEVBQUUsVUFBVSxHQUFHO0FBQ3pFLGdDQUFnQyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGVBQWUsR0FBRztBQUN2RyxpQ0FBaUMsR0FBRztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxHQUFHLG1GQUFtRixHQUFHO0FBQ3JKO0FBQ0Esc0NBQXNDLHNCQUFzQixzQ0FBc0MsdUJBQXVCLE9BQU8sR0FBRyxjQUFjO0FBQ2pKO0FBQ0E7QUFDQSx1QkFBdUIseUJBQXlCLDREQUE0RCxFQUFFLFNBQVMsSUFBSSxNQUFNLEVBQUUsaUNBQWlDLEVBQUUsU0FBUyxJQUFJLHlCQUF5QixJQUFJLEdBQUcsRUFBRSxhQUFhLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLG1DQUFtQyxFQUFFLFNBQVMsSUFBSSxNQUFNLEVBQUUsaUNBQWlDLEVBQUUsU0FBUyxJQUFJLDBEQUEwRCxHQUFHO0FBQ3JuQjtBQUNBLGlEQUFpRCxJQUFJLGtDQUFrQyxLQUFLLDZDQUE2QyxLQUFLO0FBQzlJO0FBQ0EsZ0NBQWdDLEVBQUUsK0JBQStCLEVBQUUsMk5BQTJOLEVBQUU7QUFDaFMsaUdBQWlHLEdBQUc7QUFDcEc7QUFDQSw4QkFBOEIsRUFBRTtBQUNoQztBQUNBLDJCQUEyQixzQkFBc0IsS0FBSyxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBLCtFQUErRSxFQUFFO0FBQ2pGLG1GQUFtRixFQUFFO0FBQ3JGO0FBQ0EsZ0JBQWdCLElBQUksR0FBRyxFQUFFLGFBQWEsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksbUNBQW1DLEVBQUUsU0FBUyxJQUFJLE1BQU0sRUFBRSxpQ0FBaUMsRUFBRSxTQUFTLElBQUk7QUFDNVgsa0NBQWtDLElBQUksR0FBRyxJQUFJLFlBQVksSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGVBQWUsSUFBSSxHQUFHLElBQUksYUFBYSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxhQUFhLElBQUksZ0JBQWdCLElBQUksRUFBRSxJQUFJLGtCQUFrQixJQUFJLEVBQUUsSUFBSSx1QkFBdUIsSUFBSSxFQUFFLElBQUksYUFBYSxHQUFHLFlBQVksSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLG9CQUFvQixJQUFJLE9BQU8sSUFBSSxVQUFVLElBQUksbUJBQW1CLElBQUksT0FBTyxJQUFJLG9CQUFvQixJQUFJLEdBQUcsSUFBSSxxQkFBcUIsSUFBSSxPQUFPLElBQUksVUFBVSxJQUFJLG1CQUFtQixJQUFJLE9BQU8sSUFBSTtBQUNocUIsc0NBQXNDLElBQUksR0FBRyxJQUFJLFlBQVksSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGVBQWUsSUFBSSxHQUFHLElBQUksYUFBYSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxhQUFhLElBQUksZ0JBQWdCLElBQUksRUFBRSxJQUFJLGtCQUFrQixJQUFJLEVBQUUsSUFBSSx1QkFBdUIsSUFBSSxFQUFFLElBQUksYUFBYSxHQUFHLFlBQVksSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLG9CQUFvQixJQUFJLE9BQU8sSUFBSSxVQUFVLElBQUksbUJBQW1CLElBQUksT0FBTyxJQUFJLG9CQUFvQixJQUFJLEdBQUcsSUFBSSxxQkFBcUIsSUFBSSxPQUFPLElBQUksVUFBVSxJQUFJLG1CQUFtQixJQUFJLE9BQU8sSUFBSTtBQUNwcUI7QUFDQSxxQ0FBcUMsRUFBRSxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBRTtBQUNoRjtBQUNBLHdDQUF3QyxFQUFFLGtCQUFrQixFQUFFLHNCQUFzQixFQUFFO0FBQ3RGO0FBQ0EsZ0NBQWdDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNoRDtBQUNBLGdDQUFnQyxFQUFFO0FBQ2xDO0FBQ0EsbUhBQW1ILEVBQUU7QUFDckgsaUNBQWlDLGdCQUFnQjtBQUNqRDtBQUNBLHdCQUF3QixFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDeEM7QUFDQTtBQUNBLG1CQUFtQixNQUFNLE9BQU8sRUFBRSxnQkFBZ0I7QUFDbEQ7QUFDQTtBQUNBLG1CQUFtQixNQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCLEdBQUcsc0JBQXNCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixFQUFFLE1BQU0sRUFBRTtBQUN0QyxlQUFlLE1BQU0sR0FBRyxlQUFlO0FBQ3ZDLDBCQUEwQixNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQWlEO0FBQ3ZGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MseUJBQXlCO0FBQy9EO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCO0FBQzdEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQ0FBZ0MsK0NBQStDO0FBQy9FO0FBQ0E7QUFDQSxnQ0FBZ0MsNkNBQTZDO0FBQzdFO0FBQ0E7QUFDQSxnQ0FBZ0MsK0NBQStDO0FBQy9FO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQThDO0FBQzlFO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0RBQWdEO0FBQ2hGO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQThDO0FBQzlFO0FBQ0E7QUFDQSxnQ0FBZ0MsK0NBQStDO0FBQy9FO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQThDO0FBQzlFO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0RBQWdEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLDZDQUE2QztBQUM3RTtBQUNBO0FBQ0EsZ0NBQWdDLDRDQUE0QztBQUM1RTtBQUNBO0FBQ0EsZ0NBQWdDLDhDQUE4QztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLHVCQUF1QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQWtEO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGNBQWM7QUFDMUQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFCQUFxQjtBQUNqRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMscUJBQXFCO0FBQ2pFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3REFBd0Q7QUFDakYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHdEQUF3RDtBQUNqRixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQWtEO0FBQzdFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2QkFBNkI7QUFDcEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkJBQTZCO0FBQzVELGlDQUFpQyx1Q0FBdUM7QUFDeEUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkJBQTZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0I7QUFDcEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixlQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGNBQWM7QUFDakY7QUFDQTtBQUNBO0FBQ0EsOERBQThELHVCQUF1QixzQkFBc0IsY0FBYztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0RBQXNEO0FBQzdFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzREFBc0Q7QUFDN0UsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQSxtQ0FBbUMsNkNBQTZDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsNkNBQTZDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw2Q0FBNkM7QUFDaEY7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLHFDQUFxQztBQUM1SSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwyQ0FBMkM7QUFDN0Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsY0FBYztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxxREFBcUQsYUFBYTtBQUNsRSwrQkFBK0Isc0NBQXNDO0FBQ3JFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0Q7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFNBQVM7QUFDL0MsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsc0JBQXNCO0FBQy9ELHlDQUF5QyxzQkFBc0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHlDQUF5QyxzQkFBc0I7QUFDL0QscUNBQXFDLHNCQUFzQjtBQUMzRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEMsd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrQkFBK0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRTJyRCIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdXRpbDtcbihmdW5jdGlvbiAodXRpbCkge1xuICAgIHV0aWwuYXNzZXJ0RXF1YWwgPSAodmFsKSA9PiB2YWw7XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5XG4gICAgICAgICAgICAubWFwKCh2YWwpID0+ICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkpXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG52YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgfHwgKG9iamVjdFV0aWwgPSB7fSkpO1xuY29uc3QgWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIixcbl0pO1xuY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKGRhdGEpID8gWm9kUGFyc2VkVHlwZS5uYW4gOiBab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZnVuY3Rpb247XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGRhdGEuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm9iamVjdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcblxuY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IGVycm9yQXJyYXk6IGFueSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IGVycm9yQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzRXJyb3IodGhpcyk7XG4gICAgICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydCh2YWx1ZSkge1xuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFpvZEVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSBab2RFcnJvcjogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG5cbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseSBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgZ3JlYXRlciB0aGFuIGB9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuXG5sZXQgb3ZlcnJpZGVFcnJvck1hcCA9IGVycm9yTWFwO1xuZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuXG5jb25zdCBtYWtlSXNzdWUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gWy4uLnBhdGgsIC4uLihpc3N1ZURhdGEucGF0aCB8fCBbXSldO1xuICAgIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICB9O1xuICAgIGlmIChpc3N1ZURhdGEubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzc3VlRGF0YS5tZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzXG4gICAgICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKTtcbiAgICBmb3IgKGNvbnN0IG1hcCBvZiBtYXBzKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgIH07XG59O1xuY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLCAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBvdmVycmlkZU1hcCwgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZXJyb3JNYXAgPyB1bmRlZmluZWQgOiBlcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5jbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgfHwgcGFpci5hbHdheXNTZXQpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgICB9XG59XG5jb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmNvbnN0IE9LID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWUgfSk7XG5jb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuY29uc3QgaXNWYWxpZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJ2YWxpZFwiO1xuY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXNzYWdlLm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG5cbnZhciBfWm9kRW51bV9jYWNoZSwgX1pvZE5hdGl2ZUVudW1fY2FjaGU7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgIT09IG51bGwgJiYgbWVzc2FnZSAhPT0gdm9pZCAwID8gbWVzc2FnZSA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiAoX2EgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiByZXF1aXJlZF9lcnJvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogKF9iID0gbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogaW52YWxpZF90eXBlX2Vycm9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBlcnJvck1hcDogY3VzdG9tTWFwLCBkZXNjcmlwdGlvbiB9O1xufVxuY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuYXN5bmMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmICgoX2IgPSAoX2EgPSBlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpXG4gICAgICAgICAgICA/IG1heWJlQXN5bmNSZXN1bHRcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpXG4gICAgICAgICAgICAgICAgICAgIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eWzAtOWEtel0rJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kL2k7XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSbigJkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY0Q2lkclJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC87XG4vLyBjb25zdCBpcHY2UmVnZXggPVxuLy8gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbmNvbnN0IGlwdjZDaWRyUmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbi8vIGh0dHBzOi8vYmFzZTY0Lmd1cnUvc3RhbmRhcmRzL2Jhc2U2NHVybFxuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgLy8gbGV0IHJlZ2V4ID0gYFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9YDtcbiAgICBsZXQgcmVnZXggPSBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQ6WzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICByZXR1cm4gcmVnZXg7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5mdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NHVybCB0byBiYXNlNjRcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gaGVhZGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKVxuICAgICAgICAgICAgLnBhZEVuZChoZWFkZXIubGVuZ3RoICsgKCg0IC0gKGhlYWRlci5sZW5ndGggJSA0KSkgJSA0KSwgXCI9XCIpO1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKGJhc2U2NCkpO1xuICAgICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLnR5cCB8fCAhZGVjb2RlZC5hbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiand0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbn1cbmNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGwsIG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAgICAgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9KTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJlxuICAgICAgICAgICAgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLl9kZWYpLmVycm9yTWFwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNzdWUsIGN0eCkubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9kID0gZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIHV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kUmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhKTtcbiAgICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWxcbiAgICAgICAgICAgIC5vYmplY3RLZXlzKGEpXG4gICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmXG4gICAgICAgICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBnZXRFcnJvck1hcCgpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGdldEVycm9yTWFwKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwLFxuICAgICAgICAgICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJnc1xuICAgICAgICAgICAgICAgID8gYXJnc1xuICAgICAgICAgICAgICAgIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfWm9kRW51bV9jYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kRW51bV9jYWNoZSwgXCJmXCIpKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlLCBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlLCBcImZcIikuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuX1pvZEVudW1fY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfWm9kTmF0aXZlRW51bV9jYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmXG4gICAgICAgICAgICBjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBcImZcIikpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1pvZE5hdGl2ZUVudW1fY2FjaGUsIG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBcImZcIikuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cbl9ab2ROYXRpdmVFbnVtX2NhY2hlID0gbmV3IFdlYWtNYXAoKTtcblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJlxuICAgICAgICAgICAgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZVxuICAgICAgICAgICAgPyBjdHguZGF0YVxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbihhc3luYyAocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoeyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBwYXJhbXMuZGVmYXVsdFxuICAgICAgICAgICAgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdClcbiAgICAgICAgICAgID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSlcbiAgICAgICAgICAgIDogZnJlZXplKHJlc3VsdCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjdXN0b20oY2hlY2ssIHBhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpIHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghY2hlY2soZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW1zKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnAyLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuY29uc3QgbGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbnZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5jb25zdCBORVZFUiA9IElOVkFMSUQ7XG5cbnZhciB6ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBkZWZhdWx0RXJyb3JNYXA6IGVycm9yTWFwLFxuICAgIHNldEVycm9yTWFwOiBzZXRFcnJvck1hcCxcbiAgICBnZXRFcnJvck1hcDogZ2V0RXJyb3JNYXAsXG4gICAgbWFrZUlzc3VlOiBtYWtlSXNzdWUsXG4gICAgRU1QVFlfUEFUSDogRU1QVFlfUEFUSCxcbiAgICBhZGRJc3N1ZVRvQ29udGV4dDogYWRkSXNzdWVUb0NvbnRleHQsXG4gICAgUGFyc2VTdGF0dXM6IFBhcnNlU3RhdHVzLFxuICAgIElOVkFMSUQ6IElOVkFMSUQsXG4gICAgRElSVFk6IERJUlRZLFxuICAgIE9LOiBPSyxcbiAgICBpc0Fib3J0ZWQ6IGlzQWJvcnRlZCxcbiAgICBpc0RpcnR5OiBpc0RpcnR5LFxuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgaXNBc3luYzogaXNBc3luYyxcbiAgICBnZXQgdXRpbCAoKSB7IHJldHVybiB1dGlsOyB9LFxuICAgIGdldCBvYmplY3RVdGlsICgpIHsgcmV0dXJuIG9iamVjdFV0aWw7IH0sXG4gICAgWm9kUGFyc2VkVHlwZTogWm9kUGFyc2VkVHlwZSxcbiAgICBnZXRQYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlLFxuICAgIFpvZFR5cGU6IFpvZFR5cGUsXG4gICAgZGF0ZXRpbWVSZWdleDogZGF0ZXRpbWVSZWdleCxcbiAgICBab2RTdHJpbmc6IFpvZFN0cmluZyxcbiAgICBab2ROdW1iZXI6IFpvZE51bWJlcixcbiAgICBab2RCaWdJbnQ6IFpvZEJpZ0ludCxcbiAgICBab2RCb29sZWFuOiBab2RCb29sZWFuLFxuICAgIFpvZERhdGU6IFpvZERhdGUsXG4gICAgWm9kU3ltYm9sOiBab2RTeW1ib2wsXG4gICAgWm9kVW5kZWZpbmVkOiBab2RVbmRlZmluZWQsXG4gICAgWm9kTnVsbDogWm9kTnVsbCxcbiAgICBab2RBbnk6IFpvZEFueSxcbiAgICBab2RVbmtub3duOiBab2RVbmtub3duLFxuICAgIFpvZE5ldmVyOiBab2ROZXZlcixcbiAgICBab2RWb2lkOiBab2RWb2lkLFxuICAgIFpvZEFycmF5OiBab2RBcnJheSxcbiAgICBab2RPYmplY3Q6IFpvZE9iamVjdCxcbiAgICBab2RVbmlvbjogWm9kVW5pb24sXG4gICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uOiBab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgWm9kSW50ZXJzZWN0aW9uOiBab2RJbnRlcnNlY3Rpb24sXG4gICAgWm9kVHVwbGU6IFpvZFR1cGxlLFxuICAgIFpvZFJlY29yZDogWm9kUmVjb3JkLFxuICAgIFpvZE1hcDogWm9kTWFwLFxuICAgIFpvZFNldDogWm9kU2V0LFxuICAgIFpvZEZ1bmN0aW9uOiBab2RGdW5jdGlvbixcbiAgICBab2RMYXp5OiBab2RMYXp5LFxuICAgIFpvZExpdGVyYWw6IFpvZExpdGVyYWwsXG4gICAgWm9kRW51bTogWm9kRW51bSxcbiAgICBab2ROYXRpdmVFbnVtOiBab2ROYXRpdmVFbnVtLFxuICAgIFpvZFByb21pc2U6IFpvZFByb21pc2UsXG4gICAgWm9kRWZmZWN0czogWm9kRWZmZWN0cyxcbiAgICBab2RUcmFuc2Zvcm1lcjogWm9kRWZmZWN0cyxcbiAgICBab2RPcHRpb25hbDogWm9kT3B0aW9uYWwsXG4gICAgWm9kTnVsbGFibGU6IFpvZE51bGxhYmxlLFxuICAgIFpvZERlZmF1bHQ6IFpvZERlZmF1bHQsXG4gICAgWm9kQ2F0Y2g6IFpvZENhdGNoLFxuICAgIFpvZE5hTjogWm9kTmFOLFxuICAgIEJSQU5EOiBCUkFORCxcbiAgICBab2RCcmFuZGVkOiBab2RCcmFuZGVkLFxuICAgIFpvZFBpcGVsaW5lOiBab2RQaXBlbGluZSxcbiAgICBab2RSZWFkb25seTogWm9kUmVhZG9ubHksXG4gICAgY3VzdG9tOiBjdXN0b20sXG4gICAgU2NoZW1hOiBab2RUeXBlLFxuICAgIFpvZFNjaGVtYTogWm9kVHlwZSxcbiAgICBsYXRlOiBsYXRlLFxuICAgIGdldCBab2RGaXJzdFBhcnR5VHlwZUtpbmQgKCkgeyByZXR1cm4gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kOyB9LFxuICAgIGNvZXJjZTogY29lcmNlLFxuICAgIGFueTogYW55VHlwZSxcbiAgICBhcnJheTogYXJyYXlUeXBlLFxuICAgIGJpZ2ludDogYmlnSW50VHlwZSxcbiAgICBib29sZWFuOiBib29sZWFuVHlwZSxcbiAgICBkYXRlOiBkYXRlVHlwZSxcbiAgICBkaXNjcmltaW5hdGVkVW5pb246IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUsXG4gICAgZWZmZWN0OiBlZmZlY3RzVHlwZSxcbiAgICAnZW51bSc6IGVudW1UeXBlLFxuICAgICdmdW5jdGlvbic6IGZ1bmN0aW9uVHlwZSxcbiAgICAnaW5zdGFuY2VvZic6IGluc3RhbmNlT2ZUeXBlLFxuICAgIGludGVyc2VjdGlvbjogaW50ZXJzZWN0aW9uVHlwZSxcbiAgICBsYXp5OiBsYXp5VHlwZSxcbiAgICBsaXRlcmFsOiBsaXRlcmFsVHlwZSxcbiAgICBtYXA6IG1hcFR5cGUsXG4gICAgbmFuOiBuYW5UeXBlLFxuICAgIG5hdGl2ZUVudW06IG5hdGl2ZUVudW1UeXBlLFxuICAgIG5ldmVyOiBuZXZlclR5cGUsXG4gICAgJ251bGwnOiBudWxsVHlwZSxcbiAgICBudWxsYWJsZTogbnVsbGFibGVUeXBlLFxuICAgIG51bWJlcjogbnVtYmVyVHlwZSxcbiAgICBvYmplY3Q6IG9iamVjdFR5cGUsXG4gICAgb2Jvb2xlYW46IG9ib29sZWFuLFxuICAgIG9udW1iZXI6IG9udW1iZXIsXG4gICAgb3B0aW9uYWw6IG9wdGlvbmFsVHlwZSxcbiAgICBvc3RyaW5nOiBvc3RyaW5nLFxuICAgIHBpcGVsaW5lOiBwaXBlbGluZVR5cGUsXG4gICAgcHJlcHJvY2VzczogcHJlcHJvY2Vzc1R5cGUsXG4gICAgcHJvbWlzZTogcHJvbWlzZVR5cGUsXG4gICAgcmVjb3JkOiByZWNvcmRUeXBlLFxuICAgIHNldDogc2V0VHlwZSxcbiAgICBzdHJpY3RPYmplY3Q6IHN0cmljdE9iamVjdFR5cGUsXG4gICAgc3RyaW5nOiBzdHJpbmdUeXBlLFxuICAgIHN5bWJvbDogc3ltYm9sVHlwZSxcbiAgICB0cmFuc2Zvcm1lcjogZWZmZWN0c1R5cGUsXG4gICAgdHVwbGU6IHR1cGxlVHlwZSxcbiAgICAndW5kZWZpbmVkJzogdW5kZWZpbmVkVHlwZSxcbiAgICB1bmlvbjogdW5pb25UeXBlLFxuICAgIHVua25vd246IHVua25vd25UeXBlLFxuICAgICd2b2lkJzogdm9pZFR5cGUsXG4gICAgTkVWRVI6IE5FVkVSLFxuICAgIFpvZElzc3VlQ29kZTogWm9kSXNzdWVDb2RlLFxuICAgIHF1b3RlbGVzc0pzb246IHF1b3RlbGVzc0pzb24sXG4gICAgWm9kRXJyb3I6IFpvZEVycm9yXG59KTtcblxuZXhwb3J0IHsgQlJBTkQsIERJUlRZLCBFTVBUWV9QQVRILCBJTlZBTElELCBORVZFUiwgT0ssIFBhcnNlU3RhdHVzLCBab2RUeXBlIGFzIFNjaGVtYSwgWm9kQW55LCBab2RBcnJheSwgWm9kQmlnSW50LCBab2RCb29sZWFuLCBab2RCcmFuZGVkLCBab2RDYXRjaCwgWm9kRGF0ZSwgWm9kRGVmYXVsdCwgWm9kRGlzY3JpbWluYXRlZFVuaW9uLCBab2RFZmZlY3RzLCBab2RFbnVtLCBab2RFcnJvciwgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLCBab2RGdW5jdGlvbiwgWm9kSW50ZXJzZWN0aW9uLCBab2RJc3N1ZUNvZGUsIFpvZExhenksIFpvZExpdGVyYWwsIFpvZE1hcCwgWm9kTmFOLCBab2ROYXRpdmVFbnVtLCBab2ROZXZlciwgWm9kTnVsbCwgWm9kTnVsbGFibGUsIFpvZE51bWJlciwgWm9kT2JqZWN0LCBab2RPcHRpb25hbCwgWm9kUGFyc2VkVHlwZSwgWm9kUGlwZWxpbmUsIFpvZFByb21pc2UsIFpvZFJlYWRvbmx5LCBab2RSZWNvcmQsIFpvZFR5cGUgYXMgWm9kU2NoZW1hLCBab2RTZXQsIFpvZFN0cmluZywgWm9kU3ltYm9sLCBab2RFZmZlY3RzIGFzIFpvZFRyYW5zZm9ybWVyLCBab2RUdXBsZSwgWm9kVHlwZSwgWm9kVW5kZWZpbmVkLCBab2RVbmlvbiwgWm9kVW5rbm93biwgWm9kVm9pZCwgYWRkSXNzdWVUb0NvbnRleHQsIGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBjb2VyY2UsIGN1c3RvbSwgZGF0ZVR5cGUgYXMgZGF0ZSwgZGF0ZXRpbWVSZWdleCwgeiBhcyBkZWZhdWx0LCBlcnJvck1hcCBhcyBkZWZhdWx0RXJyb3JNYXAsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgZ2V0RXJyb3JNYXAsIGdldFBhcnNlZFR5cGUsIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBpc0Fib3J0ZWQsIGlzQXN5bmMsIGlzRGlydHksIGlzVmFsaWQsIGxhdGUsIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1ha2VJc3N1ZSwgbWFwVHlwZSBhcyBtYXAsIG5hblR5cGUgYXMgbmFuLCBuYXRpdmVFbnVtVHlwZSBhcyBuYXRpdmVFbnVtLCBuZXZlclR5cGUgYXMgbmV2ZXIsIG51bGxUeXBlIGFzIG51bGwsIG51bGxhYmxlVHlwZSBhcyBudWxsYWJsZSwgbnVtYmVyVHlwZSBhcyBudW1iZXIsIG9iamVjdFR5cGUgYXMgb2JqZWN0LCBvYmplY3RVdGlsLCBvYm9vbGVhbiwgb251bWJlciwgb3B0aW9uYWxUeXBlIGFzIG9wdGlvbmFsLCBvc3RyaW5nLCBwaXBlbGluZVR5cGUgYXMgcGlwZWxpbmUsIHByZXByb2Nlc3NUeXBlIGFzIHByZXByb2Nlc3MsIHByb21pc2VUeXBlIGFzIHByb21pc2UsIHF1b3RlbGVzc0pzb24sIHJlY29yZFR5cGUgYXMgcmVjb3JkLCBzZXRUeXBlIGFzIHNldCwgc2V0RXJyb3JNYXAsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHV0aWwsIHZvaWRUeXBlIGFzIHZvaWQsIHogfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zod/lib/index.mjs\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-core%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22CopilotKit%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fnode_modules%2F%40copilotkit%2Freact-ui%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fapple%2FDesktop%2FAelf%20Projects%2Faelf-code-generator%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);