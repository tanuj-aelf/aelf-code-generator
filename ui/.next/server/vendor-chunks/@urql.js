"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@urql";
exports.ids = ["vendor-chunks/@urql"];
exports.modules = {

/***/ "(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core-chunk.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ CombinedError),\n/* harmony export */   a: () => (/* binding */ makeFetchBody),\n/* harmony export */   b: () => (/* binding */ makeErrorResult),\n/* harmony export */   c: () => (/* binding */ mergeResultPatch),\n/* harmony export */   d: () => (/* binding */ makeFetchURL),\n/* harmony export */   e: () => (/* binding */ makeFetchOptions),\n/* harmony export */   f: () => (/* binding */ makeFetchSource),\n/* harmony export */   g: () => (/* binding */ getOperationType),\n/* harmony export */   h: () => (/* binding */ createRequest),\n/* harmony export */   i: () => (/* binding */ stringifyVariables),\n/* harmony export */   k: () => (/* binding */ keyDocument),\n/* harmony export */   m: () => (/* binding */ makeResult),\n/* harmony export */   s: () => (/* binding */ stringifyDocument)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(ssr)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(ssr)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\nvar rehydrateGraphQlError = r => {\n  if (r && \"string\" == typeof r.message && (r.extensions || \"GraphQLError\" === r.name)) {\n    return r;\n  } else if (\"object\" == typeof r && \"string\" == typeof r.message) {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r.message, r.nodes, r.source, r.positions, r.path, r, r.extensions || {});\n  } else {\n    return new _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(r);\n  }\n};\n\nclass CombinedError extends Error {\n  constructor(e) {\n    var r = (e.graphQLErrors || []).map(rehydrateGraphQlError);\n    var t = ((e, r) => {\n      var t = \"\";\n      if (e) {\n        return `[Network] ${e.message}`;\n      }\n      if (r) {\n        for (var a = 0, n = r.length; a < n; a++) {\n          if (t) {\n            t += \"\\n\";\n          }\n          t += `[GraphQL] ${r[a].message}`;\n        }\n      }\n      return t;\n    })(e.networkError, r);\n    super(t);\n    this.name = \"CombinedError\";\n    this.message = t;\n    this.graphQLErrors = r;\n    this.networkError = e.networkError;\n    this.response = e.response;\n  }\n  toString() {\n    return this.message;\n  }\n}\n\nvar phash = (e, r) => {\n  var t = 0 | (r || 5381);\n  for (var a = 0, n = 0 | e.length; a < n; a++) {\n    t = (t << 5) + t + e.charCodeAt(a);\n  }\n  return t;\n};\n\nvar s = new Set;\n\nvar f = new WeakMap;\n\nvar stringify = (e, r) => {\n  if (null === e || s.has(e)) {\n    return \"null\";\n  } else if (\"object\" != typeof e) {\n    return JSON.stringify(e) || \"\";\n  } else if (e.toJSON) {\n    return stringify(e.toJSON(), r);\n  } else if (Array.isArray(e)) {\n    var t = \"[\";\n    for (var a = 0, n = e.length; a < n; a++) {\n      if (t.length > 1) {\n        t += \",\";\n      }\n      t += stringify(e[a], r) || \"null\";\n    }\n    return t += \"]\";\n  } else if (!r && (l !== NoopConstructor && e instanceof l || d !== NoopConstructor && e instanceof d)) {\n    return \"null\";\n  }\n  var o = Object.keys(e).sort();\n  if (!o.length && e.constructor && Object.getPrototypeOf(e).constructor !== Object.prototype.constructor) {\n    var i = f.get(e) || Math.random().toString(36).slice(2);\n    f.set(e, i);\n    return stringify({\n      __key: i\n    }, r);\n  }\n  s.add(e);\n  var c = \"{\";\n  for (var v = 0, p = o.length; v < p; v++) {\n    var u = stringify(e[o[v]], r);\n    if (u) {\n      if (c.length > 1) {\n        c += \",\";\n      }\n      c += stringify(o[v], r) + \":\" + u;\n    }\n  }\n  s.delete(e);\n  return c += \"}\";\n};\n\nvar extract = (e, r, t) => {\n  if (null == t || \"object\" != typeof t || t.toJSON || s.has(t)) {} else if (Array.isArray(t)) {\n    for (var a = 0, n = t.length; a < n; a++) {\n      extract(e, `${r}.${a}`, t[a]);\n    }\n  } else if (t instanceof l || t instanceof d) {\n    e.set(r, t);\n  } else {\n    s.add(t);\n    for (var o in t) {\n      extract(e, `${r}.${o}`, t[o]);\n    }\n  }\n};\n\nvar stringifyVariables = (e, r) => {\n  s.clear();\n  return stringify(e, r || !1);\n};\n\nclass NoopConstructor {}\n\nvar l = \"undefined\" != typeof File ? File : NoopConstructor;\n\nvar d = \"undefined\" != typeof Blob ? Blob : NoopConstructor;\n\nvar c = /(\"{3}[\\s\\S]*\"{3}|\"(?:\\\\.|[^\"])*\")/g;\n\nvar v = /(?:#[^\\n\\r]+)?(?:[\\r\\n]+|$)/g;\n\nvar replaceOutsideStrings = (e, r) => r % 2 == 0 ? e.replace(v, \"\\n\") : e;\n\nvar sanitizeDocument = e => e.split(c).map(replaceOutsideStrings).join(\"\").trim();\n\nvar p = new Map;\n\nvar u = new Map;\n\nvar stringifyDocument = e => {\n  var t;\n  if (\"string\" == typeof e) {\n    t = sanitizeDocument(e);\n  } else if (e.loc && u.get(e.__key) === e) {\n    t = e.loc.source.body;\n  } else {\n    t = p.get(e) || sanitizeDocument((0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.print)(e));\n    p.set(e, t);\n  }\n  if (\"string\" != typeof e && !e.loc) {\n    e.loc = {\n      start: 0,\n      end: t.length,\n      source: {\n        body: t,\n        name: \"gql\",\n        locationOffset: {\n          line: 1,\n          column: 1\n        }\n      }\n    };\n  }\n  return t;\n};\n\nvar hashDocument = e => {\n  var r;\n  if (e.documentId) {\n    r = phash(e.documentId);\n  } else {\n    r = phash(stringifyDocument(e));\n    if (e.definitions) {\n      var t = getOperationName(e);\n      if (t) {\n        r = phash(`\\n# ${t}`, r);\n      }\n    }\n  }\n  return r;\n};\n\nvar keyDocument = e => {\n  var r;\n  var a;\n  if (\"string\" == typeof e) {\n    r = hashDocument(e);\n    a = u.get(r) || (0,_0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.parse)(e, {\n      noLocation: !0\n    });\n  } else {\n    r = e.__key || hashDocument(e);\n    a = u.get(r) || e;\n  }\n  if (!a.loc) {\n    stringifyDocument(a);\n  }\n  a.__key = r;\n  u.set(r, a);\n  return a;\n};\n\nvar createRequest = (e, r, t) => {\n  var a = r || {};\n  var n = keyDocument(e);\n  var o = stringifyVariables(a, !0);\n  var i = n.__key;\n  if (\"{}\" !== o) {\n    i = phash(o, i);\n  }\n  return {\n    key: i,\n    query: n,\n    variables: a,\n    extensions: t\n  };\n};\n\nvar getOperationName = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.name ? n.name.value : void 0;\n    }\n  }\n};\n\nvar getOperationType = e => {\n  for (var r = 0, t = e.definitions.length; r < t; r++) {\n    var n = e.definitions[r];\n    if (n.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return n.operation;\n    }\n  }\n};\n\nvar makeResult = (e, r, t) => {\n  if (!(\"data\" in r || \"errors\" in r && Array.isArray(r.errors))) {\n    throw new Error(\"No Content\");\n  }\n  var a = \"subscription\" === e.kind;\n  return {\n    operation: e,\n    data: r.data,\n    error: Array.isArray(r.errors) ? new CombinedError({\n      graphQLErrors: r.errors,\n      response: t\n    }) : void 0,\n    extensions: r.extensions ? {\n      ...r.extensions\n    } : void 0,\n    hasNext: null == r.hasNext ? a : r.hasNext,\n    stale: !1\n  };\n};\n\nvar deepMerge = (e, r) => {\n  if (\"object\" == typeof e && null != e) {\n    if (Array.isArray(e)) {\n      e = [ ...e ];\n      for (var t = 0, a = r.length; t < a; t++) {\n        e[t] = deepMerge(e[t], r[t]);\n      }\n      return e;\n    }\n    if (!e.constructor || e.constructor === Object) {\n      e = {\n        ...e\n      };\n      for (var n in r) {\n        e[n] = deepMerge(e[n], r[n]);\n      }\n      return e;\n    }\n  }\n  return r;\n};\n\nvar mergeResultPatch = (e, r, t, a) => {\n  var n = e.error ? e.error.graphQLErrors : [];\n  var o = !!e.extensions || !!(r.payload || r).extensions;\n  var i = {\n    ...e.extensions,\n    ...(r.payload || r).extensions\n  };\n  var s = r.incremental;\n  if (\"path\" in r) {\n    s = [ r ];\n  }\n  var f = {\n    data: e.data\n  };\n  if (s) {\n    var _loop = function() {\n      var e = s[l];\n      if (Array.isArray(e.errors)) {\n        n.push(...e.errors);\n      }\n      if (e.extensions) {\n        Object.assign(i, e.extensions);\n        o = !0;\n      }\n      var r = \"data\";\n      var t = f;\n      var d = [];\n      if (e.path) {\n        d = e.path;\n      } else if (a) {\n        var c = a.find((r => r.id === e.id));\n        if (e.subPath) {\n          d = [ ...c.path, ...e.subPath ];\n        } else {\n          d = c.path;\n        }\n      }\n      for (var v = 0, p = d.length; v < p; r = d[v++]) {\n        t = t[r] = Array.isArray(t[r]) ? [ ...t[r] ] : {\n          ...t[r]\n        };\n      }\n      if (e.items) {\n        var u = +r >= 0 ? r : 0;\n        for (var y = 0, h = e.items.length; y < h; y++) {\n          t[u + y] = deepMerge(t[u + y], e.items[y]);\n        }\n      } else if (void 0 !== e.data) {\n        t[r] = deepMerge(t[r], e.data);\n      }\n    };\n    for (var l = 0, d = s.length; l < d; l++) {\n      _loop();\n    }\n  } else {\n    f.data = (r.payload || r).data || e.data;\n    n = r.errors || r.payload && r.payload.errors || n;\n  }\n  return {\n    operation: e.operation,\n    data: f.data,\n    error: n.length ? new CombinedError({\n      graphQLErrors: n,\n      response: t\n    }) : void 0,\n    extensions: o ? i : void 0,\n    hasNext: null != r.hasNext ? r.hasNext : e.hasNext,\n    stale: !1\n  };\n};\n\nvar makeErrorResult = (e, r, t) => ({\n  operation: e,\n  data: void 0,\n  error: new CombinedError({\n    networkError: r,\n    response: t\n  }),\n  extensions: void 0,\n  hasNext: !1,\n  stale: !1\n});\n\nfunction makeFetchBody(e) {\n  var r = {\n    query: void 0,\n    documentId: void 0,\n    operationName: getOperationName(e.query),\n    variables: e.variables || void 0,\n    extensions: e.extensions\n  };\n  if (\"documentId\" in e.query && e.query.documentId && (!e.query.definitions || !e.query.definitions.length)) {\n    r.documentId = e.query.documentId;\n  } else if (!e.extensions || !e.extensions.persistedQuery || e.extensions.persistedQuery.miss) {\n    r.query = stringifyDocument(e.query);\n  }\n  return r;\n}\n\nvar makeFetchURL = (e, r) => {\n  var t = \"query\" === e.kind && e.context.preferGetMethod;\n  if (!t || !r) {\n    return e.context.url;\n  }\n  var a = splitOutSearchParams(e.context.url);\n  for (var n in r) {\n    var o = r[n];\n    if (o) {\n      a[1].set(n, \"object\" == typeof o ? stringifyVariables(o) : o);\n    }\n  }\n  var i = a.join(\"?\");\n  if (i.length > 2047 && \"force\" !== t) {\n    e.context.preferGetMethod = !1;\n    return e.context.url;\n  }\n  return i;\n};\n\nvar splitOutSearchParams = e => {\n  var r = e.indexOf(\"?\");\n  return r > -1 ? [ e.slice(0, r), new URLSearchParams(e.slice(r + 1)) ] : [ e, new URLSearchParams ];\n};\n\nvar serializeBody = (e, r) => {\n  if (r && !(\"query\" === e.kind && !!e.context.preferGetMethod)) {\n    var t = stringifyVariables(r);\n    var a = (e => {\n      var r = new Map;\n      if (l !== NoopConstructor || d !== NoopConstructor) {\n        s.clear();\n        extract(r, \"variables\", e);\n      }\n      return r;\n    })(r.variables);\n    if (a.size) {\n      var n = new FormData;\n      n.append(\"operations\", t);\n      n.append(\"map\", stringifyVariables({\n        ...[ ...a.keys() ].map((e => [ e ]))\n      }));\n      var o = 0;\n      for (var i of a.values()) {\n        n.append(\"\" + o++, i);\n      }\n      return n;\n    }\n    return t;\n  }\n};\n\nvar makeFetchOptions = (e, r) => {\n  var t = {\n    accept: \"subscription\" === e.kind ? \"text/event-stream, multipart/mixed\" : \"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed\"\n  };\n  var a = (\"function\" == typeof e.context.fetchOptions ? e.context.fetchOptions() : e.context.fetchOptions) || {};\n  if (a.headers) {\n    if ((e => \"has\" in e && !Object.keys(e).length)(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        t[r] = e;\n      }));\n    } else if (Array.isArray(a.headers)) {\n      a.headers.forEach(((e, r) => {\n        if (Array.isArray(e)) {\n          if (t[e[0]]) {\n            t[e[0]] = `${t[e[0]]},${e[1]}`;\n          } else {\n            t[e[0]] = e[1];\n          }\n        } else {\n          t[r] = e;\n        }\n      }));\n    } else {\n      for (var n in a.headers) {\n        t[n.toLowerCase()] = a.headers[n];\n      }\n    }\n  }\n  var o = serializeBody(e, r);\n  if (\"string\" == typeof o && !t[\"content-type\"]) {\n    t[\"content-type\"] = \"application/json\";\n  }\n  return {\n    ...a,\n    method: o ? \"POST\" : \"GET\",\n    body: o,\n    headers: t\n  };\n};\n\nvar y = \"undefined\" != typeof TextDecoder ? new TextDecoder : null;\n\nvar h = /boundary=\"?([^=\";]+)\"?/i;\n\nvar m = /data: ?([^\\n]+)/;\n\nvar toString = e => \"Buffer\" === e.constructor.name ? e.toString() : y.decode(e);\n\nasync function* streamBody(e) {\n  if (e.body[Symbol.asyncIterator]) {\n    for await (var r of e.body) {\n      yield toString(r);\n    }\n  } else {\n    var t = e.body.getReader();\n    var a;\n    try {\n      while (!(a = await t.read()).done) {\n        yield toString(a.value);\n      }\n    } finally {\n      t.cancel();\n    }\n  }\n}\n\nasync function* split(e, r) {\n  var t = \"\";\n  var a;\n  for await (var n of e) {\n    t += n;\n    while ((a = t.indexOf(r)) > -1) {\n      yield t.slice(0, a);\n      t = t.slice(a + r.length);\n    }\n  }\n}\n\nasync function* fetchOperation(e, r, t) {\n  var a = !0;\n  var n = null;\n  var o;\n  try {\n    yield await Promise.resolve();\n    var i = (o = await (e.context.fetch || fetch)(r, t)).headers.get(\"Content-Type\") || \"\";\n    var s;\n    if (/multipart\\/mixed/i.test(i)) {\n      s = async function* parseMultipartMixed(e, r) {\n        var t = e.match(h);\n        var a = \"--\" + (t ? t[1] : \"-\");\n        var n = !0;\n        var o;\n        for await (var i of split(streamBody(r), \"\\r\\n\" + a)) {\n          if (n) {\n            n = !1;\n            var s = i.indexOf(a);\n            if (s > -1) {\n              i = i.slice(s + a.length);\n            } else {\n              continue;\n            }\n          }\n          try {\n            yield o = JSON.parse(i.slice(i.indexOf(\"\\r\\n\\r\\n\") + 4));\n          } catch (e) {\n            if (!o) {\n              throw e;\n            }\n          }\n          if (o && !1 === o.hasNext) {\n            break;\n          }\n        }\n        if (o && !1 !== o.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(i, o);\n    } else if (/text\\/event-stream/i.test(i)) {\n      s = async function* parseEventStream(e) {\n        var r;\n        for await (var t of split(streamBody(e), \"\\n\\n\")) {\n          var a = t.match(m);\n          if (a) {\n            var n = a[1];\n            try {\n              yield r = JSON.parse(n);\n            } catch (e) {\n              if (!r) {\n                throw e;\n              }\n            }\n            if (r && !1 === r.hasNext) {\n              break;\n            }\n          }\n        }\n        if (r && !1 !== r.hasNext) {\n          yield {\n            hasNext: !1\n          };\n        }\n      }(o);\n    } else if (!/text\\//i.test(i)) {\n      s = async function* parseJSON(e) {\n        yield JSON.parse(await e.text());\n      }(o);\n    } else {\n      s = async function* parseMaybeJSON(e) {\n        var r = await e.text();\n        try {\n          var t = JSON.parse(r);\n          if (true) {\n            console.warn('Found response with content-type \"text/plain\" but it had a valid \"application/json\" response.');\n          }\n          yield t;\n        } catch (e) {\n          throw new Error(r);\n        }\n      }(o);\n    }\n    var f;\n    for await (var l of s) {\n      if (l.pending && !n) {\n        f = l.pending;\n      } else if (l.pending) {\n        f = [ ...f, ...l.pending ];\n      }\n      n = n ? mergeResultPatch(n, l, o, f) : makeResult(e, l, o);\n      a = !1;\n      yield n;\n      a = !0;\n    }\n    if (!n) {\n      yield n = makeResult(e, {}, o);\n    }\n  } catch (r) {\n    if (!a) {\n      throw r;\n    }\n    yield makeErrorResult(e, o && (o.status < 200 || o.status >= 300) && o.statusText ? new Error(o.statusText) : r, o);\n  }\n}\n\nfunction makeFetchSource(e, r, t) {\n  var a;\n  if (\"undefined\" != typeof AbortController) {\n    t.signal = (a = new AbortController).signal;\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.onEnd)((() => {\n    if (a) {\n      a.abort();\n    }\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((e => !!e))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.fromAsyncIterable)(fetchOperation(e, r, t))));\n}\n\n\n//# sourceMappingURL=urql-core-chunk.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS1jaHVuay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJGOztBQUVuQjs7QUFFeEU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsNkRBQUMseUVBQXlFO0FBQ3pGLElBQUk7QUFDSixlQUFlLDZEQUFDO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBLG9FQUFvRTtBQUNwRSxrQ0FBa0MsT0FBTztBQUN6QyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7QUFDM0I7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QSxnQ0FBZ0M7QUFDaEM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLDZDQUFDLGFBQWEsd0RBQUM7QUFDckI7O0FBRThSO0FBQzlSIiwic291cmNlcyI6WyIvVXNlcnMvYXBwbGUvRGVza3RvcC9BZWxmIFByb2plY3RzL2FlbGYtY29kZS1nZW5lcmF0b3Ivbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvZGlzdC91cnFsLWNvcmUtY2h1bmsubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYXBoUUxFcnJvciBhcyBlLCBwcmludCBhcyByLCBwYXJzZSBhcyB0LCBLaW5kIGFzIGEgfSBmcm9tIFwiQDBuby1jby9ncmFwaHFsLndlYlwiO1xuXG5pbXBvcnQgeyBvbkVuZCBhcyBuLCBmaWx0ZXIgYXMgbywgZnJvbUFzeW5jSXRlcmFibGUgYXMgaSB9IGZyb20gXCJ3b25rYVwiO1xuXG52YXIgcmVoeWRyYXRlR3JhcGhRbEVycm9yID0gciA9PiB7XG4gIGlmIChyICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIHIubWVzc2FnZSAmJiAoci5leHRlbnNpb25zIHx8IFwiR3JhcGhRTEVycm9yXCIgPT09IHIubmFtZSkpIHtcbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiByICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIHIubWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgZShyLm1lc3NhZ2UsIHIubm9kZXMsIHIuc291cmNlLCByLnBvc2l0aW9ucywgci5wYXRoLCByLCByLmV4dGVuc2lvbnMgfHwge30pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgZShyKTtcbiAgfVxufTtcblxuY2xhc3MgQ29tYmluZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHZhciByID0gKGUuZ3JhcGhRTEVycm9ycyB8fCBbXSkubWFwKHJlaHlkcmF0ZUdyYXBoUWxFcnJvcik7XG4gICAgdmFyIHQgPSAoKGUsIHIpID0+IHtcbiAgICAgIHZhciB0ID0gXCJcIjtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHJldHVybiBgW05ldHdvcmtdICR7ZS5tZXNzYWdlfWA7XG4gICAgICB9XG4gICAgICBpZiAocikge1xuICAgICAgICBmb3IgKHZhciBhID0gMCwgbiA9IHIubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIHQgKz0gXCJcXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdCArPSBgW0dyYXBoUUxdICR7clthXS5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICAgIH0pKGUubmV0d29ya0Vycm9yLCByKTtcbiAgICBzdXBlcih0KTtcbiAgICB0aGlzLm5hbWUgPSBcIkNvbWJpbmVkRXJyb3JcIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSB0O1xuICAgIHRoaXMuZ3JhcGhRTEVycm9ycyA9IHI7XG4gICAgdGhpcy5uZXR3b3JrRXJyb3IgPSBlLm5ldHdvcmtFcnJvcjtcbiAgICB0aGlzLnJlc3BvbnNlID0gZS5yZXNwb25zZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICB9XG59XG5cbnZhciBwaGFzaCA9IChlLCByKSA9PiB7XG4gIHZhciB0ID0gMCB8IChyIHx8IDUzODEpO1xuICBmb3IgKHZhciBhID0gMCwgbiA9IDAgfCBlLmxlbmd0aDsgYSA8IG47IGErKykge1xuICAgIHQgPSAodCA8PCA1KSArIHQgKyBlLmNoYXJDb2RlQXQoYSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgcyA9IG5ldyBTZXQ7XG5cbnZhciBmID0gbmV3IFdlYWtNYXA7XG5cbnZhciBzdHJpbmdpZnkgPSAoZSwgcikgPT4ge1xuICBpZiAobnVsbCA9PT0gZSB8fCBzLmhhcyhlKSkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfSBlbHNlIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBlKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpIHx8IFwiXCI7XG4gIH0gZWxzZSBpZiAoZS50b0pTT04pIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5KGUudG9KU09OKCksIHIpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICB2YXIgdCA9IFwiW1wiO1xuICAgIGZvciAodmFyIGEgPSAwLCBuID0gZS5sZW5ndGg7IGEgPCBuOyBhKyspIHtcbiAgICAgIGlmICh0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdCArPSBcIixcIjtcbiAgICAgIH1cbiAgICAgIHQgKz0gc3RyaW5naWZ5KGVbYV0sIHIpIHx8IFwibnVsbFwiO1xuICAgIH1cbiAgICByZXR1cm4gdCArPSBcIl1cIjtcbiAgfSBlbHNlIGlmICghciAmJiAobCAhPT0gTm9vcENvbnN0cnVjdG9yICYmIGUgaW5zdGFuY2VvZiBsIHx8IGQgIT09IE5vb3BDb25zdHJ1Y3RvciAmJiBlIGluc3RhbmNlb2YgZCkpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH1cbiAgdmFyIG8gPSBPYmplY3Qua2V5cyhlKS5zb3J0KCk7XG4gIGlmICghby5sZW5ndGggJiYgZS5jb25zdHJ1Y3RvciAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY29uc3RydWN0b3IgIT09IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IpIHtcbiAgICB2YXIgaSA9IGYuZ2V0KGUpIHx8IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAgIGYuc2V0KGUsIGkpO1xuICAgIHJldHVybiBzdHJpbmdpZnkoe1xuICAgICAgX19rZXk6IGlcbiAgICB9LCByKTtcbiAgfVxuICBzLmFkZChlKTtcbiAgdmFyIGMgPSBcIntcIjtcbiAgZm9yICh2YXIgdiA9IDAsIHAgPSBvLmxlbmd0aDsgdiA8IHA7IHYrKykge1xuICAgIHZhciB1ID0gc3RyaW5naWZ5KGVbb1t2XV0sIHIpO1xuICAgIGlmICh1KSB7XG4gICAgICBpZiAoYy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGMgKz0gXCIsXCI7XG4gICAgICB9XG4gICAgICBjICs9IHN0cmluZ2lmeShvW3ZdLCByKSArIFwiOlwiICsgdTtcbiAgICB9XG4gIH1cbiAgcy5kZWxldGUoZSk7XG4gIHJldHVybiBjICs9IFwifVwiO1xufTtcblxudmFyIGV4dHJhY3QgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAobnVsbCA9PSB0IHx8IFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgfHwgdC50b0pTT04gfHwgcy5oYXModCkpIHt9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICBmb3IgKHZhciBhID0gMCwgbiA9IHQubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgICBleHRyYWN0KGUsIGAke3J9LiR7YX1gLCB0W2FdKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodCBpbnN0YW5jZW9mIGwgfHwgdCBpbnN0YW5jZW9mIGQpIHtcbiAgICBlLnNldChyLCB0KTtcbiAgfSBlbHNlIHtcbiAgICBzLmFkZCh0KTtcbiAgICBmb3IgKHZhciBvIGluIHQpIHtcbiAgICAgIGV4dHJhY3QoZSwgYCR7cn0uJHtvfWAsIHRbb10pO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHN0cmluZ2lmeVZhcmlhYmxlcyA9IChlLCByKSA9PiB7XG4gIHMuY2xlYXIoKTtcbiAgcmV0dXJuIHN0cmluZ2lmeShlLCByIHx8ICExKTtcbn07XG5cbmNsYXNzIE5vb3BDb25zdHJ1Y3RvciB7fVxuXG52YXIgbCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEZpbGUgPyBGaWxlIDogTm9vcENvbnN0cnVjdG9yO1xuXG52YXIgZCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEJsb2IgPyBCbG9iIDogTm9vcENvbnN0cnVjdG9yO1xuXG52YXIgYyA9IC8oXCJ7M31bXFxzXFxTXSpcInszfXxcIig/OlxcXFwufFteXCJdKSpcIikvZztcblxudmFyIHYgPSAvKD86I1teXFxuXFxyXSspPyg/OltcXHJcXG5dK3wkKS9nO1xuXG52YXIgcmVwbGFjZU91dHNpZGVTdHJpbmdzID0gKGUsIHIpID0+IHIgJSAyID09IDAgPyBlLnJlcGxhY2UodiwgXCJcXG5cIikgOiBlO1xuXG52YXIgc2FuaXRpemVEb2N1bWVudCA9IGUgPT4gZS5zcGxpdChjKS5tYXAocmVwbGFjZU91dHNpZGVTdHJpbmdzKS5qb2luKFwiXCIpLnRyaW0oKTtcblxudmFyIHAgPSBuZXcgTWFwO1xuXG52YXIgdSA9IG5ldyBNYXA7XG5cbnZhciBzdHJpbmdpZnlEb2N1bWVudCA9IGUgPT4ge1xuICB2YXIgdDtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICB0ID0gc2FuaXRpemVEb2N1bWVudChlKTtcbiAgfSBlbHNlIGlmIChlLmxvYyAmJiB1LmdldChlLl9fa2V5KSA9PT0gZSkge1xuICAgIHQgPSBlLmxvYy5zb3VyY2UuYm9keTtcbiAgfSBlbHNlIHtcbiAgICB0ID0gcC5nZXQoZSkgfHwgc2FuaXRpemVEb2N1bWVudChyKGUpKTtcbiAgICBwLnNldChlLCB0KTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgZSAmJiAhZS5sb2MpIHtcbiAgICBlLmxvYyA9IHtcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZW5kOiB0Lmxlbmd0aCxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBib2R5OiB0LFxuICAgICAgICBuYW1lOiBcImdxbFwiLFxuICAgICAgICBsb2NhdGlvbk9mZnNldDoge1xuICAgICAgICAgIGxpbmU6IDEsXG4gICAgICAgICAgY29sdW1uOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB0O1xufTtcblxudmFyIGhhc2hEb2N1bWVudCA9IGUgPT4ge1xuICB2YXIgcjtcbiAgaWYgKGUuZG9jdW1lbnRJZCkge1xuICAgIHIgPSBwaGFzaChlLmRvY3VtZW50SWQpO1xuICB9IGVsc2Uge1xuICAgIHIgPSBwaGFzaChzdHJpbmdpZnlEb2N1bWVudChlKSk7XG4gICAgaWYgKGUuZGVmaW5pdGlvbnMpIHtcbiAgICAgIHZhciB0ID0gZ2V0T3BlcmF0aW9uTmFtZShlKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHIgPSBwaGFzaChgXFxuIyAke3R9YCwgcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIGtleURvY3VtZW50ID0gZSA9PiB7XG4gIHZhciByO1xuICB2YXIgYTtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICByID0gaGFzaERvY3VtZW50KGUpO1xuICAgIGEgPSB1LmdldChyKSB8fCB0KGUsIHtcbiAgICAgIG5vTG9jYXRpb246ICEwXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgciA9IGUuX19rZXkgfHwgaGFzaERvY3VtZW50KGUpO1xuICAgIGEgPSB1LmdldChyKSB8fCBlO1xuICB9XG4gIGlmICghYS5sb2MpIHtcbiAgICBzdHJpbmdpZnlEb2N1bWVudChhKTtcbiAgfVxuICBhLl9fa2V5ID0gcjtcbiAgdS5zZXQociwgYSk7XG4gIHJldHVybiBhO1xufTtcblxudmFyIGNyZWF0ZVJlcXVlc3QgPSAoZSwgciwgdCkgPT4ge1xuICB2YXIgYSA9IHIgfHwge307XG4gIHZhciBuID0ga2V5RG9jdW1lbnQoZSk7XG4gIHZhciBvID0gc3RyaW5naWZ5VmFyaWFibGVzKGEsICEwKTtcbiAgdmFyIGkgPSBuLl9fa2V5O1xuICBpZiAoXCJ7fVwiICE9PSBvKSB7XG4gICAgaSA9IHBoYXNoKG8sIGkpO1xuICB9XG4gIHJldHVybiB7XG4gICAga2V5OiBpLFxuICAgIHF1ZXJ5OiBuLFxuICAgIHZhcmlhYmxlczogYSxcbiAgICBleHRlbnNpb25zOiB0XG4gIH07XG59O1xuXG52YXIgZ2V0T3BlcmF0aW9uTmFtZSA9IGUgPT4ge1xuICBmb3IgKHZhciByID0gMCwgdCA9IGUuZGVmaW5pdGlvbnMubGVuZ3RoOyByIDwgdDsgcisrKSB7XG4gICAgdmFyIG4gPSBlLmRlZmluaXRpb25zW3JdO1xuICAgIGlmIChuLmtpbmQgPT09IGEuT1BFUkFUSU9OX0RFRklOSVRJT04pIHtcbiAgICAgIHJldHVybiBuLm5hbWUgPyBuLm5hbWUudmFsdWUgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59O1xuXG52YXIgZ2V0T3BlcmF0aW9uVHlwZSA9IGUgPT4ge1xuICBmb3IgKHZhciByID0gMCwgdCA9IGUuZGVmaW5pdGlvbnMubGVuZ3RoOyByIDwgdDsgcisrKSB7XG4gICAgdmFyIG4gPSBlLmRlZmluaXRpb25zW3JdO1xuICAgIGlmIChuLmtpbmQgPT09IGEuT1BFUkFUSU9OX0RFRklOSVRJT04pIHtcbiAgICAgIHJldHVybiBuLm9wZXJhdGlvbjtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBtYWtlUmVzdWx0ID0gKGUsIHIsIHQpID0+IHtcbiAgaWYgKCEoXCJkYXRhXCIgaW4gciB8fCBcImVycm9yc1wiIGluIHIgJiYgQXJyYXkuaXNBcnJheShyLmVycm9ycykpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gQ29udGVudFwiKTtcbiAgfVxuICB2YXIgYSA9IFwic3Vic2NyaXB0aW9uXCIgPT09IGUua2luZDtcbiAgcmV0dXJuIHtcbiAgICBvcGVyYXRpb246IGUsXG4gICAgZGF0YTogci5kYXRhLFxuICAgIGVycm9yOiBBcnJheS5pc0FycmF5KHIuZXJyb3JzKSA/IG5ldyBDb21iaW5lZEVycm9yKHtcbiAgICAgIGdyYXBoUUxFcnJvcnM6IHIuZXJyb3JzLFxuICAgICAgcmVzcG9uc2U6IHRcbiAgICB9KSA6IHZvaWQgMCxcbiAgICBleHRlbnNpb25zOiByLmV4dGVuc2lvbnMgPyB7XG4gICAgICAuLi5yLmV4dGVuc2lvbnNcbiAgICB9IDogdm9pZCAwLFxuICAgIGhhc05leHQ6IG51bGwgPT0gci5oYXNOZXh0ID8gYSA6IHIuaGFzTmV4dCxcbiAgICBzdGFsZTogITFcbiAgfTtcbn07XG5cbnZhciBkZWVwTWVyZ2UgPSAoZSwgcikgPT4ge1xuICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9IGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgZSA9IFsgLi4uZSBdO1xuICAgICAgZm9yICh2YXIgdCA9IDAsIGEgPSByLmxlbmd0aDsgdCA8IGE7IHQrKykge1xuICAgICAgICBlW3RdID0gZGVlcE1lcmdlKGVbdF0sIHJbdF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIGlmICghZS5jb25zdHJ1Y3RvciB8fCBlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgIGUgPSB7XG4gICAgICAgIC4uLmVcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBuIGluIHIpIHtcbiAgICAgICAgZVtuXSA9IGRlZXBNZXJnZShlW25dLCByW25dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG5cbnZhciBtZXJnZVJlc3VsdFBhdGNoID0gKGUsIHIsIHQsIGEpID0+IHtcbiAgdmFyIG4gPSBlLmVycm9yID8gZS5lcnJvci5ncmFwaFFMRXJyb3JzIDogW107XG4gIHZhciBvID0gISFlLmV4dGVuc2lvbnMgfHwgISEoci5wYXlsb2FkIHx8IHIpLmV4dGVuc2lvbnM7XG4gIHZhciBpID0ge1xuICAgIC4uLmUuZXh0ZW5zaW9ucyxcbiAgICAuLi4oci5wYXlsb2FkIHx8IHIpLmV4dGVuc2lvbnNcbiAgfTtcbiAgdmFyIHMgPSByLmluY3JlbWVudGFsO1xuICBpZiAoXCJwYXRoXCIgaW4gcikge1xuICAgIHMgPSBbIHIgXTtcbiAgfVxuICB2YXIgZiA9IHtcbiAgICBkYXRhOiBlLmRhdGFcbiAgfTtcbiAgaWYgKHMpIHtcbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlID0gc1tsXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGUuZXJyb3JzKSkge1xuICAgICAgICBuLnB1c2goLi4uZS5lcnJvcnMpO1xuICAgICAgfVxuICAgICAgaWYgKGUuZXh0ZW5zaW9ucykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGksIGUuZXh0ZW5zaW9ucyk7XG4gICAgICAgIG8gPSAhMDtcbiAgICAgIH1cbiAgICAgIHZhciByID0gXCJkYXRhXCI7XG4gICAgICB2YXIgdCA9IGY7XG4gICAgICB2YXIgZCA9IFtdO1xuICAgICAgaWYgKGUucGF0aCkge1xuICAgICAgICBkID0gZS5wYXRoO1xuICAgICAgfSBlbHNlIGlmIChhKSB7XG4gICAgICAgIHZhciBjID0gYS5maW5kKChyID0+IHIuaWQgPT09IGUuaWQpKTtcbiAgICAgICAgaWYgKGUuc3ViUGF0aCkge1xuICAgICAgICAgIGQgPSBbIC4uLmMucGF0aCwgLi4uZS5zdWJQYXRoIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZCA9IGMucGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgdiA9IDAsIHAgPSBkLmxlbmd0aDsgdiA8IHA7IHIgPSBkW3YrK10pIHtcbiAgICAgICAgdCA9IHRbcl0gPSBBcnJheS5pc0FycmF5KHRbcl0pID8gWyAuLi50W3JdIF0gOiB7XG4gICAgICAgICAgLi4udFtyXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGUuaXRlbXMpIHtcbiAgICAgICAgdmFyIHUgPSArciA+PSAwID8gciA6IDA7XG4gICAgICAgIGZvciAodmFyIHkgPSAwLCBoID0gZS5pdGVtcy5sZW5ndGg7IHkgPCBoOyB5KyspIHtcbiAgICAgICAgICB0W3UgKyB5XSA9IGRlZXBNZXJnZSh0W3UgKyB5XSwgZS5pdGVtc1t5XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodm9pZCAwICE9PSBlLmRhdGEpIHtcbiAgICAgICAgdFtyXSA9IGRlZXBNZXJnZSh0W3JdLCBlLmRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgbCA9IDAsIGQgPSBzLmxlbmd0aDsgbCA8IGQ7IGwrKykge1xuICAgICAgX2xvb3AoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZi5kYXRhID0gKHIucGF5bG9hZCB8fCByKS5kYXRhIHx8IGUuZGF0YTtcbiAgICBuID0gci5lcnJvcnMgfHwgci5wYXlsb2FkICYmIHIucGF5bG9hZC5lcnJvcnMgfHwgbjtcbiAgfVxuICByZXR1cm4ge1xuICAgIG9wZXJhdGlvbjogZS5vcGVyYXRpb24sXG4gICAgZGF0YTogZi5kYXRhLFxuICAgIGVycm9yOiBuLmxlbmd0aCA/IG5ldyBDb21iaW5lZEVycm9yKHtcbiAgICAgIGdyYXBoUUxFcnJvcnM6IG4sXG4gICAgICByZXNwb25zZTogdFxuICAgIH0pIDogdm9pZCAwLFxuICAgIGV4dGVuc2lvbnM6IG8gPyBpIDogdm9pZCAwLFxuICAgIGhhc05leHQ6IG51bGwgIT0gci5oYXNOZXh0ID8gci5oYXNOZXh0IDogZS5oYXNOZXh0LFxuICAgIHN0YWxlOiAhMVxuICB9O1xufTtcblxudmFyIG1ha2VFcnJvclJlc3VsdCA9IChlLCByLCB0KSA9PiAoe1xuICBvcGVyYXRpb246IGUsXG4gIGRhdGE6IHZvaWQgMCxcbiAgZXJyb3I6IG5ldyBDb21iaW5lZEVycm9yKHtcbiAgICBuZXR3b3JrRXJyb3I6IHIsXG4gICAgcmVzcG9uc2U6IHRcbiAgfSksXG4gIGV4dGVuc2lvbnM6IHZvaWQgMCxcbiAgaGFzTmV4dDogITEsXG4gIHN0YWxlOiAhMVxufSk7XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaEJvZHkoZSkge1xuICB2YXIgciA9IHtcbiAgICBxdWVyeTogdm9pZCAwLFxuICAgIGRvY3VtZW50SWQ6IHZvaWQgMCxcbiAgICBvcGVyYXRpb25OYW1lOiBnZXRPcGVyYXRpb25OYW1lKGUucXVlcnkpLFxuICAgIHZhcmlhYmxlczogZS52YXJpYWJsZXMgfHwgdm9pZCAwLFxuICAgIGV4dGVuc2lvbnM6IGUuZXh0ZW5zaW9uc1xuICB9O1xuICBpZiAoXCJkb2N1bWVudElkXCIgaW4gZS5xdWVyeSAmJiBlLnF1ZXJ5LmRvY3VtZW50SWQgJiYgKCFlLnF1ZXJ5LmRlZmluaXRpb25zIHx8ICFlLnF1ZXJ5LmRlZmluaXRpb25zLmxlbmd0aCkpIHtcbiAgICByLmRvY3VtZW50SWQgPSBlLnF1ZXJ5LmRvY3VtZW50SWQ7XG4gIH0gZWxzZSBpZiAoIWUuZXh0ZW5zaW9ucyB8fCAhZS5leHRlbnNpb25zLnBlcnNpc3RlZFF1ZXJ5IHx8IGUuZXh0ZW5zaW9ucy5wZXJzaXN0ZWRRdWVyeS5taXNzKSB7XG4gICAgci5xdWVyeSA9IHN0cmluZ2lmeURvY3VtZW50KGUucXVlcnkpO1xuICB9XG4gIHJldHVybiByO1xufVxuXG52YXIgbWFrZUZldGNoVVJMID0gKGUsIHIpID0+IHtcbiAgdmFyIHQgPSBcInF1ZXJ5XCIgPT09IGUua2luZCAmJiBlLmNvbnRleHQucHJlZmVyR2V0TWV0aG9kO1xuICBpZiAoIXQgfHwgIXIpIHtcbiAgICByZXR1cm4gZS5jb250ZXh0LnVybDtcbiAgfVxuICB2YXIgYSA9IHNwbGl0T3V0U2VhcmNoUGFyYW1zKGUuY29udGV4dC51cmwpO1xuICBmb3IgKHZhciBuIGluIHIpIHtcbiAgICB2YXIgbyA9IHJbbl07XG4gICAgaWYgKG8pIHtcbiAgICAgIGFbMV0uc2V0KG4sIFwib2JqZWN0XCIgPT0gdHlwZW9mIG8gPyBzdHJpbmdpZnlWYXJpYWJsZXMobykgOiBvKTtcbiAgICB9XG4gIH1cbiAgdmFyIGkgPSBhLmpvaW4oXCI/XCIpO1xuICBpZiAoaS5sZW5ndGggPiAyMDQ3ICYmIFwiZm9yY2VcIiAhPT0gdCkge1xuICAgIGUuY29udGV4dC5wcmVmZXJHZXRNZXRob2QgPSAhMTtcbiAgICByZXR1cm4gZS5jb250ZXh0LnVybDtcbiAgfVxuICByZXR1cm4gaTtcbn07XG5cbnZhciBzcGxpdE91dFNlYXJjaFBhcmFtcyA9IGUgPT4ge1xuICB2YXIgciA9IGUuaW5kZXhPZihcIj9cIik7XG4gIHJldHVybiByID4gLTEgPyBbIGUuc2xpY2UoMCwgciksIG5ldyBVUkxTZWFyY2hQYXJhbXMoZS5zbGljZShyICsgMSkpIF0gOiBbIGUsIG5ldyBVUkxTZWFyY2hQYXJhbXMgXTtcbn07XG5cbnZhciBzZXJpYWxpemVCb2R5ID0gKGUsIHIpID0+IHtcbiAgaWYgKHIgJiYgIShcInF1ZXJ5XCIgPT09IGUua2luZCAmJiAhIWUuY29udGV4dC5wcmVmZXJHZXRNZXRob2QpKSB7XG4gICAgdmFyIHQgPSBzdHJpbmdpZnlWYXJpYWJsZXMocik7XG4gICAgdmFyIGEgPSAoZSA9PiB7XG4gICAgICB2YXIgciA9IG5ldyBNYXA7XG4gICAgICBpZiAobCAhPT0gTm9vcENvbnN0cnVjdG9yIHx8IGQgIT09IE5vb3BDb25zdHJ1Y3Rvcikge1xuICAgICAgICBzLmNsZWFyKCk7XG4gICAgICAgIGV4dHJhY3QociwgXCJ2YXJpYWJsZXNcIiwgZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcjtcbiAgICB9KShyLnZhcmlhYmxlcyk7XG4gICAgaWYgKGEuc2l6ZSkge1xuICAgICAgdmFyIG4gPSBuZXcgRm9ybURhdGE7XG4gICAgICBuLmFwcGVuZChcIm9wZXJhdGlvbnNcIiwgdCk7XG4gICAgICBuLmFwcGVuZChcIm1hcFwiLCBzdHJpbmdpZnlWYXJpYWJsZXMoe1xuICAgICAgICAuLi5bIC4uLmEua2V5cygpIF0ubWFwKChlID0+IFsgZSBdKSlcbiAgICAgIH0pKTtcbiAgICAgIHZhciBvID0gMDtcbiAgICAgIGZvciAodmFyIGkgb2YgYS52YWx1ZXMoKSkge1xuICAgICAgICBuLmFwcGVuZChcIlwiICsgbysrLCBpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxufTtcblxudmFyIG1ha2VGZXRjaE9wdGlvbnMgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IHtcbiAgICBhY2NlcHQ6IFwic3Vic2NyaXB0aW9uXCIgPT09IGUua2luZCA/IFwidGV4dC9ldmVudC1zdHJlYW0sIG11bHRpcGFydC9taXhlZFwiIDogXCJhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24sIGFwcGxpY2F0aW9uL2dyYXBocWwranNvbiwgYXBwbGljYXRpb24vanNvbiwgdGV4dC9ldmVudC1zdHJlYW0sIG11bHRpcGFydC9taXhlZFwiXG4gIH07XG4gIHZhciBhID0gKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5jb250ZXh0LmZldGNoT3B0aW9ucyA/IGUuY29udGV4dC5mZXRjaE9wdGlvbnMoKSA6IGUuY29udGV4dC5mZXRjaE9wdGlvbnMpIHx8IHt9O1xuICBpZiAoYS5oZWFkZXJzKSB7XG4gICAgaWYgKChlID0+IFwiaGFzXCIgaW4gZSAmJiAhT2JqZWN0LmtleXMoZSkubGVuZ3RoKShhLmhlYWRlcnMpKSB7XG4gICAgICBhLmhlYWRlcnMuZm9yRWFjaCgoKGUsIHIpID0+IHtcbiAgICAgICAgdFtyXSA9IGU7XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEuaGVhZGVycykpIHtcbiAgICAgIGEuaGVhZGVycy5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgICAgIGlmICh0W2VbMF1dKSB7XG4gICAgICAgICAgICB0W2VbMF1dID0gYCR7dFtlWzBdXX0sJHtlWzFdfWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRbZVswXV0gPSBlWzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0W3JdID0gZTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBuIGluIGEuaGVhZGVycykge1xuICAgICAgICB0W24udG9Mb3dlckNhc2UoKV0gPSBhLmhlYWRlcnNbbl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBvID0gc2VyaWFsaXplQm9keShlLCByKTtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG8gJiYgIXRbXCJjb250ZW50LXR5cGVcIl0pIHtcbiAgICB0W1wiY29udGVudC10eXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5hLFxuICAgIG1ldGhvZDogbyA/IFwiUE9TVFwiIDogXCJHRVRcIixcbiAgICBib2R5OiBvLFxuICAgIGhlYWRlcnM6IHRcbiAgfTtcbn07XG5cbnZhciB5ID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgVGV4dERlY29kZXIgPyBuZXcgVGV4dERlY29kZXIgOiBudWxsO1xuXG52YXIgaCA9IC9ib3VuZGFyeT1cIj8oW149XCI7XSspXCI/L2k7XG5cbnZhciBtID0gL2RhdGE6ID8oW15cXG5dKykvO1xuXG52YXIgdG9TdHJpbmcgPSBlID0+IFwiQnVmZmVyXCIgPT09IGUuY29uc3RydWN0b3IubmFtZSA/IGUudG9TdHJpbmcoKSA6IHkuZGVjb2RlKGUpO1xuXG5hc3luYyBmdW5jdGlvbiogc3RyZWFtQm9keShlKSB7XG4gIGlmIChlLmJvZHlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgZm9yIGF3YWl0ICh2YXIgciBvZiBlLmJvZHkpIHtcbiAgICAgIHlpZWxkIHRvU3RyaW5nKHIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgdCA9IGUuYm9keS5nZXRSZWFkZXIoKTtcbiAgICB2YXIgYTtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKCEoYSA9IGF3YWl0IHQucmVhZCgpKS5kb25lKSB7XG4gICAgICAgIHlpZWxkIHRvU3RyaW5nKGEudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0LmNhbmNlbCgpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiogc3BsaXQoZSwgcikge1xuICB2YXIgdCA9IFwiXCI7XG4gIHZhciBhO1xuICBmb3IgYXdhaXQgKHZhciBuIG9mIGUpIHtcbiAgICB0ICs9IG47XG4gICAgd2hpbGUgKChhID0gdC5pbmRleE9mKHIpKSA+IC0xKSB7XG4gICAgICB5aWVsZCB0LnNsaWNlKDAsIGEpO1xuICAgICAgdCA9IHQuc2xpY2UoYSArIHIubGVuZ3RoKTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24qIGZldGNoT3BlcmF0aW9uKGUsIHIsIHQpIHtcbiAgdmFyIGEgPSAhMDtcbiAgdmFyIG4gPSBudWxsO1xuICB2YXIgbztcbiAgdHJ5IHtcbiAgICB5aWVsZCBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB2YXIgaSA9IChvID0gYXdhaXQgKGUuY29udGV4dC5mZXRjaCB8fCBmZXRjaCkociwgdCkpLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCI7XG4gICAgdmFyIHM7XG4gICAgaWYgKC9tdWx0aXBhcnRcXC9taXhlZC9pLnRlc3QoaSkpIHtcbiAgICAgIHMgPSBhc3luYyBmdW5jdGlvbiogcGFyc2VNdWx0aXBhcnRNaXhlZChlLCByKSB7XG4gICAgICAgIHZhciB0ID0gZS5tYXRjaChoKTtcbiAgICAgICAgdmFyIGEgPSBcIi0tXCIgKyAodCA/IHRbMV0gOiBcIi1cIik7XG4gICAgICAgIHZhciBuID0gITA7XG4gICAgICAgIHZhciBvO1xuICAgICAgICBmb3IgYXdhaXQgKHZhciBpIG9mIHNwbGl0KHN0cmVhbUJvZHkociksIFwiXFxyXFxuXCIgKyBhKSkge1xuICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBuID0gITE7XG4gICAgICAgICAgICB2YXIgcyA9IGkuaW5kZXhPZihhKTtcbiAgICAgICAgICAgIGlmIChzID4gLTEpIHtcbiAgICAgICAgICAgICAgaSA9IGkuc2xpY2UocyArIGEubGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgeWllbGQgbyA9IEpTT04ucGFyc2UoaS5zbGljZShpLmluZGV4T2YoXCJcXHJcXG5cXHJcXG5cIikgKyA0KSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKCFvKSB7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvICYmICExID09PSBvLmhhc05leHQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobyAmJiAhMSAhPT0gby5oYXNOZXh0KSB7XG4gICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgaGFzTmV4dDogITFcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KGksIG8pO1xuICAgIH0gZWxzZSBpZiAoL3RleHRcXC9ldmVudC1zdHJlYW0vaS50ZXN0KGkpKSB7XG4gICAgICBzID0gYXN5bmMgZnVuY3Rpb24qIHBhcnNlRXZlbnRTdHJlYW0oZSkge1xuICAgICAgICB2YXIgcjtcbiAgICAgICAgZm9yIGF3YWl0ICh2YXIgdCBvZiBzcGxpdChzdHJlYW1Cb2R5KGUpLCBcIlxcblxcblwiKSkge1xuICAgICAgICAgIHZhciBhID0gdC5tYXRjaChtKTtcbiAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgdmFyIG4gPSBhWzFdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgeWllbGQgciA9IEpTT04ucGFyc2Uobik7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyICYmICExID09PSByLmhhc05leHQpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyICYmICExICE9PSByLmhhc05leHQpIHtcbiAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICBoYXNOZXh0OiAhMVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0obyk7XG4gICAgfSBlbHNlIGlmICghL3RleHRcXC8vaS50ZXN0KGkpKSB7XG4gICAgICBzID0gYXN5bmMgZnVuY3Rpb24qIHBhcnNlSlNPTihlKSB7XG4gICAgICAgIHlpZWxkIEpTT04ucGFyc2UoYXdhaXQgZS50ZXh0KCkpO1xuICAgICAgfShvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IGFzeW5jIGZ1bmN0aW9uKiBwYXJzZU1heWJlSlNPTihlKSB7XG4gICAgICAgIHZhciByID0gYXdhaXQgZS50ZXh0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHQgPSBKU09OLnBhcnNlKHIpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRm91bmQgcmVzcG9uc2Ugd2l0aCBjb250ZW50LXR5cGUgXCJ0ZXh0L3BsYWluXCIgYnV0IGl0IGhhZCBhIHZhbGlkIFwiYXBwbGljYXRpb24vanNvblwiIHJlc3BvbnNlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB5aWVsZCB0O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHIpO1xuICAgICAgICB9XG4gICAgICB9KG8pO1xuICAgIH1cbiAgICB2YXIgZjtcbiAgICBmb3IgYXdhaXQgKHZhciBsIG9mIHMpIHtcbiAgICAgIGlmIChsLnBlbmRpbmcgJiYgIW4pIHtcbiAgICAgICAgZiA9IGwucGVuZGluZztcbiAgICAgIH0gZWxzZSBpZiAobC5wZW5kaW5nKSB7XG4gICAgICAgIGYgPSBbIC4uLmYsIC4uLmwucGVuZGluZyBdO1xuICAgICAgfVxuICAgICAgbiA9IG4gPyBtZXJnZVJlc3VsdFBhdGNoKG4sIGwsIG8sIGYpIDogbWFrZVJlc3VsdChlLCBsLCBvKTtcbiAgICAgIGEgPSAhMTtcbiAgICAgIHlpZWxkIG47XG4gICAgICBhID0gITA7XG4gICAgfVxuICAgIGlmICghbikge1xuICAgICAgeWllbGQgbiA9IG1ha2VSZXN1bHQoZSwge30sIG8pO1xuICAgIH1cbiAgfSBjYXRjaCAocikge1xuICAgIGlmICghYSkge1xuICAgICAgdGhyb3cgcjtcbiAgICB9XG4gICAgeWllbGQgbWFrZUVycm9yUmVzdWx0KGUsIG8gJiYgKG8uc3RhdHVzIDwgMjAwIHx8IG8uc3RhdHVzID49IDMwMCkgJiYgby5zdGF0dXNUZXh0ID8gbmV3IEVycm9yKG8uc3RhdHVzVGV4dCkgOiByLCBvKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlRmV0Y2hTb3VyY2UoZSwgciwgdCkge1xuICB2YXIgYTtcbiAgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEFib3J0Q29udHJvbGxlcikge1xuICAgIHQuc2lnbmFsID0gKGEgPSBuZXcgQWJvcnRDb250cm9sbGVyKS5zaWduYWw7XG4gIH1cbiAgcmV0dXJuIG4oKCgpID0+IHtcbiAgICBpZiAoYSkge1xuICAgICAgYS5hYm9ydCgpO1xuICAgIH1cbiAgfSkpKG8oKGUgPT4gISFlKSkoaShmZXRjaE9wZXJhdGlvbihlLCByLCB0KSkpKTtcbn1cblxuZXhwb3J0IHsgQ29tYmluZWRFcnJvciBhcyBDLCBtYWtlRmV0Y2hCb2R5IGFzIGEsIG1ha2VFcnJvclJlc3VsdCBhcyBiLCBtZXJnZVJlc3VsdFBhdGNoIGFzIGMsIG1ha2VGZXRjaFVSTCBhcyBkLCBtYWtlRmV0Y2hPcHRpb25zIGFzIGUsIG1ha2VGZXRjaFNvdXJjZSBhcyBmLCBnZXRPcGVyYXRpb25UeXBlIGFzIGcsIGNyZWF0ZVJlcXVlc3QgYXMgaCwgc3RyaW5naWZ5VmFyaWFibGVzIGFzIGksIGtleURvY3VtZW50IGFzIGssIG1ha2VSZXN1bHQgYXMgbSwgc3RyaW5naWZ5RG9jdW1lbnQgYXMgcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJxbC1jb3JlLWNodW5rLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@urql/core/dist/urql-core.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@urql/core/dist/urql-core.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ C),\n/* harmony export */   CombinedError: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   cacheExchange: () => (/* binding */ cacheExchange),\n/* harmony export */   composeExchanges: () => (/* binding */ composeExchanges),\n/* harmony export */   createClient: () => (/* binding */ Q),\n/* harmony export */   createRequest: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   debugExchange: () => (/* binding */ debugExchange),\n/* harmony export */   errorExchange: () => (/* binding */ mapExchange),\n/* harmony export */   fetchExchange: () => (/* binding */ fetchExchange),\n/* harmony export */   formatDocument: () => (/* binding */ formatDocument),\n/* harmony export */   gql: () => (/* binding */ gql),\n/* harmony export */   makeErrorResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   makeOperation: () => (/* binding */ makeOperation),\n/* harmony export */   makeResult: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapExchange: () => (/* binding */ mapExchange),\n/* harmony export */   mergeResultPatch: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   ssrExchange: () => (/* binding */ ssrExchange),\n/* harmony export */   stringifyDocument: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   stringifyVariables: () => (/* reexport safe */ _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   subscriptionExchange: () => (/* binding */ subscriptionExchange)\n/* harmony export */ });\n/* harmony import */ var _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @0no-co/graphql.web */ \"(ssr)/./node_modules/@0no-co/graphql.web/dist/graphql.web.mjs\");\n/* harmony import */ var _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urql-core-chunk.mjs */ \"(ssr)/./node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wonka */ \"(ssr)/./node_modules/wonka/dist/wonka.mjs\");\n\n\n\n\n\n\n\n\nvar collectTypes = (e, r) => {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = e.length; t < n; t++) {\n      collectTypes(e[t], r);\n    }\n  } else if (\"object\" == typeof e && null !== e) {\n    for (var a in e) {\n      if (\"__typename\" === a && \"string\" == typeof e[a]) {\n        r.add(e[a]);\n      } else {\n        collectTypes(e[a], r);\n      }\n    }\n  }\n  return r;\n};\n\nvar formatNode = r => {\n  if (\"definitions\" in r) {\n    var t = [];\n    for (var n = 0, a = r.definitions.length; n < a; n++) {\n      var i = formatNode(r.definitions[n]);\n      t.push(i);\n    }\n    return {\n      ...r,\n      definitions: t\n    };\n  }\n  if (\"directives\" in r && r.directives && r.directives.length) {\n    var o = [];\n    var s = {};\n    for (var c = 0, u = r.directives.length; c < u; c++) {\n      var p = r.directives[c];\n      var d = p.name.value;\n      if (\"_\" !== d[0]) {\n        o.push(p);\n      } else {\n        d = d.slice(1);\n      }\n      s[d] = p;\n    }\n    r = {\n      ...r,\n      directives: o,\n      _directives: s\n    };\n  }\n  if (\"selectionSet\" in r) {\n    var l = [];\n    var v = r.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.OPERATION_DEFINITION;\n    if (r.selectionSet) {\n      for (var f = 0, h = r.selectionSet.selections.length; f < h; f++) {\n        var k = r.selectionSet.selections[f];\n        v = v || k.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD && \"__typename\" === k.name.value && !k.alias;\n        var y = formatNode(k);\n        l.push(y);\n      }\n      if (!v) {\n        l.push({\n          kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FIELD,\n          name: {\n            kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.NAME,\n            value: \"__typename\"\n          },\n          _generated: !0\n        });\n      }\n      return {\n        ...r,\n        selectionSet: {\n          ...r.selectionSet,\n          selections: l\n        }\n      };\n    }\n  }\n  return r;\n};\n\nvar I = new Map;\n\nvar formatDocument = e => {\n  var t = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(e);\n  var n = I.get(t.__key);\n  if (!n) {\n    I.set(t.__key, n = formatNode(t));\n    Object.defineProperty(n, \"__key\", {\n      value: t.__key,\n      enumerable: !1\n    });\n  }\n  return n;\n};\n\nfunction withPromise(e) {\n  var source$ = r => e(r);\n  source$.toPromise = () => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !e.stale && !e.hasNext))(source$)));\n  source$.then = (e, r) => source$.toPromise().then(e, r);\n  source$.subscribe = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(source$);\n  return source$;\n}\n\nfunction makeOperation(e, r, t) {\n  return {\n    ...r,\n    kind: e,\n    context: r.context ? {\n      ...r.context,\n      ...t\n    } : t || r.context\n  };\n}\n\nvar addMetadata = (e, r) => makeOperation(e.kind, e, {\n  meta: {\n    ...e.context.meta,\n    ...r\n  }\n});\n\nvar noop = () => {};\n\nfunction gql(n) {\n  var a = new Map;\n  var i = [];\n  var o = [];\n  var s = Array.isArray(n) ? n[0] : n || \"\";\n  for (var c = 1; c < arguments.length; c++) {\n    var u = arguments[c];\n    if (u && u.definitions) {\n      o.push(u);\n    } else {\n      s += u;\n    }\n    s += arguments[0][c];\n  }\n  o.unshift((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(s));\n  for (var p = 0; p < o.length; p++) {\n    for (var d = 0; d < o[p].definitions.length; d++) {\n      var l = o[p].definitions[d];\n      if (l.kind === _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.FRAGMENT_DEFINITION) {\n        var v = l.name.value;\n        var f = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(l);\n        if (!a.has(v)) {\n          a.set(v, f);\n          i.push(l);\n        } else if ( true && a.get(v) !== f) {\n          console.warn(\"[WARNING: Duplicate Fragment] A fragment with name `\" + v + \"` already exists in this document.\\nWhile fragment names may not be unique across your source, each name must be unique per document.\");\n        }\n      } else {\n        i.push(l);\n      }\n    }\n  }\n  return (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.k)({\n    kind: _0no_co_graphql_web__WEBPACK_IMPORTED_MODULE_1__.Kind.DOCUMENT,\n    definitions: i\n  });\n}\n\nvar shouldSkip = ({kind: e}) => \"mutation\" !== e && \"query\" !== e;\n\nvar mapTypeNames = e => {\n  var r = formatDocument(e.query);\n  if (r !== e.query) {\n    var t = makeOperation(e.kind, e);\n    t.query = r;\n    return t;\n  } else {\n    return e;\n  }\n};\n\nvar cacheExchange = ({forward: e, client: r, dispatchDebug: t}) => {\n  var a = new Map;\n  var i = new Map;\n  var isOperationCached = e => \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy && (\"cache-only\" === e.context.requestPolicy || a.has(e.key));\n  return o => {\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var i = a.get(e.key);\n       true && t({\n        operation: e,\n        ...i ? {\n          type: \"cacheHit\",\n          message: \"The result was successfully retried from the cache\"\n        } : {\n          type: \"cacheMiss\",\n          message: \"The result could not be retrieved from the cache\"\n        },\n        source: \"cacheExchange\"\n      });\n      var o = i || (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(e, {\n        data: null\n      });\n      o = {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: i ? \"hit\" : \"miss\"\n        })\n      };\n      if (\"cache-and-network\" === e.context.requestPolicy) {\n        o.stale = !0;\n        reexecuteOperation(r, e);\n      }\n      return o;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && isOperationCached(e)))(o));\n    var c = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n      var {operation: n} = e;\n      if (!n) {\n        return;\n      }\n      var o = n.context.additionalTypenames || [];\n      if (\"subscription\" !== e.operation.kind) {\n        o = (e => [ ...collectTypes(e, new Set) ])(e.data).concat(o);\n      }\n      if (\"mutation\" === e.operation.kind || \"subscription\" === e.operation.kind) {\n        var s = new Set;\n         true && t({\n          type: \"cacheInvalidation\",\n          message: `The following typenames have been invalidated: ${o}`,\n          operation: n,\n          data: {\n            typenames: o,\n            response: e\n          },\n          source: \"cacheExchange\"\n        });\n        for (var c = 0; c < o.length; c++) {\n          var u = o[c];\n          var p = i.get(u);\n          if (!p) {\n            i.set(u, p = new Set);\n          }\n          for (var d of p.values()) {\n            s.add(d);\n          }\n          p.clear();\n        }\n        for (var l of s.values()) {\n          if (a.has(l)) {\n            n = a.get(l).operation;\n            a.delete(l);\n            reexecuteOperation(r, n);\n          }\n        }\n      } else if (\"query\" === n.kind && e.data) {\n        a.set(n.key, e);\n        for (var v = 0; v < o.length; v++) {\n          var f = o[v];\n          var h = i.get(f);\n          if (!h) {\n            i.set(f, h = new Set);\n          }\n          h.add(n.key);\n        }\n      }\n    }))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" !== e.kind || \"cache-only\" !== e.context.requestPolicy))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => addMetadata(e, {\n      cacheOutcome: \"miss\"\n    })))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !shouldSkip(e) && !isOperationCached(e)))(o)), (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => shouldSkip(e)))(o) ])))));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ s, c ]);\n  };\n};\n\nvar reexecuteOperation = (e, r) => e.reexecuteOperation(makeOperation(r.kind, r, {\n  requestPolicy: \"network-only\"\n}));\n\nvar T = new Set;\n\nvar ssrExchange = (e = {}) => {\n  var r = !!e.staleWhileRevalidate;\n  var t = !!e.includeExtensions;\n  var n = {};\n  var i = [];\n  var invalidate = e => {\n    i.push(e.operation.key);\n    if (1 === i.length) {\n      Promise.resolve().then((() => {\n        var e;\n        while (e = i.shift()) {\n          n[e] = null;\n        }\n      }));\n    }\n  };\n  var ssr = ({client: i, forward: o}) => s => {\n    var c = e && \"boolean\" == typeof e.isClient ? !!e.isClient : !i.suspense;\n    var u = o((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(mapTypeNames)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !n[e.key] || !!n[e.key].hasNext || \"network-only\" === e.context.requestPolicy))(s)));\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var o = ((e, r, t) => ({\n        operation: e,\n        data: r.data ? JSON.parse(r.data) : void 0,\n        extensions: t && r.extensions ? JSON.parse(r.extensions) : void 0,\n        error: r.error ? new _urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.C({\n          networkError: r.error.networkError ? new Error(r.error.networkError) : void 0,\n          graphQLErrors: r.error.graphQLErrors\n        }) : void 0,\n        stale: !1,\n        hasNext: !!r.hasNext\n      }))(e, n[e.key], t);\n      if (r && !T.has(e.key)) {\n        o.stale = !0;\n        T.add(e.key);\n        reexecuteOperation(i, e);\n      }\n      return {\n        ...o,\n        operation: addMetadata(e, {\n          cacheOutcome: \"hit\"\n        })\n      };\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && !!n[e.key] && \"network-only\" !== e.context.requestPolicy))(s));\n    if (!c) {\n      u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => {\n        var {operation: r} = e;\n        if (\"mutation\" !== r.kind) {\n          var a = ((e, r) => {\n            var t = {\n              hasNext: e.hasNext\n            };\n            if (void 0 !== e.data) {\n              t.data = JSON.stringify(e.data);\n            }\n            if (r && void 0 !== e.extensions) {\n              t.extensions = JSON.stringify(e.extensions);\n            }\n            if (e.error) {\n              t.error = {\n                graphQLErrors: e.error.graphQLErrors.map((e => {\n                  if (!e.path && !e.extensions) {\n                    return e.message;\n                  }\n                  return {\n                    message: e.message,\n                    path: e.path,\n                    extensions: e.extensions\n                  };\n                }))\n              };\n              if (e.error.networkError) {\n                t.error.networkError = \"\" + e.error.networkError;\n              }\n            }\n            return t;\n          })(e, t);\n          n[r.key] = a;\n        }\n      }))(u);\n    } else {\n      p = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)(invalidate)(p);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ u, p ]);\n  };\n  ssr.restoreData = e => {\n    for (var r in e) {\n      if (null !== n[r]) {\n        n[r] = e[r];\n      }\n    }\n  };\n  ssr.extractData = () => {\n    var e = {};\n    for (var r in n) {\n      if (null != n[r]) {\n        e[r] = n[r];\n      }\n    }\n    return e;\n  };\n  if (e && e.initialState) {\n    ssr.restoreData(e.initialState);\n  }\n  return ssr;\n};\n\nvar subscriptionExchange = ({forwardSubscription: e, enableAllOperations: r, isSubscriptionOperation: t}) => ({client: a, forward: i}) => {\n  var u = t || (e => \"subscription\" === e.kind || !!r && (\"query\" === e.kind || \"mutation\" === e.kind));\n  return r => {\n    var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((t => {\n      var {key: i} = t;\n      var u = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind && e.key === i))(r);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)(u)((r => {\n        var t = e((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(r), r);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.make)((e => {\n          var i = !1;\n          var o;\n          var u;\n          function nextResult(t) {\n            e.next(u = u ? (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(u, t) : (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(r, t));\n          }\n          Promise.resolve().then((() => {\n            if (i) {\n              return;\n            }\n            o = t.subscribe({\n              next: nextResult,\n              error(t) {\n                if (Array.isArray(t)) {\n                  nextResult({\n                    errors: t\n                  });\n                } else {\n                  e.next((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(r, t));\n                }\n                e.complete();\n              },\n              complete() {\n                if (!i) {\n                  i = !0;\n                  if (\"subscription\" === r.kind) {\n                    a.reexecuteOperation(makeOperation(\"teardown\", r, r.context));\n                  }\n                  if (u && u.hasNext) {\n                    nextResult({\n                      hasNext: !1\n                    });\n                  }\n                  e.complete();\n                }\n              }\n            });\n          }));\n          return () => {\n            i = !0;\n            if (o) {\n              o.unsubscribe();\n            }\n          };\n        }));\n      })(t));\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && u(e)))(r));\n    var p = i((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || !u(e)))(r));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, p ]);\n  };\n};\n\nvar debugExchange = ({forward: e}) => {\n  if (false) {} else {\n    return r => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Completed operation: \", e)))(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((e => console.log(\"[Exchange debug]: Incoming operation: \", e)))(r)));\n  }\n};\n\nvar fetchExchange = ({forward: e, dispatchDebug: r}) => t => {\n  var n = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n    var n = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(e);\n    var a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(e, n);\n    var i = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(e, n);\n     true && r({\n      type: \"fetchRequest\",\n      message: \"A fetch request is being executed.\",\n      operation: e,\n      data: {\n        url: a,\n        fetchOptions: i\n      },\n      source: \"fetchExchange\"\n    });\n    var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(t))((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(e, a, i));\n    if (true) {\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((t => {\n        var n = !t.data ? t.error : void 0;\n         true && r({\n          type: n ? \"fetchError\" : \"fetchSuccess\",\n          message: `A ${n ? \"failed\" : \"successful\"} fetch response has been returned.`,\n          operation: e,\n          data: {\n            url: a,\n            fetchOptions: i,\n            value: n || t\n          },\n          source: \"fetchExchange\"\n        });\n      }))(s);\n    }\n    return s;\n  }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" !== e.kind && (\"subscription\" !== e.kind || !!e.context.fetchSubscriptions)))(t));\n  var a = e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"teardown\" === e.kind || \"subscription\" === e.kind && !e.context.fetchSubscriptions))(t));\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ n, a ]);\n};\n\nvar composeExchanges = e => ({client: r, forward: t, dispatchDebug: n}) => e.reduceRight(((e, t) => {\n  var a = !1;\n  return t({\n    client: r,\n    forward(r) {\n      if (true) {\n        if (a) {\n          throw new Error(\"forward() must only be called once in each Exchange.\");\n        }\n        a = !0;\n      }\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e((0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r)));\n    },\n    dispatchDebug(e) {\n       true && n({\n        timestamp: Date.now(),\n        source: t.name,\n        ...e\n      });\n    }\n  });\n}), t);\n\nvar mapExchange = ({onOperation: e, onResult: r, onError: t}) => ({forward: n}) => a => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n  if (t && e.error) {\n    t(e.error, e.operation);\n  }\n  var n = r && r(e) || e;\n  return \"then\" in n ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(n) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(n);\n}))(n((0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((r => {\n  var t = e && e(r) || r;\n  return \"then\" in t ? (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromPromise)(t) : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(t);\n}))(a)));\n\nvar fallbackExchange = ({dispatchDebug: e}) => r => {\n  if (true) {\n    r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.tap)((r => {\n      if (\"teardown\" !== r.kind && \"production\" !== \"development\") {\n        var t = `No exchange has handled operations of kind \"${r.kind}\". Check whether you've added an exchange responsible for these operations.`;\n         true && e({\n          type: \"fallbackCatch\",\n          message: t,\n          operation: r,\n          source: \"fallbackExchange\"\n        });\n        console.warn(t);\n      }\n    }))(r);\n  }\n  return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !1))(r);\n};\n\nvar C = function Client(e) {\n  if ( true && !e.url) {\n    throw new Error(\"You are creating an urql-client without a url.\");\n  }\n  var r = 0;\n  var t = new Map;\n  var n = new Map;\n  var a = new Set;\n  var i = [];\n  var o = {\n    url: e.url,\n    fetchSubscriptions: e.fetchSubscriptions,\n    fetchOptions: e.fetchOptions,\n    fetch: e.fetch,\n    preferGetMethod: e.preferGetMethod,\n    requestPolicy: e.requestPolicy || \"cache-first\"\n  };\n  var s = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n  function nextOperation(e) {\n    if (\"mutation\" === e.kind || \"teardown\" === e.kind || !a.has(e.key)) {\n      if (\"teardown\" === e.kind) {\n        a.delete(e.key);\n      } else if (\"mutation\" !== e.kind) {\n        a.add(e.key);\n      }\n      s.next(e);\n    }\n  }\n  var c = !1;\n  function dispatchOperation(e) {\n    if (e) {\n      nextOperation(e);\n    }\n    if (!c) {\n      c = !0;\n      while (c && (e = i.shift())) {\n        nextOperation(e);\n      }\n      c = !1;\n    }\n  }\n  var makeResultSource = e => {\n    var r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => \"teardown\" === r.kind && r.key === e.key))(s.source))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.operation.kind === e.kind && r.operation.key === e.key && (!r.operation.context._instance || r.operation.context._instance === e.context._instance)))(E));\n    if (\"query\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.takeWhile)((e => !!e.hasNext), !0)(r);\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)((r => {\n        var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(r);\n        return r.stale || r.hasNext ? t : (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ t, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((() => {\n          r.stale = !0;\n          return r;\n        }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r.key === e.key))(s.source))) ]);\n      }))(r);\n    }\n    if (\"mutation\" !== e.kind) {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onEnd)((() => {\n        a.delete(e.key);\n        t.delete(e.key);\n        n.delete(e.key);\n        c = !1;\n        for (var r = i.length - 1; r >= 0; r--) {\n          if (i[r].key === e.key) {\n            i.splice(r, 1);\n          }\n        }\n        nextOperation(makeOperation(\"teardown\", e, e.context));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.onPush)((r => {\n        if (r.stale) {\n          if (!r.hasNext) {\n            a.delete(e.key);\n          } else {\n            for (var n = 0; n < i.length; n++) {\n              var o = i[n];\n              if (o.key === r.operation.key) {\n                a.delete(o.key);\n                break;\n              }\n            }\n          }\n        } else if (!r.hasNext) {\n          a.delete(e.key);\n        }\n        t.set(e.key, r);\n      }))(r));\n    } else {\n      r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n        nextOperation(e);\n      }))(r);\n    }\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r);\n  };\n  var u = this instanceof Client ? this : Object.create(Client.prototype);\n  var p = Object.assign(u, {\n    suspense: !!e.suspense,\n    operations$: s.source,\n    reexecuteOperation(e) {\n      if (\"teardown\" === e.kind) {\n        dispatchOperation(e);\n      } else if (\"mutation\" === e.kind) {\n        i.push(e);\n        Promise.resolve().then(dispatchOperation);\n      } else if (n.has(e.key)) {\n        var r = !1;\n        for (var t = 0; t < i.length; t++) {\n          if (i[t].key === e.key) {\n            i[t] = e;\n            r = !0;\n          }\n        }\n        if (!(r || a.has(e.key) && \"network-only\" !== e.context.requestPolicy)) {\n          i.push(e);\n          Promise.resolve().then(dispatchOperation);\n        } else {\n          a.delete(e.key);\n          Promise.resolve().then(dispatchOperation);\n        }\n      }\n    },\n    createRequestOperation(e, t, n) {\n      if (!n) {\n        n = {};\n      }\n      var a;\n      if ( true && \"teardown\" !== e && (a = (0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(t.query)) !== e) {\n        throw new Error(`Expected operation of type \"${e}\" but found \"${a}\"`);\n      }\n      return makeOperation(e, t, {\n        _instance: \"mutation\" === e ? r = r + 1 | 0 : void 0,\n        ...o,\n        ...n,\n        requestPolicy: n.requestPolicy || o.requestPolicy,\n        suspense: n.suspense || !1 !== n.suspense && p.suspense\n      });\n    },\n    executeRequestOperation(e) {\n      if (\"mutation\" === e.kind) {\n        return withPromise(makeResultSource(e));\n      }\n      return withPromise((0,wonka__WEBPACK_IMPORTED_MODULE_2__.lazy)((() => {\n        var r = n.get(e.key);\n        if (!r) {\n          n.set(e.key, r = makeResultSource(e));\n        }\n        r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.onStart)((() => {\n          dispatchOperation(e);\n        }))(r);\n        var a = t.get(e.key);\n        if (\"query\" === e.kind && a && (a.stale || a.hasNext)) {\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.switchMap)(wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ r, (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((r => r === t.get(e.key)))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromValue)(a)) ]));\n        } else {\n          return r;\n        }\n      })));\n    },\n    executeQuery(e, r) {\n      var t = p.createRequestOperation(\"query\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeSubscription(e, r) {\n      var t = p.createRequestOperation(\"subscription\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    executeMutation(e, r) {\n      var t = p.createRequestOperation(\"mutation\", e, r);\n      return p.executeRequestOperation(t);\n    },\n    readQuery(e, r, t) {\n      var n = null;\n      (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)((e => {\n        n = e;\n      }))(p.query(e, r, t)).unsubscribe();\n      return n;\n    },\n    query: (e, r, t) => p.executeQuery((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    subscription: (e, r, t) => p.executeSubscription((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t),\n    mutation: (e, r, t) => p.executeMutation((0,_urql_core_chunk_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(e, r), t)\n  });\n  var d = noop;\n  if (true) {\n    var {next: f, source: x} = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n    p.subscribeToDebugTarget = e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.subscribe)(e)(x);\n    d = f;\n  }\n  var w = composeExchanges(e.exchanges);\n  var E = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(w({\n    client: p,\n    dispatchDebug: d,\n    forward: fallbackExchange({\n      dispatchDebug: d\n    })\n  })(s.source));\n  (0,wonka__WEBPACK_IMPORTED_MODULE_2__.publish)(E);\n  return p;\n};\n\nvar Q = C;\n\n\n//# sourceMappingURL=urql-core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9kaXN0L3VycWwtY29yZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7O0FBRWtGOztBQUVsRTs7QUFFeVA7O0FBRXpUO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBQztBQUN4QjtBQUNBLDREQUE0RCxPQUFPO0FBQ25FO0FBQ0EsNEJBQTRCLHFEQUFDO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUM7QUFDakI7QUFDQSxrQkFBa0IscURBQUM7QUFDbkI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsVUFBVSx1REFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixnREFBQyxDQUFDLDJDQUFDLElBQUksNkNBQUM7QUFDcEM7QUFDQSwyQkFBMkIsZ0RBQUM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFDO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQixnREFBQyxDQUFDLDRDQUFDLEVBQUUsNENBQUMsTUFBTSw2Q0FBQyw0QkFBNEIsZ0RBQUM7QUFDM0QsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLGdEQUFDO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDLHVEQUFDO0FBQ3hDLHFEQUFxRCx1REFBQztBQUN0RCw2Q0FBNkMsdURBQUM7QUFDOUMsR0FBRztBQUNIO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxTQUFTLG9CQUFvQixFQUFFLGtEQUFDO0FBQ2hDLG9DQUFvQyxnREFBQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxVQUFVLDRDQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUUsOENBQUM7QUFDSDtBQUNBOztBQUVBOztBQUV5VjtBQUN6ViIsInNvdXJjZXMiOlsiL1VzZXJzL2FwcGxlL0Rlc2t0b3AvQWVsZiBQcm9qZWN0cy9hZWxmLWNvZGUtZ2VuZXJhdG9yL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL2Rpc3QvdXJxbC1jb3JlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBLaW5kIGFzIGUgfSBmcm9tIFwiQDBuby1jby9ncmFwaHFsLndlYlwiO1xuXG5pbXBvcnQgeyBrIGFzIHIsIHMgYXMgdCwgbSBhcyBuLCBDIGFzIGEsIGEgYXMgbywgYiBhcyBzLCBjLCBkIGFzIHUsIGUgYXMgcCwgZiBhcyBkLCBnIGFzIGwsIGggYXMgdiB9IGZyb20gXCIuL3VycWwtY29yZS1jaHVuay5tanNcIjtcblxuZXhwb3J0IHsgaSBhcyBzdHJpbmdpZnlWYXJpYWJsZXMgfSBmcm9tIFwiLi91cnFsLWNvcmUtY2h1bmsubWpzXCI7XG5cbmltcG9ydCB7IHRvUHJvbWlzZSBhcyBmLCB0YWtlIGFzIGgsIGZpbHRlciBhcyBrLCBzdWJzY3JpYmUgYXMgeSwgbWFwIGFzIG0sIHRhcCBhcyB4LCBtZXJnZSBhcyBnLCBtZXJnZU1hcCBhcyB3LCB0YWtlVW50aWwgYXMgTywgbWFrZSBhcyBFLCBvblB1c2ggYXMgYiwgc2hhcmUgYXMgTiwgZnJvbVByb21pc2UgYXMgcSwgZnJvbVZhbHVlIGFzIF8sIG1ha2VTdWJqZWN0IGFzIEQsIGxhenkgYXMgUywgb25TdGFydCBhcyBQLCBzd2l0Y2hNYXAgYXMgUiwgcHVibGlzaCBhcyBWLCB0YWtlV2hpbGUgYXMgQSwgb25FbmQgYXMgTSB9IGZyb20gXCJ3b25rYVwiO1xuXG52YXIgY29sbGVjdFR5cGVzID0gKGUsIHIpID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICBmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoOyB0IDwgbjsgdCsrKSB7XG4gICAgICBjb2xsZWN0VHlwZXMoZVt0XSwgcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkge1xuICAgIGZvciAodmFyIGEgaW4gZSkge1xuICAgICAgaWYgKFwiX190eXBlbmFtZVwiID09PSBhICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGVbYV0pIHtcbiAgICAgICAgci5hZGQoZVthXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xsZWN0VHlwZXMoZVthXSwgcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIGZvcm1hdE5vZGUgPSByID0+IHtcbiAgaWYgKFwiZGVmaW5pdGlvbnNcIiBpbiByKSB7XG4gICAgdmFyIHQgPSBbXTtcbiAgICBmb3IgKHZhciBuID0gMCwgYSA9IHIuZGVmaW5pdGlvbnMubGVuZ3RoOyBuIDwgYTsgbisrKSB7XG4gICAgICB2YXIgaSA9IGZvcm1hdE5vZGUoci5kZWZpbml0aW9uc1tuXSk7XG4gICAgICB0LnB1c2goaSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5yLFxuICAgICAgZGVmaW5pdGlvbnM6IHRcbiAgICB9O1xuICB9XG4gIGlmIChcImRpcmVjdGl2ZXNcIiBpbiByICYmIHIuZGlyZWN0aXZlcyAmJiByLmRpcmVjdGl2ZXMubGVuZ3RoKSB7XG4gICAgdmFyIG8gPSBbXTtcbiAgICB2YXIgcyA9IHt9O1xuICAgIGZvciAodmFyIGMgPSAwLCB1ID0gci5kaXJlY3RpdmVzLmxlbmd0aDsgYyA8IHU7IGMrKykge1xuICAgICAgdmFyIHAgPSByLmRpcmVjdGl2ZXNbY107XG4gICAgICB2YXIgZCA9IHAubmFtZS52YWx1ZTtcbiAgICAgIGlmIChcIl9cIiAhPT0gZFswXSkge1xuICAgICAgICBvLnB1c2gocCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkID0gZC5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIHNbZF0gPSBwO1xuICAgIH1cbiAgICByID0ge1xuICAgICAgLi4ucixcbiAgICAgIGRpcmVjdGl2ZXM6IG8sXG4gICAgICBfZGlyZWN0aXZlczogc1xuICAgIH07XG4gIH1cbiAgaWYgKFwic2VsZWN0aW9uU2V0XCIgaW4gcikge1xuICAgIHZhciBsID0gW107XG4gICAgdmFyIHYgPSByLmtpbmQgPT09IGUuT1BFUkFUSU9OX0RFRklOSVRJT047XG4gICAgaWYgKHIuc2VsZWN0aW9uU2V0KSB7XG4gICAgICBmb3IgKHZhciBmID0gMCwgaCA9IHIuc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMubGVuZ3RoOyBmIDwgaDsgZisrKSB7XG4gICAgICAgIHZhciBrID0gci5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc1tmXTtcbiAgICAgICAgdiA9IHYgfHwgay5raW5kID09PSBlLkZJRUxEICYmIFwiX190eXBlbmFtZVwiID09PSBrLm5hbWUudmFsdWUgJiYgIWsuYWxpYXM7XG4gICAgICAgIHZhciB5ID0gZm9ybWF0Tm9kZShrKTtcbiAgICAgICAgbC5wdXNoKHkpO1xuICAgICAgfVxuICAgICAgaWYgKCF2KSB7XG4gICAgICAgIGwucHVzaCh7XG4gICAgICAgICAga2luZDogZS5GSUVMRCxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBraW5kOiBlLk5BTUUsXG4gICAgICAgICAgICB2YWx1ZTogXCJfX3R5cGVuYW1lXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9nZW5lcmF0ZWQ6ICEwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucixcbiAgICAgICAgc2VsZWN0aW9uU2V0OiB7XG4gICAgICAgICAgLi4uci5zZWxlY3Rpb25TZXQsXG4gICAgICAgICAgc2VsZWN0aW9uczogbFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG5cbnZhciBJID0gbmV3IE1hcDtcblxudmFyIGZvcm1hdERvY3VtZW50ID0gZSA9PiB7XG4gIHZhciB0ID0gcihlKTtcbiAgdmFyIG4gPSBJLmdldCh0Ll9fa2V5KTtcbiAgaWYgKCFuKSB7XG4gICAgSS5zZXQodC5fX2tleSwgbiA9IGZvcm1hdE5vZGUodCkpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIl9fa2V5XCIsIHtcbiAgICAgIHZhbHVlOiB0Ll9fa2V5LFxuICAgICAgZW51bWVyYWJsZTogITFcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbjtcbn07XG5cbmZ1bmN0aW9uIHdpdGhQcm9taXNlKGUpIHtcbiAgdmFyIHNvdXJjZSQgPSByID0+IGUocik7XG4gIHNvdXJjZSQudG9Qcm9taXNlID0gKCkgPT4gZihoKDEpKGsoKGUgPT4gIWUuc3RhbGUgJiYgIWUuaGFzTmV4dCkpKHNvdXJjZSQpKSk7XG4gIHNvdXJjZSQudGhlbiA9IChlLCByKSA9PiBzb3VyY2UkLnRvUHJvbWlzZSgpLnRoZW4oZSwgcik7XG4gIHNvdXJjZSQuc3Vic2NyaWJlID0gZSA9PiB5KGUpKHNvdXJjZSQpO1xuICByZXR1cm4gc291cmNlJDtcbn1cblxuZnVuY3Rpb24gbWFrZU9wZXJhdGlvbihlLCByLCB0KSB7XG4gIHJldHVybiB7XG4gICAgLi4ucixcbiAgICBraW5kOiBlLFxuICAgIGNvbnRleHQ6IHIuY29udGV4dCA/IHtcbiAgICAgIC4uLnIuY29udGV4dCxcbiAgICAgIC4uLnRcbiAgICB9IDogdCB8fCByLmNvbnRleHRcbiAgfTtcbn1cblxudmFyIGFkZE1ldGFkYXRhID0gKGUsIHIpID0+IG1ha2VPcGVyYXRpb24oZS5raW5kLCBlLCB7XG4gIG1ldGE6IHtcbiAgICAuLi5lLmNvbnRleHQubWV0YSxcbiAgICAuLi5yXG4gIH1cbn0pO1xuXG52YXIgbm9vcCA9ICgpID0+IHt9O1xuXG5mdW5jdGlvbiBncWwobikge1xuICB2YXIgYSA9IG5ldyBNYXA7XG4gIHZhciBpID0gW107XG4gIHZhciBvID0gW107XG4gIHZhciBzID0gQXJyYXkuaXNBcnJheShuKSA/IG5bMF0gOiBuIHx8IFwiXCI7XG4gIGZvciAodmFyIGMgPSAxOyBjIDwgYXJndW1lbnRzLmxlbmd0aDsgYysrKSB7XG4gICAgdmFyIHUgPSBhcmd1bWVudHNbY107XG4gICAgaWYgKHUgJiYgdS5kZWZpbml0aW9ucykge1xuICAgICAgby5wdXNoKHUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzICs9IHU7XG4gICAgfVxuICAgIHMgKz0gYXJndW1lbnRzWzBdW2NdO1xuICB9XG4gIG8udW5zaGlmdChyKHMpKTtcbiAgZm9yICh2YXIgcCA9IDA7IHAgPCBvLmxlbmd0aDsgcCsrKSB7XG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBvW3BdLmRlZmluaXRpb25zLmxlbmd0aDsgZCsrKSB7XG4gICAgICB2YXIgbCA9IG9bcF0uZGVmaW5pdGlvbnNbZF07XG4gICAgICBpZiAobC5raW5kID09PSBlLkZSQUdNRU5UX0RFRklOSVRJT04pIHtcbiAgICAgICAgdmFyIHYgPSBsLm5hbWUudmFsdWU7XG4gICAgICAgIHZhciBmID0gdChsKTtcbiAgICAgICAgaWYgKCFhLmhhcyh2KSkge1xuICAgICAgICAgIGEuc2V0KHYsIGYpO1xuICAgICAgICAgIGkucHVzaChsKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgYS5nZXQodikgIT09IGYpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbV0FSTklORzogRHVwbGljYXRlIEZyYWdtZW50XSBBIGZyYWdtZW50IHdpdGggbmFtZSBgXCIgKyB2ICsgXCJgIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgZG9jdW1lbnQuXFxuV2hpbGUgZnJhZ21lbnQgbmFtZXMgbWF5IG5vdCBiZSB1bmlxdWUgYWNyb3NzIHlvdXIgc291cmNlLCBlYWNoIG5hbWUgbXVzdCBiZSB1bmlxdWUgcGVyIGRvY3VtZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaS5wdXNoKGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcih7XG4gICAga2luZDogZS5ET0NVTUVOVCxcbiAgICBkZWZpbml0aW9uczogaVxuICB9KTtcbn1cblxudmFyIHNob3VsZFNraXAgPSAoe2tpbmQ6IGV9KSA9PiBcIm11dGF0aW9uXCIgIT09IGUgJiYgXCJxdWVyeVwiICE9PSBlO1xuXG52YXIgbWFwVHlwZU5hbWVzID0gZSA9PiB7XG4gIHZhciByID0gZm9ybWF0RG9jdW1lbnQoZS5xdWVyeSk7XG4gIGlmIChyICE9PSBlLnF1ZXJ5KSB7XG4gICAgdmFyIHQgPSBtYWtlT3BlcmF0aW9uKGUua2luZCwgZSk7XG4gICAgdC5xdWVyeSA9IHI7XG4gICAgcmV0dXJuIHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn07XG5cbnZhciBjYWNoZUV4Y2hhbmdlID0gKHtmb3J3YXJkOiBlLCBjbGllbnQ6IHIsIGRpc3BhdGNoRGVidWc6IHR9KSA9PiB7XG4gIHZhciBhID0gbmV3IE1hcDtcbiAgdmFyIGkgPSBuZXcgTWFwO1xuICB2YXIgaXNPcGVyYXRpb25DYWNoZWQgPSBlID0+IFwicXVlcnlcIiA9PT0gZS5raW5kICYmIFwibmV0d29yay1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5ICYmIChcImNhY2hlLW9ubHlcIiA9PT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kgfHwgYS5oYXMoZS5rZXkpKTtcbiAgcmV0dXJuIG8gPT4ge1xuICAgIHZhciBzID0gbSgoZSA9PiB7XG4gICAgICB2YXIgaSA9IGEuZ2V0KGUua2V5KTtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB0KHtcbiAgICAgICAgb3BlcmF0aW9uOiBlLFxuICAgICAgICAuLi5pID8ge1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVIaXRcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlRoZSByZXN1bHQgd2FzIHN1Y2Nlc3NmdWxseSByZXRyaWVkIGZyb20gdGhlIGNhY2hlXCJcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICB0eXBlOiBcImNhY2hlTWlzc1wiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHJlc3VsdCBjb3VsZCBub3QgYmUgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlXCJcbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgfSk7XG4gICAgICB2YXIgbyA9IGkgfHwgbihlLCB7XG4gICAgICAgIGRhdGE6IG51bGxcbiAgICAgIH0pO1xuICAgICAgbyA9IHtcbiAgICAgICAgLi4ubyxcbiAgICAgICAgb3BlcmF0aW9uOiBhZGRNZXRhZGF0YShlLCB7XG4gICAgICAgICAgY2FjaGVPdXRjb21lOiBpID8gXCJoaXRcIiA6IFwibWlzc1wiXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgaWYgKFwiY2FjaGUtYW5kLW5ldHdvcmtcIiA9PT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kpIHtcbiAgICAgICAgby5zdGFsZSA9ICEwO1xuICAgICAgICByZWV4ZWN1dGVPcGVyYXRpb24ociwgZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbztcbiAgICB9KSkoaygoZSA9PiAhc2hvdWxkU2tpcChlKSAmJiBpc09wZXJhdGlvbkNhY2hlZChlKSkpKG8pKTtcbiAgICB2YXIgYyA9IHgoKGUgPT4ge1xuICAgICAgdmFyIHtvcGVyYXRpb246IG59ID0gZTtcbiAgICAgIGlmICghbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbyA9IG4uY29udGV4dC5hZGRpdGlvbmFsVHlwZW5hbWVzIHx8IFtdO1xuICAgICAgaWYgKFwic3Vic2NyaXB0aW9uXCIgIT09IGUub3BlcmF0aW9uLmtpbmQpIHtcbiAgICAgICAgbyA9IChlID0+IFsgLi4uY29sbGVjdFR5cGVzKGUsIG5ldyBTZXQpIF0pKGUuZGF0YSkuY29uY2F0KG8pO1xuICAgICAgfVxuICAgICAgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5vcGVyYXRpb24ua2luZCB8fCBcInN1YnNjcmlwdGlvblwiID09PSBlLm9wZXJhdGlvbi5raW5kKSB7XG4gICAgICAgIHZhciBzID0gbmV3IFNldDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHQoe1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVJbnZhbGlkYXRpb25cIixcbiAgICAgICAgICBtZXNzYWdlOiBgVGhlIGZvbGxvd2luZyB0eXBlbmFtZXMgaGF2ZSBiZWVuIGludmFsaWRhdGVkOiAke299YCxcbiAgICAgICAgICBvcGVyYXRpb246IG4sXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZW5hbWVzOiBvLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNvdXJjZTogXCJjYWNoZUV4Y2hhbmdlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgby5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIHZhciB1ID0gb1tjXTtcbiAgICAgICAgICB2YXIgcCA9IGkuZ2V0KHUpO1xuICAgICAgICAgIGlmICghcCkge1xuICAgICAgICAgICAgaS5zZXQodSwgcCA9IG5ldyBTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBkIG9mIHAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHMuYWRkKGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbCBvZiBzLnZhbHVlcygpKSB7XG4gICAgICAgICAgaWYgKGEuaGFzKGwpKSB7XG4gICAgICAgICAgICBuID0gYS5nZXQobCkub3BlcmF0aW9uO1xuICAgICAgICAgICAgYS5kZWxldGUobCk7XG4gICAgICAgICAgICByZWV4ZWN1dGVPcGVyYXRpb24ociwgbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFwicXVlcnlcIiA9PT0gbi5raW5kICYmIGUuZGF0YSkge1xuICAgICAgICBhLnNldChuLmtleSwgZSk7XG4gICAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwgby5sZW5ndGg7IHYrKykge1xuICAgICAgICAgIHZhciBmID0gb1t2XTtcbiAgICAgICAgICB2YXIgaCA9IGkuZ2V0KGYpO1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgaS5zZXQoZiwgaCA9IG5ldyBTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoLmFkZChuLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkoZShrKChlID0+IFwicXVlcnlcIiAhPT0gZS5raW5kIHx8IFwiY2FjaGUtb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKG0oKGUgPT4gYWRkTWV0YWRhdGEoZSwge1xuICAgICAgY2FjaGVPdXRjb21lOiBcIm1pc3NcIlxuICAgIH0pKSkoZyhbIG0obWFwVHlwZU5hbWVzKShrKChlID0+ICFzaG91bGRTa2lwKGUpICYmICFpc09wZXJhdGlvbkNhY2hlZChlKSkpKG8pKSwgaygoZSA9PiBzaG91bGRTa2lwKGUpKSkobykgXSkpKSkpO1xuICAgIHJldHVybiBnKFsgcywgYyBdKTtcbiAgfTtcbn07XG5cbnZhciByZWV4ZWN1dGVPcGVyYXRpb24gPSAoZSwgcikgPT4gZS5yZWV4ZWN1dGVPcGVyYXRpb24obWFrZU9wZXJhdGlvbihyLmtpbmQsIHIsIHtcbiAgcmVxdWVzdFBvbGljeTogXCJuZXR3b3JrLW9ubHlcIlxufSkpO1xuXG52YXIgVCA9IG5ldyBTZXQ7XG5cbnZhciBzc3JFeGNoYW5nZSA9IChlID0ge30pID0+IHtcbiAgdmFyIHIgPSAhIWUuc3RhbGVXaGlsZVJldmFsaWRhdGU7XG4gIHZhciB0ID0gISFlLmluY2x1ZGVFeHRlbnNpb25zO1xuICB2YXIgbiA9IHt9O1xuICB2YXIgaSA9IFtdO1xuICB2YXIgaW52YWxpZGF0ZSA9IGUgPT4ge1xuICAgIGkucHVzaChlLm9wZXJhdGlvbi5rZXkpO1xuICAgIGlmICgxID09PSBpLmxlbmd0aCkge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCkgPT4ge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgd2hpbGUgKGUgPSBpLnNoaWZ0KCkpIHtcbiAgICAgICAgICBuW2VdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHNzciA9ICh7Y2xpZW50OiBpLCBmb3J3YXJkOiBvfSkgPT4gcyA9PiB7XG4gICAgdmFyIGMgPSBlICYmIFwiYm9vbGVhblwiID09IHR5cGVvZiBlLmlzQ2xpZW50ID8gISFlLmlzQ2xpZW50IDogIWkuc3VzcGVuc2U7XG4gICAgdmFyIHUgPSBvKG0obWFwVHlwZU5hbWVzKShrKChlID0+IFwidGVhcmRvd25cIiA9PT0gZS5raW5kIHx8ICFuW2Uua2V5XSB8fCAhIW5bZS5rZXldLmhhc05leHQgfHwgXCJuZXR3b3JrLW9ubHlcIiA9PT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kpKShzKSkpO1xuICAgIHZhciBwID0gbSgoZSA9PiB7XG4gICAgICB2YXIgbyA9ICgoZSwgciwgdCkgPT4gKHtcbiAgICAgICAgb3BlcmF0aW9uOiBlLFxuICAgICAgICBkYXRhOiByLmRhdGEgPyBKU09OLnBhcnNlKHIuZGF0YSkgOiB2b2lkIDAsXG4gICAgICAgIGV4dGVuc2lvbnM6IHQgJiYgci5leHRlbnNpb25zID8gSlNPTi5wYXJzZShyLmV4dGVuc2lvbnMpIDogdm9pZCAwLFxuICAgICAgICBlcnJvcjogci5lcnJvciA/IG5ldyBhKHtcbiAgICAgICAgICBuZXR3b3JrRXJyb3I6IHIuZXJyb3IubmV0d29ya0Vycm9yID8gbmV3IEVycm9yKHIuZXJyb3IubmV0d29ya0Vycm9yKSA6IHZvaWQgMCxcbiAgICAgICAgICBncmFwaFFMRXJyb3JzOiByLmVycm9yLmdyYXBoUUxFcnJvcnNcbiAgICAgICAgfSkgOiB2b2lkIDAsXG4gICAgICAgIHN0YWxlOiAhMSxcbiAgICAgICAgaGFzTmV4dDogISFyLmhhc05leHRcbiAgICAgIH0pKShlLCBuW2Uua2V5XSwgdCk7XG4gICAgICBpZiAociAmJiAhVC5oYXMoZS5rZXkpKSB7XG4gICAgICAgIG8uc3RhbGUgPSAhMDtcbiAgICAgICAgVC5hZGQoZS5rZXkpO1xuICAgICAgICByZWV4ZWN1dGVPcGVyYXRpb24oaSwgZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBvcGVyYXRpb246IGFkZE1ldGFkYXRhKGUsIHtcbiAgICAgICAgICBjYWNoZU91dGNvbWU6IFwiaGl0XCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSkpKGsoKGUgPT4gXCJ0ZWFyZG93blwiICE9PSBlLmtpbmQgJiYgISFuW2Uua2V5XSAmJiBcIm5ldHdvcmstb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKHMpKTtcbiAgICBpZiAoIWMpIHtcbiAgICAgIHUgPSB4KChlID0+IHtcbiAgICAgICAgdmFyIHtvcGVyYXRpb246IHJ9ID0gZTtcbiAgICAgICAgaWYgKFwibXV0YXRpb25cIiAhPT0gci5raW5kKSB7XG4gICAgICAgICAgdmFyIGEgPSAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIHZhciB0ID0ge1xuICAgICAgICAgICAgICBoYXNOZXh0OiBlLmhhc05leHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBlLmRhdGEpIHtcbiAgICAgICAgICAgICAgdC5kYXRhID0gSlNPTi5zdHJpbmdpZnkoZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyICYmIHZvaWQgMCAhPT0gZS5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICAgIHQuZXh0ZW5zaW9ucyA9IEpTT04uc3RyaW5naWZ5KGUuZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS5lcnJvcikge1xuICAgICAgICAgICAgICB0LmVycm9yID0ge1xuICAgICAgICAgICAgICAgIGdyYXBoUUxFcnJvcnM6IGUuZXJyb3IuZ3JhcGhRTEVycm9ycy5tYXAoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFlLnBhdGggJiYgIWUuZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnM6IGUuZXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKGUuZXJyb3IubmV0d29ya0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgdC5lcnJvci5uZXR3b3JrRXJyb3IgPSBcIlwiICsgZS5lcnJvci5uZXR3b3JrRXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgIH0pKGUsIHQpO1xuICAgICAgICAgIG5bci5rZXldID0gYTtcbiAgICAgICAgfVxuICAgICAgfSkpKHUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwID0geChpbnZhbGlkYXRlKShwKTtcbiAgICB9XG4gICAgcmV0dXJuIGcoWyB1LCBwIF0pO1xuICB9O1xuICBzc3IucmVzdG9yZURhdGEgPSBlID0+IHtcbiAgICBmb3IgKHZhciByIGluIGUpIHtcbiAgICAgIGlmIChudWxsICE9PSBuW3JdKSB7XG4gICAgICAgIG5bcl0gPSBlW3JdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc3NyLmV4dHJhY3REYXRhID0gKCkgPT4ge1xuICAgIHZhciBlID0ge307XG4gICAgZm9yICh2YXIgciBpbiBuKSB7XG4gICAgICBpZiAobnVsbCAhPSBuW3JdKSB7XG4gICAgICAgIGVbcl0gPSBuW3JdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfTtcbiAgaWYgKGUgJiYgZS5pbml0aWFsU3RhdGUpIHtcbiAgICBzc3IucmVzdG9yZURhdGEoZS5pbml0aWFsU3RhdGUpO1xuICB9XG4gIHJldHVybiBzc3I7XG59O1xuXG52YXIgc3Vic2NyaXB0aW9uRXhjaGFuZ2UgPSAoe2ZvcndhcmRTdWJzY3JpcHRpb246IGUsIGVuYWJsZUFsbE9wZXJhdGlvbnM6IHIsIGlzU3Vic2NyaXB0aW9uT3BlcmF0aW9uOiB0fSkgPT4gKHtjbGllbnQ6IGEsIGZvcndhcmQ6IGl9KSA9PiB7XG4gIHZhciB1ID0gdCB8fCAoZSA9PiBcInN1YnNjcmlwdGlvblwiID09PSBlLmtpbmQgfHwgISFyICYmIChcInF1ZXJ5XCIgPT09IGUua2luZCB8fCBcIm11dGF0aW9uXCIgPT09IGUua2luZCkpO1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSB3KCh0ID0+IHtcbiAgICAgIHZhciB7a2V5OiBpfSA9IHQ7XG4gICAgICB2YXIgdSA9IGsoKGUgPT4gXCJ0ZWFyZG93blwiID09PSBlLmtpbmQgJiYgZS5rZXkgPT09IGkpKShyKTtcbiAgICAgIHJldHVybiBPKHUpKChyID0+IHtcbiAgICAgICAgdmFyIHQgPSBlKG8ociksIHIpO1xuICAgICAgICByZXR1cm4gRSgoZSA9PiB7XG4gICAgICAgICAgdmFyIGkgPSAhMTtcbiAgICAgICAgICB2YXIgbztcbiAgICAgICAgICB2YXIgdTtcbiAgICAgICAgICBmdW5jdGlvbiBuZXh0UmVzdWx0KHQpIHtcbiAgICAgICAgICAgIGUubmV4dCh1ID0gdSA/IGModSwgdCkgOiBuKHIsIHQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbyA9IHQuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgbmV4dDogbmV4dFJlc3VsdCxcbiAgICAgICAgICAgICAgZXJyb3IodCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgICAgICAgICAgICAgICBuZXh0UmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiB0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZS5uZXh0KHMociwgdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgIGlmICghaSkge1xuICAgICAgICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgICAgICAgaWYgKFwic3Vic2NyaXB0aW9uXCIgPT09IHIua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBhLnJlZXhlY3V0ZU9wZXJhdGlvbihtYWtlT3BlcmF0aW9uKFwidGVhcmRvd25cIiwgciwgci5jb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAodSAmJiB1Lmhhc05leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgaGFzTmV4dDogITFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgIG8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgICB9KSh0KSk7XG4gICAgfSkpKGsoKGUgPT4gXCJ0ZWFyZG93blwiICE9PSBlLmtpbmQgJiYgdShlKSkpKHIpKTtcbiAgICB2YXIgcCA9IGkoaygoZSA9PiBcInRlYXJkb3duXCIgPT09IGUua2luZCB8fCAhdShlKSkpKHIpKTtcbiAgICByZXR1cm4gZyhbIHQsIHAgXSk7XG4gIH07XG59O1xuXG52YXIgZGVidWdFeGNoYW5nZSA9ICh7Zm9yd2FyZDogZX0pID0+IHtcbiAgaWYgKFwicHJvZHVjdGlvblwiID09PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHJldHVybiByID0+IGUocik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHIgPT4geCgoZSA9PiBjb25zb2xlLmxvZyhcIltFeGNoYW5nZSBkZWJ1Z106IENvbXBsZXRlZCBvcGVyYXRpb246IFwiLCBlKSkpKGUoeCgoZSA9PiBjb25zb2xlLmxvZyhcIltFeGNoYW5nZSBkZWJ1Z106IEluY29taW5nIG9wZXJhdGlvbjogXCIsIGUpKSkocikpKTtcbiAgfVxufTtcblxudmFyIGZldGNoRXhjaGFuZ2UgPSAoe2ZvcndhcmQ6IGUsIGRpc3BhdGNoRGVidWc6IHJ9KSA9PiB0ID0+IHtcbiAgdmFyIG4gPSB3KChlID0+IHtcbiAgICB2YXIgbiA9IG8oZSk7XG4gICAgdmFyIGEgPSB1KGUsIG4pO1xuICAgIHZhciBpID0gcChlLCBuKTtcbiAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgcih7XG4gICAgICB0eXBlOiBcImZldGNoUmVxdWVzdFwiLFxuICAgICAgbWVzc2FnZTogXCJBIGZldGNoIHJlcXVlc3QgaXMgYmVpbmcgZXhlY3V0ZWQuXCIsXG4gICAgICBvcGVyYXRpb246IGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVybDogYSxcbiAgICAgICAgZmV0Y2hPcHRpb25zOiBpXG4gICAgICB9LFxuICAgICAgc291cmNlOiBcImZldGNoRXhjaGFuZ2VcIlxuICAgIH0pO1xuICAgIHZhciBzID0gTyhrKChyID0+IFwidGVhcmRvd25cIiA9PT0gci5raW5kICYmIHIua2V5ID09PSBlLmtleSkpKHQpKShkKGUsIGEsIGkpKTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICByZXR1cm4gYigodCA9PiB7XG4gICAgICAgIHZhciBuID0gIXQuZGF0YSA/IHQuZXJyb3IgOiB2b2lkIDA7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiByKHtcbiAgICAgICAgICB0eXBlOiBuID8gXCJmZXRjaEVycm9yXCIgOiBcImZldGNoU3VjY2Vzc1wiLFxuICAgICAgICAgIG1lc3NhZ2U6IGBBICR7biA/IFwiZmFpbGVkXCIgOiBcInN1Y2Nlc3NmdWxcIn0gZmV0Y2ggcmVzcG9uc2UgaGFzIGJlZW4gcmV0dXJuZWQuYCxcbiAgICAgICAgICBvcGVyYXRpb246IGUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXJsOiBhLFxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zOiBpLFxuICAgICAgICAgICAgdmFsdWU6IG4gfHwgdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc291cmNlOiBcImZldGNoRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgIH0pKShzKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH0pKShrKChlID0+IFwidGVhcmRvd25cIiAhPT0gZS5raW5kICYmIChcInN1YnNjcmlwdGlvblwiICE9PSBlLmtpbmQgfHwgISFlLmNvbnRleHQuZmV0Y2hTdWJzY3JpcHRpb25zKSkpKHQpKTtcbiAgdmFyIGEgPSBlKGsoKGUgPT4gXCJ0ZWFyZG93blwiID09PSBlLmtpbmQgfHwgXCJzdWJzY3JpcHRpb25cIiA9PT0gZS5raW5kICYmICFlLmNvbnRleHQuZmV0Y2hTdWJzY3JpcHRpb25zKSkodCkpO1xuICByZXR1cm4gZyhbIG4sIGEgXSk7XG59O1xuXG52YXIgY29tcG9zZUV4Y2hhbmdlcyA9IGUgPT4gKHtjbGllbnQ6IHIsIGZvcndhcmQ6IHQsIGRpc3BhdGNoRGVidWc6IG59KSA9PiBlLnJlZHVjZVJpZ2h0KCgoZSwgdCkgPT4ge1xuICB2YXIgYSA9ICExO1xuICByZXR1cm4gdCh7XG4gICAgY2xpZW50OiByLFxuICAgIGZvcndhcmQocikge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICBpZiAoYSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZvcndhcmQoKSBtdXN0IG9ubHkgYmUgY2FsbGVkIG9uY2UgaW4gZWFjaCBFeGNoYW5nZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgYSA9ICEwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE4oZShOKHIpKSk7XG4gICAgfSxcbiAgICBkaXNwYXRjaERlYnVnKGUpIHtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBuKHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBzb3VyY2U6IHQubmFtZSxcbiAgICAgICAgLi4uZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pLCB0KTtcblxudmFyIG1hcEV4Y2hhbmdlID0gKHtvbk9wZXJhdGlvbjogZSwgb25SZXN1bHQ6IHIsIG9uRXJyb3I6IHR9KSA9PiAoe2ZvcndhcmQ6IG59KSA9PiBhID0+IHcoKGUgPT4ge1xuICBpZiAodCAmJiBlLmVycm9yKSB7XG4gICAgdChlLmVycm9yLCBlLm9wZXJhdGlvbik7XG4gIH1cbiAgdmFyIG4gPSByICYmIHIoZSkgfHwgZTtcbiAgcmV0dXJuIFwidGhlblwiIGluIG4gPyBxKG4pIDogXyhuKTtcbn0pKShuKHcoKHIgPT4ge1xuICB2YXIgdCA9IGUgJiYgZShyKSB8fCByO1xuICByZXR1cm4gXCJ0aGVuXCIgaW4gdCA/IHEodCkgOiBfKHQpO1xufSkpKGEpKSk7XG5cbnZhciBmYWxsYmFja0V4Y2hhbmdlID0gKHtkaXNwYXRjaERlYnVnOiBlfSkgPT4gciA9PiB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICByID0geCgociA9PiB7XG4gICAgICBpZiAoXCJ0ZWFyZG93blwiICE9PSByLmtpbmQgJiYgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIHZhciB0ID0gYE5vIGV4Y2hhbmdlIGhhcyBoYW5kbGVkIG9wZXJhdGlvbnMgb2Yga2luZCBcIiR7ci5raW5kfVwiLiBDaGVjayB3aGV0aGVyIHlvdSd2ZSBhZGRlZCBhbiBleGNoYW5nZSByZXNwb25zaWJsZSBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5gO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgZSh7XG4gICAgICAgICAgdHlwZTogXCJmYWxsYmFja0NhdGNoXCIsXG4gICAgICAgICAgbWVzc2FnZTogdCxcbiAgICAgICAgICBvcGVyYXRpb246IHIsXG4gICAgICAgICAgc291cmNlOiBcImZhbGxiYWNrRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS53YXJuKHQpO1xuICAgICAgfVxuICAgIH0pKShyKTtcbiAgfVxuICByZXR1cm4gaygoZSA9PiAhMSkpKHIpO1xufTtcblxudmFyIEMgPSBmdW5jdGlvbiBDbGllbnQoZSkge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmICFlLnVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgY3JlYXRpbmcgYW4gdXJxbC1jbGllbnQgd2l0aG91dCBhIHVybC5cIik7XG4gIH1cbiAgdmFyIHIgPSAwO1xuICB2YXIgdCA9IG5ldyBNYXA7XG4gIHZhciBuID0gbmV3IE1hcDtcbiAgdmFyIGEgPSBuZXcgU2V0O1xuICB2YXIgaSA9IFtdO1xuICB2YXIgbyA9IHtcbiAgICB1cmw6IGUudXJsLFxuICAgIGZldGNoU3Vic2NyaXB0aW9uczogZS5mZXRjaFN1YnNjcmlwdGlvbnMsXG4gICAgZmV0Y2hPcHRpb25zOiBlLmZldGNoT3B0aW9ucyxcbiAgICBmZXRjaDogZS5mZXRjaCxcbiAgICBwcmVmZXJHZXRNZXRob2Q6IGUucHJlZmVyR2V0TWV0aG9kLFxuICAgIHJlcXVlc3RQb2xpY3k6IGUucmVxdWVzdFBvbGljeSB8fCBcImNhY2hlLWZpcnN0XCJcbiAgfTtcbiAgdmFyIHMgPSBEKCk7XG4gIGZ1bmN0aW9uIG5leHRPcGVyYXRpb24oZSkge1xuICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUua2luZCB8fCBcInRlYXJkb3duXCIgPT09IGUua2luZCB8fCAhYS5oYXMoZS5rZXkpKSB7XG4gICAgICBpZiAoXCJ0ZWFyZG93blwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgYS5kZWxldGUoZS5rZXkpO1xuICAgICAgfSBlbHNlIGlmIChcIm11dGF0aW9uXCIgIT09IGUua2luZCkge1xuICAgICAgICBhLmFkZChlLmtleSk7XG4gICAgICB9XG4gICAgICBzLm5leHQoZSk7XG4gICAgfVxuICB9XG4gIHZhciBjID0gITE7XG4gIGZ1bmN0aW9uIGRpc3BhdGNoT3BlcmF0aW9uKGUpIHtcbiAgICBpZiAoZSkge1xuICAgICAgbmV4dE9wZXJhdGlvbihlKTtcbiAgICB9XG4gICAgaWYgKCFjKSB7XG4gICAgICBjID0gITA7XG4gICAgICB3aGlsZSAoYyAmJiAoZSA9IGkuc2hpZnQoKSkpIHtcbiAgICAgICAgbmV4dE9wZXJhdGlvbihlKTtcbiAgICAgIH1cbiAgICAgIGMgPSAhMTtcbiAgICB9XG4gIH1cbiAgdmFyIG1ha2VSZXN1bHRTb3VyY2UgPSBlID0+IHtcbiAgICB2YXIgciA9IE8oaygociA9PiBcInRlYXJkb3duXCIgPT09IHIua2luZCAmJiByLmtleSA9PT0gZS5rZXkpKShzLnNvdXJjZSkpKGsoKHIgPT4gci5vcGVyYXRpb24ua2luZCA9PT0gZS5raW5kICYmIHIub3BlcmF0aW9uLmtleSA9PT0gZS5rZXkgJiYgKCFyLm9wZXJhdGlvbi5jb250ZXh0Ll9pbnN0YW5jZSB8fCByLm9wZXJhdGlvbi5jb250ZXh0Ll9pbnN0YW5jZSA9PT0gZS5jb250ZXh0Ll9pbnN0YW5jZSkpKShFKSk7XG4gICAgaWYgKFwicXVlcnlcIiAhPT0gZS5raW5kKSB7XG4gICAgICByID0gQSgoZSA9PiAhIWUuaGFzTmV4dCksICEwKShyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IFIoKHIgPT4ge1xuICAgICAgICB2YXIgdCA9IF8ocik7XG4gICAgICAgIHJldHVybiByLnN0YWxlIHx8IHIuaGFzTmV4dCA/IHQgOiBnKFsgdCwgbSgoKCkgPT4ge1xuICAgICAgICAgIHIuc3RhbGUgPSAhMDtcbiAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSkpKGgoMSkoaygociA9PiByLmtleSA9PT0gZS5rZXkpKShzLnNvdXJjZSkpKSBdKTtcbiAgICAgIH0pKShyKTtcbiAgICB9XG4gICAgaWYgKFwibXV0YXRpb25cIiAhPT0gZS5raW5kKSB7XG4gICAgICByID0gTSgoKCkgPT4ge1xuICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIHQuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgbi5kZWxldGUoZS5rZXkpO1xuICAgICAgICBjID0gITE7XG4gICAgICAgIGZvciAodmFyIHIgPSBpLmxlbmd0aCAtIDE7IHIgPj0gMDsgci0tKSB7XG4gICAgICAgICAgaWYgKGlbcl0ua2V5ID09PSBlLmtleSkge1xuICAgICAgICAgICAgaS5zcGxpY2UociwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHRPcGVyYXRpb24obWFrZU9wZXJhdGlvbihcInRlYXJkb3duXCIsIGUsIGUuY29udGV4dCkpO1xuICAgICAgfSkpKGIoKHIgPT4ge1xuICAgICAgICBpZiAoci5zdGFsZSkge1xuICAgICAgICAgIGlmICghci5oYXNOZXh0KSB7XG4gICAgICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgaS5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgICB2YXIgbyA9IGlbbl07XG4gICAgICAgICAgICAgIGlmIChvLmtleSA9PT0gci5vcGVyYXRpb24ua2V5KSB7XG4gICAgICAgICAgICAgICAgYS5kZWxldGUoby5rZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFyLmhhc05leHQpIHtcbiAgICAgICAgICBhLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdC5zZXQoZS5rZXksIHIpO1xuICAgICAgfSkpKHIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IFAoKCgpID0+IHtcbiAgICAgICAgbmV4dE9wZXJhdGlvbihlKTtcbiAgICAgIH0pKShyKTtcbiAgICB9XG4gICAgcmV0dXJuIE4ocik7XG4gIH07XG4gIHZhciB1ID0gdGhpcyBpbnN0YW5jZW9mIENsaWVudCA/IHRoaXMgOiBPYmplY3QuY3JlYXRlKENsaWVudC5wcm90b3R5cGUpO1xuICB2YXIgcCA9IE9iamVjdC5hc3NpZ24odSwge1xuICAgIHN1c3BlbnNlOiAhIWUuc3VzcGVuc2UsXG4gICAgb3BlcmF0aW9ucyQ6IHMuc291cmNlLFxuICAgIHJlZXhlY3V0ZU9wZXJhdGlvbihlKSB7XG4gICAgICBpZiAoXCJ0ZWFyZG93blwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgZGlzcGF0Y2hPcGVyYXRpb24oZSk7XG4gICAgICB9IGVsc2UgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5raW5kKSB7XG4gICAgICAgIGkucHVzaChlKTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihkaXNwYXRjaE9wZXJhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKG4uaGFzKGUua2V5KSkge1xuICAgICAgICB2YXIgciA9ICExO1xuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGkubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICBpZiAoaVt0XS5rZXkgPT09IGUua2V5KSB7XG4gICAgICAgICAgICBpW3RdID0gZTtcbiAgICAgICAgICAgIHIgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEociB8fCBhLmhhcyhlLmtleSkgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kpKSB7XG4gICAgICAgICAgaS5wdXNoKGUpO1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZGlzcGF0Y2hPcGVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGEuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGRpc3BhdGNoT3BlcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihlLCB0LCBuKSB7XG4gICAgICBpZiAoIW4pIHtcbiAgICAgICAgbiA9IHt9O1xuICAgICAgfVxuICAgICAgdmFyIGE7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIFwidGVhcmRvd25cIiAhPT0gZSAmJiAoYSA9IGwodC5xdWVyeSkpICE9PSBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgb3BlcmF0aW9uIG9mIHR5cGUgXCIke2V9XCIgYnV0IGZvdW5kIFwiJHthfVwiYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZU9wZXJhdGlvbihlLCB0LCB7XG4gICAgICAgIF9pbnN0YW5jZTogXCJtdXRhdGlvblwiID09PSBlID8gciA9IHIgKyAxIHwgMCA6IHZvaWQgMCxcbiAgICAgICAgLi4ubyxcbiAgICAgICAgLi4ubixcbiAgICAgICAgcmVxdWVzdFBvbGljeTogbi5yZXF1ZXN0UG9saWN5IHx8IG8ucmVxdWVzdFBvbGljeSxcbiAgICAgICAgc3VzcGVuc2U6IG4uc3VzcGVuc2UgfHwgITEgIT09IG4uc3VzcGVuc2UgJiYgcC5zdXNwZW5zZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBleGVjdXRlUmVxdWVzdE9wZXJhdGlvbihlKSB7XG4gICAgICBpZiAoXCJtdXRhdGlvblwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhQcm9taXNlKG1ha2VSZXN1bHRTb3VyY2UoZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpdGhQcm9taXNlKFMoKCgpID0+IHtcbiAgICAgICAgdmFyIHIgPSBuLmdldChlLmtleSk7XG4gICAgICAgIGlmICghcikge1xuICAgICAgICAgIG4uc2V0KGUua2V5LCByID0gbWFrZVJlc3VsdFNvdXJjZShlKSk7XG4gICAgICAgIH1cbiAgICAgICAgciA9IFAoKCgpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaE9wZXJhdGlvbihlKTtcbiAgICAgICAgfSkpKHIpO1xuICAgICAgICB2YXIgYSA9IHQuZ2V0KGUua2V5KTtcbiAgICAgICAgaWYgKFwicXVlcnlcIiA9PT0gZS5raW5kICYmIGEgJiYgKGEuc3RhbGUgfHwgYS5oYXNOZXh0KSkge1xuICAgICAgICAgIHJldHVybiBSKF8pKGcoWyByLCBrKChyID0+IHIgPT09IHQuZ2V0KGUua2V5KSkpKF8oYSkpIF0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgfSkpKTtcbiAgICB9LFxuICAgIGV4ZWN1dGVRdWVyeShlLCByKSB7XG4gICAgICB2YXIgdCA9IHAuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcInF1ZXJ5XCIsIGUsIHIpO1xuICAgICAgcmV0dXJuIHAuZXhlY3V0ZVJlcXVlc3RPcGVyYXRpb24odCk7XG4gICAgfSxcbiAgICBleGVjdXRlU3Vic2NyaXB0aW9uKGUsIHIpIHtcbiAgICAgIHZhciB0ID0gcC5jcmVhdGVSZXF1ZXN0T3BlcmF0aW9uKFwic3Vic2NyaXB0aW9uXCIsIGUsIHIpO1xuICAgICAgcmV0dXJuIHAuZXhlY3V0ZVJlcXVlc3RPcGVyYXRpb24odCk7XG4gICAgfSxcbiAgICBleGVjdXRlTXV0YXRpb24oZSwgcikge1xuICAgICAgdmFyIHQgPSBwLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJtdXRhdGlvblwiLCBlLCByKTtcbiAgICAgIHJldHVybiBwLmV4ZWN1dGVSZXF1ZXN0T3BlcmF0aW9uKHQpO1xuICAgIH0sXG4gICAgcmVhZFF1ZXJ5KGUsIHIsIHQpIHtcbiAgICAgIHZhciBuID0gbnVsbDtcbiAgICAgIHkoKGUgPT4ge1xuICAgICAgICBuID0gZTtcbiAgICAgIH0pKShwLnF1ZXJ5KGUsIHIsIHQpKS51bnN1YnNjcmliZSgpO1xuICAgICAgcmV0dXJuIG47XG4gICAgfSxcbiAgICBxdWVyeTogKGUsIHIsIHQpID0+IHAuZXhlY3V0ZVF1ZXJ5KHYoZSwgciksIHQpLFxuICAgIHN1YnNjcmlwdGlvbjogKGUsIHIsIHQpID0+IHAuZXhlY3V0ZVN1YnNjcmlwdGlvbih2KGUsIHIpLCB0KSxcbiAgICBtdXRhdGlvbjogKGUsIHIsIHQpID0+IHAuZXhlY3V0ZU11dGF0aW9uKHYoZSwgciksIHQpXG4gIH0pO1xuICB2YXIgZCA9IG5vb3A7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICB2YXIge25leHQ6IGYsIHNvdXJjZTogeH0gPSBEKCk7XG4gICAgcC5zdWJzY3JpYmVUb0RlYnVnVGFyZ2V0ID0gZSA9PiB5KGUpKHgpO1xuICAgIGQgPSBmO1xuICB9XG4gIHZhciB3ID0gY29tcG9zZUV4Y2hhbmdlcyhlLmV4Y2hhbmdlcyk7XG4gIHZhciBFID0gTih3KHtcbiAgICBjbGllbnQ6IHAsXG4gICAgZGlzcGF0Y2hEZWJ1ZzogZCxcbiAgICBmb3J3YXJkOiBmYWxsYmFja0V4Y2hhbmdlKHtcbiAgICAgIGRpc3BhdGNoRGVidWc6IGRcbiAgICB9KVxuICB9KShzLnNvdXJjZSkpO1xuICBWKEUpO1xuICByZXR1cm4gcDtcbn07XG5cbnZhciBRID0gQztcblxuZXhwb3J0IHsgQyBhcyBDbGllbnQsIGEgYXMgQ29tYmluZWRFcnJvciwgY2FjaGVFeGNoYW5nZSwgY29tcG9zZUV4Y2hhbmdlcywgUSBhcyBjcmVhdGVDbGllbnQsIHYgYXMgY3JlYXRlUmVxdWVzdCwgZGVidWdFeGNoYW5nZSwgbWFwRXhjaGFuZ2UgYXMgZXJyb3JFeGNoYW5nZSwgZmV0Y2hFeGNoYW5nZSwgZm9ybWF0RG9jdW1lbnQsIGdxbCwgcyBhcyBtYWtlRXJyb3JSZXN1bHQsIG1ha2VPcGVyYXRpb24sIG4gYXMgbWFrZVJlc3VsdCwgbWFwRXhjaGFuZ2UsIGMgYXMgbWVyZ2VSZXN1bHRQYXRjaCwgc3NyRXhjaGFuZ2UsIHQgYXMgc3RyaW5naWZ5RG9jdW1lbnQsIHN1YnNjcmlwdGlvbkV4Y2hhbmdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWNvcmUubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@urql/core/dist/urql-core.mjs\n");

/***/ })

};
;